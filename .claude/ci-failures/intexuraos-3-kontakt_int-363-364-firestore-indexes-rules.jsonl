{"ts":"2026-01-26T09:12:33.787Z","project":"intexuraos-3","branch":"kontakt/int-363-364-firestore-indexes-rules","runNumber":1,"passed":false,"durationMs":19852,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T09:14:57.947Z","project":"intexuraos-3","branch":"kontakt/int-363-364-firestore-indexes-rules","runNumber":2,"passed":false,"durationMs":84414,"failureCount":35,"failures":[{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":52,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'userId' &&","context":" 50:       const index = codeTasksIndexes.find((idx) =>\n 51:         idx.fields.length === 3 &&\n>52:         idx.fields[0].fieldPath === 'userId' &&\n 53:         idx.fields[1].fieldPath === 'status' &&\n 54:         idx.fields[2].fieldPath === 'createdAt' &&"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":53,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].fieldPath === 'status' &&","context":" 51:         idx.fields.length === 3 &&\n 52:         idx.fields[0].fieldPath === 'userId' &&\n>53:         idx.fields[1].fieldPath === 'status' &&\n 54:         idx.fields[2].fieldPath === 'createdAt' &&\n 55:         idx.fields[2].order === 'DESCENDING'"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":54,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[2].fieldPath === 'createdAt' &&","context":" 52:         idx.fields[0].fieldPath === 'userId' &&\n 53:         idx.fields[1].fieldPath === 'status' &&\n>54:         idx.fields[2].fieldPath === 'createdAt' &&\n 55:         idx.fields[2].order === 'DESCENDING'\n 56:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":55,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[2].order === 'DESCENDING'","context":" 53:         idx.fields[1].fieldPath === 'status' &&\n 54:         idx.fields[2].fieldPath === 'createdAt' &&\n>55:         idx.fields[2].order === 'DESCENDING'\n 56:       );\n 57:       expect(index).toBeDefined();"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":63,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'dedupKey' &&","context":" 61:       const index = codeTasksIndexes.find((idx) =>\n 62:         idx.fields.length === 2 &&\n>63:         idx.fields[0].fieldPath === 'dedupKey' &&\n 64:         idx.fields[1].fieldPath === 'createdAt' &&\n 65:         idx.fields[1].order === 'DESCENDING'"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":64,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].fieldPath === 'createdAt' &&","context":" 62:         idx.fields.length === 2 &&\n 63:         idx.fields[0].fieldPath === 'dedupKey' &&\n>64:         idx.fields[1].fieldPath === 'createdAt' &&\n 65:         idx.fields[1].order === 'DESCENDING'\n 66:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":65,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].order === 'DESCENDING'","context":" 63:         idx.fields[0].fieldPath === 'dedupKey' &&\n 64:         idx.fields[1].fieldPath === 'createdAt' &&\n>65:         idx.fields[1].order === 'DESCENDING'\n 66:       );\n 67:       expect(index).toBeDefined();"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":73,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'dedupKey' &&","context":" 71:       const index = codeTasksIndexes.find((idx) =>\n 72:         idx.fields.length === 2 &&\n>73:         idx.fields[0].fieldPath === 'dedupKey' &&\n 74:         idx.fields[1].fieldPath === 'createdAt' &&\n 75:         idx.fields[1].order === 'ASCENDING'"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":74,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].fieldPath === 'createdAt' &&","context":" 72:         idx.fields.length === 2 &&\n 73:         idx.fields[0].fieldPath === 'dedupKey' &&\n>74:         idx.fields[1].fieldPath === 'createdAt' &&\n 75:         idx.fields[1].order === 'ASCENDING'\n 76:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":75,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].order === 'ASCENDING'","context":" 73:         idx.fields[0].fieldPath === 'dedupKey' &&\n 74:         idx.fields[1].fieldPath === 'createdAt' &&\n>75:         idx.fields[1].order === 'ASCENDING'\n 76:       );\n 77:       expect(index).toBeDefined();"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":83,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'userId' &&","context":" 81:       const index = codeTasksIndexes.find((idx) =>\n 82:         idx.fields.length === 2 &&\n>83:         idx.fields[0].fieldPath === 'userId' &&\n 84:         idx.fields[1].fieldPath === 'createdAt' &&\n 85:         idx.fields[1].order === 'DESCENDING'"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":84,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].fieldPath === 'createdAt' &&","context":" 82:         idx.fields.length === 2 &&\n 83:         idx.fields[0].fieldPath === 'userId' &&\n>84:         idx.fields[1].fieldPath === 'createdAt' &&\n 85:         idx.fields[1].order === 'DESCENDING'\n 86:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":85,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].order === 'DESCENDING'","context":" 83:         idx.fields[0].fieldPath === 'userId' &&\n 84:         idx.fields[1].fieldPath === 'createdAt' &&\n>85:         idx.fields[1].order === 'DESCENDING'\n 86:       );\n 87:       expect(index).toBeDefined();"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":93,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'status' &&","context":" 91:       const index = codeTasksIndexes.find((idx) =>\n 92:         idx.fields.length === 2 &&\n>93:         idx.fields[0].fieldPath === 'status' &&\n 94:         idx.fields[1].fieldPath === 'updatedAt' &&\n 95:         idx.fields[1].order === 'ASCENDING'"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":94,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].fieldPath === 'updatedAt' &&","context":" 92:         idx.fields.length === 2 &&\n 93:         idx.fields[0].fieldPath === 'status' &&\n>94:         idx.fields[1].fieldPath === 'updatedAt' &&\n 95:         idx.fields[1].order === 'ASCENDING'\n 96:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":95,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].order === 'ASCENDING'","context":" 93:         idx.fields[0].fieldPath === 'status' &&\n 94:         idx.fields[1].fieldPath === 'updatedAt' &&\n>95:         idx.fields[1].order === 'ASCENDING'\n 96:       );\n 97:       expect(index).toBeDefined();"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":103,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'linearIssueId' &&","context":" 101:       const index = codeTasksIndexes.find((idx) =>\n 102:         idx.fields.length === 2 &&\n>103:         idx.fields[0].fieldPath === 'linearIssueId' &&\n 104:         idx.fields[1].fieldPath === 'status'\n 105:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":104,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].fieldPath === 'status'","context":" 102:         idx.fields.length === 2 &&\n 103:         idx.fields[0].fieldPath === 'linearIssueId' &&\n>104:         idx.fields[1].fieldPath === 'status'\n 105:       );\n 106:       expect(index).toBeDefined();"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":118,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'sequence' &&","context":" 116:       const index = logsIndexes.find((idx) =>\n 117:         idx.fields.length === 1 &&\n>118:         idx.fields[0].fieldPath === 'sequence' &&\n 119:         idx.fields[0].order === 'ASCENDING'\n 120:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":119,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].order === 'ASCENDING'","context":" 117:         idx.fields.length === 1 &&\n 118:         idx.fields[0].fieldPath === 'sequence' &&\n>119:         idx.fields[0].order === 'ASCENDING'\n 120:       );\n 121:       expect(index).toBeDefined();"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":134,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'userId' &&","context":" 132:       const hasIndex = codeTasksIndexes.some((idx) =>\n 133:         idx.fields.length === 3 &&\n>134:         idx.fields[0].fieldPath === 'userId' &&\n 135:         idx.fields[1].fieldPath === 'status' &&\n 136:         idx.fields[2].fieldPath === 'createdAt' &&"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":135,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].fieldPath === 'status' &&","context":" 133:         idx.fields.length === 3 &&\n 134:         idx.fields[0].fieldPath === 'userId' &&\n>135:         idx.fields[1].fieldPath === 'status' &&\n 136:         idx.fields[2].fieldPath === 'createdAt' &&\n 137:         idx.fields[2].order === 'DESCENDING'"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":136,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[2].fieldPath === 'createdAt' &&","context":" 134:         idx.fields[0].fieldPath === 'userId' &&\n 135:         idx.fields[1].fieldPath === 'status' &&\n>136:         idx.fields[2].fieldPath === 'createdAt' &&\n 137:         idx.fields[2].order === 'DESCENDING'\n 138:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":137,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[2].order === 'DESCENDING'","context":" 135:         idx.fields[1].fieldPath === 'status' &&\n 136:         idx.fields[2].fieldPath === 'createdAt' &&\n>137:         idx.fields[2].order === 'DESCENDING'\n 138:       );\n 139:       expect(hasIndex).toBe(true);"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":146,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'dedupKey' &&","context":" 144:       const hasIndex = codeTasksIndexes.some((idx) =>\n 145:         idx.fields.length === 2 &&\n>146:         idx.fields[0].fieldPath === 'dedupKey' &&\n 147:         idx.fields[1].fieldPath === 'createdAt' &&\n 148:         idx.fields[1].order === 'DESCENDING'"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":147,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].fieldPath === 'createdAt' &&","context":" 145:         idx.fields.length === 2 &&\n 146:         idx.fields[0].fieldPath === 'dedupKey' &&\n>147:         idx.fields[1].fieldPath === 'createdAt' &&\n 148:         idx.fields[1].order === 'DESCENDING'\n 149:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":148,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].order === 'DESCENDING'","context":" 146:         idx.fields[0].fieldPath === 'dedupKey' &&\n 147:         idx.fields[1].fieldPath === 'createdAt' &&\n>148:         idx.fields[1].order === 'DESCENDING'\n 149:       );\n 150:       expect(hasIndex).toBe(true);"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":157,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'status' &&","context":" 155:       const hasIndex = codeTasksIndexes.some((idx) =>\n 156:         idx.fields.length === 2 &&\n>157:         idx.fields[0].fieldPath === 'status' &&\n 158:         idx.fields[1].fieldPath === 'updatedAt' &&\n 159:         idx.fields[1].order === 'ASCENDING'"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":158,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].fieldPath === 'updatedAt' &&","context":" 156:         idx.fields.length === 2 &&\n 157:         idx.fields[0].fieldPath === 'status' &&\n>158:         idx.fields[1].fieldPath === 'updatedAt' &&\n 159:         idx.fields[1].order === 'ASCENDING'\n 160:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":159,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].order === 'ASCENDING'","context":" 157:         idx.fields[0].fieldPath === 'status' &&\n 158:         idx.fields[1].fieldPath === 'updatedAt' &&\n>159:         idx.fields[1].order === 'ASCENDING'\n 160:       );\n 161:       expect(hasIndex).toBe(true);"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":168,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'linearIssueId' &&","context":" 166:       const hasIndex = codeTasksIndexes.some((idx) =>\n 167:         idx.fields.length === 2 &&\n>168:         idx.fields[0].fieldPath === 'linearIssueId' &&\n 169:         idx.fields[1].fieldPath === 'status'\n 170:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":169,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[1].fieldPath === 'status'","context":" 167:         idx.fields.length === 2 &&\n 168:         idx.fields[0].fieldPath === 'linearIssueId' &&\n>169:         idx.fields[1].fieldPath === 'status'\n 170:       );\n 171:       expect(hasIndex).toBe(true);"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":181,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].fieldPath === 'sequence' &&","context":" 179:       const hasIndex = logsIndexes.some((idx) =>\n 180:         idx.fields.length === 1 &&\n>181:         idx.fields[0].fieldPath === 'sequence' &&\n 182:         idx.fields[0].order === 'ASCENDING'\n 183:       );"},{"type":"typecheck","code":"TS2532","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":182,"message":"Object is possibly 'undefined'.","snippet":"idx.fields[0].order === 'ASCENDING'","context":" 180:         idx.fields.length === 1 &&\n 181:         idx.fields[0].fieldPath === 'sequence' &&\n>182:         idx.fields[0].order === 'ASCENDING'\n 183:       );\n 184:       expect(hasIndex).toBe(true);"},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T09:17:53.723Z","project":"intexuraos-3","branch":"kontakt/int-363-364-firestore-indexes-rules","runNumber":3,"passed":false,"durationMs":81590,"failureCount":2,"failures":[{"type":"lint","code":"@typescript-eslint/array-type","file":"apps/code-agent/src/__tests__/firestore-rules/codeTasksIndexes.test.ts","line":25,"message":"Array type using 'Array<T>' is forbidden. Use 'T[]' instead","snippet":"fields: Array<{ fieldPath: string; order: 'ASCENDING' | 'DESCENDING' }>;","context":" 23:   collectionGroup: string;\n 24:   queryScope: string;\n>25:   fields: Array<{ fieldPath: string; order: 'ASCENDING' | 'DESCENDING' }>;\n 26: }\n 27: "},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
