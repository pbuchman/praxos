{"ts":"2026-01-11T15:04:24.558Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":1,"passed":false,"durationMs":7444,"failureCount":1,"failures":[{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"apps/web/src/pages/CompositeFeedFormPage.tsx","line":519,"message":"Unnecessary conditional, the types have no overlap","snippet":"{isEditMode && id !== undefined ? (","context":" 517:           </p>\n 518:         </div>\n>519:         {isEditMode && id !== undefined ? (\n 520:           <Link to={`/data-insights/${id}/visualizations`}>\n 521:             <Button type=\"button\" variant=\"secondary\">"}]}
{"ts":"2026-01-11T15:04:48.645Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":2,"passed":true,"durationMs":10544,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T15:10:49.779Z","project":"intexuraos-2","branch":"development","workspace":"infra-pubsub","runNumber":3,"passed":false,"durationMs":1059,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T15:10:59.012Z","project":"intexuraos-2","branch":"development","workspace":"todos-agent","runNumber":4,"passed":false,"durationMs":2819,"failureCount":1,"failures":[{"type":"typecheck","code":"TS2345","file":"apps/todos-agent/src/__tests__/testUtils.ts","line":88,"message":"Argument of type '{ todoRepository: FakeTodoRepository; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({ todoRepository: context.todoRepository });","context":" 86:     process.env['INTEXURAOS_INTERNAL_AUTH_TOKEN'] = 'test-internal-token';\n 87:     context.todoRepository = new FakeTodoRepository();\n>88:     setServices({ todoRepository: context.todoRepository });\n 89:     clearJwksCache();\n 90:     context.app = await buildServer();"}]}
{"ts":"2026-01-11T15:11:42.138Z","project":"intexuraos-2","branch":"development","workspace":"todos-agent","runNumber":5,"passed":false,"durationMs":6093,"failureCount":1,"failures":[{"type":"lint","code":"@typescript-eslint/no-invalid-void-type","file":"apps/todos-agent/src/__tests__/testUtils.ts","line":18,"message":"void is only valid as a return type or generic type argument","snippet":"}): Promise<{ ok: true; value: void }> {","context":" 16:     title: string;\n 17:     correlationId?: string;\n>18:   }): Promise<{ ok: true; value: void }> {\n 19:     this.publishedEvents.push(params);\n 20:     return { ok: true, value: undefined };"}]}
{"ts":"2026-01-11T15:12:03.063Z","project":"intexuraos-2","branch":"development","workspace":"todos-agent","runNumber":6,"passed":false,"durationMs":8690,"failureCount":1,"failures":[{"type":"coverage","code":"COVERAGE_THRESHOLD","file":"vitest.config.ts","line":0,"message":"lines: 89.7% < 95%","snippet":null,"context":null}]}
{"ts":"2026-01-11T15:13:24.809Z","project":"intexuraos-2","branch":"development","workspace":"todos-agent","runNumber":7,"passed":false,"durationMs":10122,"failureCount":1,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/todos-agent/src/__tests__/usecases.test.ts","line":0,"message":"processTodoCreated > returns error on update storage failure","snippet":null,"context":null}]}
{"ts":"2026-01-11T15:15:28.989Z","project":"intexuraos-2","branch":"development","workspace":"todos-agent","runNumber":8,"passed":false,"durationMs":6551,"failureCount":2,"failures":[{"type":"lint","code":"@typescript-eslint/no-unused-vars","file":"apps/web/src/components/VisualizationCard.tsx","line":2,"message":"'Clock' is defined but never used. Allowed unused vars must match /^_/u","snippet":"import { Edit2, Trash2, RefreshCw, AlertCircle, Clock } from 'lucide-react';","context":" 1: import { useState } from 'react';\n>2: import { Edit2, Trash2, RefreshCw, AlertCircle, Clock } from 'lucide-react';\n 3: import { Button, Card } from '@/components';\n 4: import type { Visualization } from '@/types';"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/web/src/components/VisualizationCard.tsx","line":127,"message":"Unsafe assignment of an error typed value","snippet":"<VegaChart spec={visualization.vegaSpec} data={feedData} onRenderError={handleRenderError} />","context":" 125:       ) : (\n 126:         <div className=\"rounded-lg border border-slate-200 bg-white p-4\">\n>127:           <VegaChart spec={visualization.vegaSpec} data={feedData} onRenderError={handleRenderError} />\n 128:         </div>\n 129:       )}"}]}
{"ts":"2026-01-11T15:17:02.947Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":9,"passed":true,"durationMs":37231,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T15:17:57.239Z","project":"intexuraos-2","branch":"development","workspace":"todos-agent","runNumber":10,"passed":true,"durationMs":8161,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T15:18:17.567Z","project":"intexuraos-2","branch":"development","runNumber":11,"passed":false,"durationMs":13424,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-11T15:20:28.336Z","project":"intexuraos-2","branch":"development","runNumber":12,"passed":true,"durationMs":105331,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T18:03:44.843Z","project":"intexuraos-2","branch":"development","runNumber":13,"passed":true,"durationMs":115409,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T18:10:17.816Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":14,"passed":true,"durationMs":7828,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T18:41:44.658Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":15,"passed":false,"durationMs":9177,"failureCount":1,"failures":[{"type":"lint","code":"@typescript-eslint/no-unused-vars","file":"apps/web/src/pages/ApiKeysSettingsPage.tsx","line":144,"message":"'testError' is assigned a value but never used. Allowed unused vars must match /^_/u","snippet":"const [testError, setTestError] = useState<string | null>(null);","context":" 142:   const [isSaving, setIsSaving] = useState(false);\n 143:   const [isTesting, setIsTesting] = useState(false);\n>144:   const [testError, setTestError] = useState<string | null>(null);\n 145:   const [saveSuccess, setSaveSuccess] = useState(false);\n 146: "}]}
{"ts":"2026-01-11T18:42:20.526Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":16,"passed":false,"durationMs":7084,"failureCount":3,"failures":[{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/web/src/pages/ApiKeysSettingsPage.tsx","line":177,"message":"Unsafe call of a(n) `error` type typed value","snippet":"setTestError(null);","context":" 175:     await onDelete();\n 176:     setShowDeleteConfirm(false);\n>177:     setTestError(null);\n 178:   };\n 179: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/web/src/pages/ApiKeysSettingsPage.tsx","line":182,"message":"Unsafe call of a(n) `error` type typed value","snippet":"setTestError(null);","context":" 180:   const handleTest = async (): Promise<void> => {\n 181:     setIsTesting(true);\n>182:     setTestError(null);\n 183: \n 184:     try {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/web/src/pages/ApiKeysSettingsPage.tsx","line":187,"message":"Unsafe call of a(n) `error` type typed value","snippet":"setTestError(err instanceof Error ? err.message : 'Test failed');","context":" 185:       await onTest();\n 186:     } catch (err) {\n>187:       setTestError(err instanceof Error ? err.message : 'Test failed');\n 188:     } finally {\n 189:       setIsTesting(false);"}]}
{"ts":"2026-01-11T18:42:50.577Z","project":"intexuraos-2","branch":"development","workspace":"user-service","runNumber":17,"passed":false,"durationMs":3731,"failureCount":16,"failures":[{"type":"typecheck","code":"TS2353","file":"apps/user-service/src/__tests__/fakes.ts","line":382,"message":"Object literal may only specify known properties, and 'response' does not exist in type 'LlmTestResult'.","snippet":"response: existingResult?.response ?? '',","context":" 380:       const existingResult = llmTestResults[provider];\n 381:       llmTestResults[provider] = {\n>382:         response: existingResult?.response ?? '',\n 383:         testedAt: now,\n 384:       };"},{"type":"typecheck","code":"TS2339","file":"apps/user-service/src/__tests__/fakes.ts","line":382,"message":"Property 'response' does not exist on type 'LlmTestResult'.","snippet":"response: existingResult?.response ?? '',","context":" 380:       const existingResult = llmTestResults[provider];\n 381:       llmTestResults[provider] = {\n>382:         response: existingResult?.response ?? '',\n 383:         testedAt: now,\n 384:       };"},{"type":"typecheck","code":"TS2353","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":93,"message":"Object literal may only specify known properties, and 'response' does not exist in type 'LlmTestResult'.","snippet":"response: 'Hello!',","context":" 91:       const testResult: LlmTestResult = {\n 92:         testedAt: new Date().toISOString(),\n>93:         response: 'Hello!',\n 94:       };\n 95:       const settings = createTestSettings({"},{"type":"typecheck","code":"TS2339","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":107,"message":"Property 'response' does not exist on type 'LlmTestResult'.","snippet":"expect(result.value.llmTestResults?.google?.response).toBe('Hello!');","context":" 105:       if (result.ok && result.value !== null) {\n 106:         expect(result.value.llmTestResults).toBeDefined();\n>107:         expect(result.value.llmTestResults?.google?.response).toBe('Hello!');\n 108:       }\n 109:     });"},{"type":"typecheck","code":"TS2353","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":178,"message":"Object literal may only specify known properties, and 'response' does not exist in type 'LlmTestResult'.","snippet":"response: 'Hello from GPT!',","context":" 176:       const testResult: LlmTestResult = {\n 177:         testedAt: new Date().toISOString(),\n>178:         response: 'Hello from GPT!',\n 179:       };\n 180:       const initialSettings = createTestSettings({"},{"type":"typecheck","code":"TS2339","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":198,"message":"Property 'response' does not exist on type 'LlmTestResult'.","snippet":"expect(result.value.llmTestResults?.openai?.response).toBe('Hello from GPT!');","context":" 196:       expect(result.ok).toBe(true);\n 197:       if (result.ok && result.value !== null) {\n>198:         expect(result.value.llmTestResults?.openai?.response).toBe('Hello from GPT!');\n 199:       }\n 200:     });"},{"type":"typecheck","code":"TS2353","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":279,"message":"Object literal may only specify known properties, and 'response' does not exist in type 'LlmTestResult'.","snippet":"response: 'Test passed',","context":" 277:       await repo.updateLlmApiKey('user-123', LlmProviders.Google, createEncryptedValue('key'));\n 278:       await repo.updateLlmTestResult('user-123', LlmProviders.Google, {\n>279:         response: 'Test passed',\n 280:         testedAt: new Date().toISOString(),\n 281:       });"},{"type":"typecheck","code":"TS2353","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":312,"message":"Object literal may only specify known properties, and 'response' does not exist in type 'LlmTestResult'.","snippet":"response: 'Test response',","context":" 310:       const testResult: LlmTestResult = {\n 311:         testedAt: new Date().toISOString(),\n>312:         response: 'Test response',\n 313:       };\n 314: "},{"type":"typecheck","code":"TS2339","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":323,"message":"Property 'response' does not exist on type 'LlmTestResult'.","snippet":"expect(stored.value.llmTestResults?.google?.response).toBe('Test response');","context":" 321:       if (stored.ok && stored.value !== null) {\n 322:         expect(stored.value.userId).toBe('new-user');\n>323:         expect(stored.value.llmTestResults?.google?.response).toBe('Test response');\n 324:       }\n 325:     });"},{"type":"typecheck","code":"TS2353","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":332,"message":"Object literal may only specify known properties, and 'response' does not exist in type 'LlmTestResult'.","snippet":"response: 'OpenAI response',","context":" 330:       const testResult: LlmTestResult = {\n 331:         testedAt: new Date().toISOString(),\n>332:         response: 'OpenAI response',\n 333:       };\n 334: "},{"type":"typecheck","code":"TS2339","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":342,"message":"Property 'response' does not exist on type 'LlmTestResult'.","snippet":"expect(stored.value.llmTestResults?.openai?.response).toBe('OpenAI response');","context":" 340:       expect(stored.ok).toBe(true);\n 341:       if (stored.ok && stored.value !== null) {\n>342:         expect(stored.value.llmTestResults?.openai?.response).toBe('OpenAI response');\n 343:       }\n 344:     });"},{"type":"typecheck","code":"TS2353","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":350,"message":"Object literal may only specify known properties, and 'response' does not exist in type 'LlmTestResult'.","snippet":"response: 'Test response',","context":" 348: \n 349:       const result = await repo.updateLlmTestResult('user-123', LlmProviders.Google, {\n>350:         response: 'Test response',\n 351:         testedAt: new Date().toISOString(),\n 352:       });"},{"type":"typecheck","code":"TS2339","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":373,"message":"Property 'response' does not exist on type 'LlmTestResult'.","snippet":"expect(stored.value.llmTestResults?.google?.response).toBe('');","context":" 371:         expect(stored.value.userId).toBe('new-user');\n 372:         expect(stored.value.llmTestResults?.google?.testedAt).toBeDefined();\n>373:         expect(stored.value.llmTestResults?.google?.response).toBe('');\n 374:       }\n 375:     });"},{"type":"typecheck","code":"TS2339","file":"apps/user-service/src/__tests__/llmKeysRoutes.test.ts","line":869,"message":"Property 'response' does not exist on type 'LlmTestResult'.","snippet":"expect(stored?.llmTestResults?.google?.response).toBe('Hello! I am Gemini Pro.');","context":" 867:       const stored = fakeSettingsRepo.getStoredSettings(userId);\n 868:       expect(stored?.llmTestResults?.google).toBeDefined();\n>869:       expect(stored?.llmTestResults?.google?.response).toBe('Hello! I am Gemini Pro.');\n 870:     });\n 871: "},{"type":"typecheck","code":"TS2339","file":"apps/user-service/src/__tests__/llmKeysRoutes.test.ts","line":910,"message":"Property 'error' does not exist on type 'LlmTestResult'.","snippet":"expect(stored?.llmTestResults?.google?.error).toBe('Test request failed');","context":" 908:       const stored = fakeSettingsRepo.getStoredSettings(userId);\n 909:       expect(stored?.llmTestResults?.google).toBeDefined();\n>910:       expect(stored?.llmTestResults?.google?.error).toBe('Test request failed');\n 911:       expect(stored?.llmTestResults?.google?.response).toBeUndefined();\n 912:     });"},{"type":"typecheck","code":"TS2339","file":"apps/user-service/src/__tests__/llmKeysRoutes.test.ts","line":911,"message":"Property 'response' does not exist on type 'LlmTestResult'.","snippet":"expect(stored?.llmTestResults?.google?.response).toBeUndefined();","context":" 909:       expect(stored?.llmTestResults?.google).toBeDefined();\n 910:       expect(stored?.llmTestResults?.google?.error).toBe('Test request failed');\n>911:       expect(stored?.llmTestResults?.google?.response).toBeUndefined();\n 912:     });\n 913: "}]}
{"ts":"2026-01-11T18:43:13.128Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":18,"passed":false,"durationMs":10710,"failureCount":2,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/data-insights-agent/src/__tests__/visualizationAnalysisService.test.ts","line":0,"message":"visualizationAnalysisService > generateContent > generates HTML content with insights and Vega-Lite spec","snippet":null,"context":null},{"type":"coverage","code":"COVERAGE_THRESHOLD","file":"vitest.config.ts","line":0,"message":"functions: 92.15% < 95%","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:43:43.164Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":19,"passed":false,"durationMs":9848,"failureCount":1,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/data-insights-agent/src/__tests__/visualizationAnalysisService.test.ts","line":0,"message":"visualizationAnalysisService > generateContent > generates HTML content with insights and Vega-Lite spec","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:44:41.418Z","project":"intexuraos-2","branch":"development","workspace":"user-service","runNumber":20,"passed":false,"durationMs":10799,"failureCount":3,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/user-service/src/__tests__/llmKeysRoutes.test.ts","line":0,"message":"LLM Keys Routes > POST /users/:uid/settings/llm-keys/:provider/test > returns test response for anthropic provider","snippet":null,"context":null},{"type":"test","code":"TEST_FAIL","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":0,"message":"FirestoreUserSettingsRepository > updateLlmLastUsed > creates new settings document if user does not exist","snippet":null,"context":null},{"type":"coverage","code":"COVERAGE_THRESHOLD","file":"vitest.config.ts","line":0,"message":"lines: 94.59% < 95%","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:44:59.480Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":21,"passed":true,"durationMs":8604,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T18:45:09.011Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":22,"passed":false,"durationMs":2919,"failureCount":3,"failures":[{"type":"typecheck","code":"TS2339","file":"src/pages/ResearchAgentPage.tsx","line":91,"message":"Property 'error' does not exist on type 'LlmTestResult'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2339","file":"src/pages/ResearchAgentPage.tsx","line":92,"message":"Property 'error' does not exist on type 'LlmTestResult'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2307","file":"src/utils/index.ts","line":1,"message":"Cannot find module './formatLlmError.js' or its corresponding type declarations.","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:45:21.827Z","project":"intexuraos-2","branch":"development","workspace":"user-service","runNumber":23,"passed":false,"durationMs":10582,"failureCount":3,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/user-service/src/__tests__/llmKeysRoutes.test.ts","line":0,"message":"LLM Keys Routes > POST /users/:uid/settings/llm-keys/:provider/test > returns test response for anthropic provider","snippet":null,"context":null},{"type":"test","code":"TEST_FAIL","file":"apps/user-service/src/__tests__/infra/userSettingsRepository.test.ts","line":0,"message":"FirestoreUserSettingsRepository > updateLlmLastUsed > creates new settings document if user does not exist","snippet":null,"context":null},{"type":"coverage","code":"COVERAGE_THRESHOLD","file":"vitest.config.ts","line":0,"message":"branches: 93.03% < 95%","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:46:17.979Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":24,"passed":true,"durationMs":7988,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T18:48:13.232Z","project":"intexuraos-2","branch":"development","workspace":"user-service","runNumber":25,"passed":false,"durationMs":11929,"failureCount":1,"failures":[{"type":"coverage","code":"COVERAGE_THRESHOLD","file":"vitest.config.ts","line":0,"message":"branches: 93.03% < 95%","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:49:59.588Z","project":"intexuraos-2","branch":"development","workspace":"user-service","runNumber":26,"passed":false,"durationMs":10470,"failureCount":1,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/user-service/src/__tests__/domain/settings/formatLlmError.test.ts","line":0,"message":"formatLlmError > Google/Gemini errors > handles INVALID_ARGUMENT without message","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:50:29.995Z","project":"intexuraos-2","branch":"development","workspace":"user-service","runNumber":27,"passed":false,"durationMs":9518,"failureCount":1,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/user-service/src/__tests__/domain/settings/formatLlmError.test.ts","line":0,"message":"formatLlmError > Google/Gemini errors > handles INVALID_ARGUMENT without message","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:51:15.627Z","project":"intexuraos-2","branch":"development","workspace":"user-service","runNumber":28,"passed":false,"durationMs":6461,"failureCount":8,"failures":[{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/user-service/src/domain/settings/formatLlmError.ts","line":92,"message":"Unexpected nullable string value in conditional. Please handle the nullish/empty cases explicitly","snippet":"return displayMessage || 'The API key is invalid or has expired';","context":" 90: \n 91:     if (errorInfo?.reason === 'API_KEY_INVALID') {\n>92:       return displayMessage || 'The API key is invalid or has expired';\n 93:     }\n 94: "},{"type":"lint","code":"@typescript-eslint/prefer-nullish-coalescing","file":"apps/user-service/src/domain/settings/formatLlmError.ts","line":92,"message":"Prefer using nullish coalescing operator (`??`) instead of a logical or (`||`), as it is a safer operator","snippet":"return displayMessage || 'The API key is invalid or has expired';","context":" 90: \n 91:     if (errorInfo?.reason === 'API_KEY_INVALID') {\n>92:       return displayMessage || 'The API key is invalid or has expired';\n 93:     }\n 94: "},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/user-service/src/domain/settings/formatLlmError.ts","line":96,"message":"Unexpected nullable string value in conditional. Please handle the nullish/empty cases explicitly","snippet":"return displayMessage || 'The API key does not exist';","context":" 94: \n 95:     if (errorInfo?.reason === 'API_KEY_NOT_FOUND') {\n>96:       return displayMessage || 'The API key does not exist';\n 97:     }\n 98: "},{"type":"lint","code":"@typescript-eslint/prefer-nullish-coalescing","file":"apps/user-service/src/domain/settings/formatLlmError.ts","line":96,"message":"Prefer using nullish coalescing operator (`??`) instead of a logical or (`||`), as it is a safer operator","snippet":"return displayMessage || 'The API key does not exist';","context":" 94: \n 95:     if (errorInfo?.reason === 'API_KEY_NOT_FOUND') {\n>96:       return displayMessage || 'The API key does not exist';\n 97:     }\n 98: "},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/user-service/src/domain/settings/formatLlmError.ts","line":100,"message":"Unexpected nullable string value in conditional. Please handle the nullish/empty cases explicitly","snippet":"return displayMessage || 'The API key lacks required permissions';","context":" 98: \n 99:     if (status === 'PERMISSION_DENIED' || code === 403) {\n>100:       return displayMessage || 'The API key lacks required permissions';\n 101:     }\n 102: "},{"type":"lint","code":"@typescript-eslint/prefer-nullish-coalescing","file":"apps/user-service/src/domain/settings/formatLlmError.ts","line":100,"message":"Prefer using nullish coalescing operator (`??`) instead of a logical or (`||`), as it is a safer operator","snippet":"return displayMessage || 'The API key lacks required permissions';","context":" 98: \n 99:     if (status === 'PERMISSION_DENIED' || code === 403) {\n>100:       return displayMessage || 'The API key lacks required permissions';\n 101:     }\n 102: "},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/user-service/src/domain/settings/formatLlmError.ts","line":112,"message":"Unexpected nullable string value in conditional. Please handle the nullish/empty cases explicitly","snippet":"return displayMessage || 'The request was invalid';","context":" 110: \n 111:     if (status === 'INVALID_ARGUMENT' || code === 400) {\n>112:       return displayMessage || 'The request was invalid';\n 113:     }\n 114: "},{"type":"lint","code":"@typescript-eslint/prefer-nullish-coalescing","file":"apps/user-service/src/domain/settings/formatLlmError.ts","line":112,"message":"Prefer using nullish coalescing operator (`??`) instead of a logical or (`||`), as it is a safer operator","snippet":"return displayMessage || 'The request was invalid';","context":" 110: \n 111:     if (status === 'INVALID_ARGUMENT' || code === 400) {\n>112:       return displayMessage || 'The request was invalid';\n 113:     }\n 114: "}]}
{"ts":"2026-01-11T18:51:41.640Z","project":"intexuraos-2","branch":"development","workspace":"user-service","runNumber":29,"passed":true,"durationMs":10823,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T18:52:06.500Z","project":"intexuraos-2","branch":"development","workspace":"research-agent","runNumber":30,"passed":false,"durationMs":10729,"failureCount":1,"failures":[{"type":"coverage","code":"COVERAGE_THRESHOLD","file":"vitest.config.ts","line":0,"message":"lines: 93.29% < 95%","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:52:56.860Z","project":"intexuraos-2","branch":"development","workspace":"research-agent","runNumber":31,"passed":false,"durationMs":11310,"failureCount":2,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/research-agent/src/__tests__/domain/research/formatLlmError.test.ts","line":0,"message":"formatLlmError > Google/Gemini errors > handles INVALID_ARGUMENT without message","snippet":null,"context":null},{"type":"coverage","code":"COVERAGE_THRESHOLD","file":"vitest.config.ts","line":0,"message":"branches: 89.95% < 95%","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:53:30.539Z","project":"intexuraos-2","branch":"development","workspace":"research-agent","runNumber":32,"passed":false,"durationMs":12342,"failureCount":1,"failures":[{"type":"coverage","code":"COVERAGE_THRESHOLD","file":"vitest.config.ts","line":0,"message":"branches: 90.15% < 95%","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:53:49.348Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":33,"passed":true,"durationMs":6150,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T18:54:14.061Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":34,"passed":false,"durationMs":2871,"failureCount":1,"failures":[{"type":"typecheck","code":"TS2307","file":"src/utils/index.ts","line":1,"message":"Cannot find module './formatLlmError.js' or its corresponding type declarations.","snippet":null,"context":null}]}
{"ts":"2026-01-11T18:54:35.835Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":35,"passed":true,"durationMs":7243,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T18:56:35.536Z","project":"intexuraos-2","branch":"development","runNumber":36,"passed":true,"durationMs":101761,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T19:05:26.116Z","project":"intexuraos-2","branch":"development","workspace":"whatsapp-service","runNumber":37,"passed":false,"durationMs":1779,"failureCount":3,"failures":[{"type":"typecheck","code":"TS2339","file":"src/domain/whatsapp/usecases/transcribeAudio.ts","line":181,"message":"Property 'warn' does not exist on type 'Logger'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2339","file":"src/domain/whatsapp/usecases/transcribeAudio.ts","line":273,"message":"Property 'warn' does not exist on type 'Logger'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2339","file":"src/domain/whatsapp/usecases/transcribeAudio.ts","line":327,"message":"Property 'warn' does not exist on type 'Logger'.","snippet":null,"context":null}]}
{"ts":"2026-01-11T19:06:40.812Z","project":"intexuraos-2","branch":"development","workspace":"whatsapp-service","runNumber":38,"passed":false,"durationMs":14991,"failureCount":1,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/whatsapp-service/src/__tests__/domain/whatsapp/formatSpeechmaticsError.test.ts","line":0,"message":"formatSpeechmaticsError > error truncation > truncates very long error messages","snippet":null,"context":null}]}
{"ts":"2026-01-11T19:07:19.756Z","project":"intexuraos-2","branch":"development","workspace":"whatsapp-service","runNumber":39,"passed":true,"durationMs":12639,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T19:07:30.738Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":40,"passed":true,"durationMs":5674,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T19:09:26.254Z","project":"intexuraos-2","branch":"development","runNumber":41,"passed":true,"durationMs":104196,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T19:16:30.600Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":42,"passed":true,"durationMs":10574,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T19:21:18.035Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":43,"passed":false,"durationMs":2877,"failureCount":1,"failures":[{"type":"typecheck","code":"TS2741","file":"src/pages/ApiKeysSettingsPage.tsx","line":112,"message":"Property 'response' is missing in type 'LlmTestResult' but required in type '{ response: string; testedAt: string; }'.","snippet":null,"context":null}]}
{"ts":"2026-01-11T19:21:35.471Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":44,"passed":false,"durationMs":2853,"failureCount":1,"failures":[{"type":"typecheck","code":"TS2322","file":"src/pages/ApiKeysSettingsPage.tsx","line":111,"message":"Type '() => Promise<LlmTestResult>' is not assignable to type '() => Promise<{ response: string; testedAt: string; }>'.","snippet":null,"context":null}]}
{"ts":"2026-01-11T19:22:30.405Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":45,"passed":true,"durationMs":7671,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T19:24:40.468Z","project":"intexuraos-2","branch":"development","runNumber":46,"passed":true,"durationMs":125000,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T22:57:29.472Z","project":"intexuraos-2","branch":"development","workspace":"user-service","runNumber":47,"passed":true,"durationMs":11799,"failureCount":0,"failures":[]}
{"ts":"2026-01-11T22:59:16.009Z","project":"intexuraos-2","branch":"development","runNumber":48,"passed":true,"durationMs":101133,"failureCount":0,"failures":[]}
{"ts":"2026-01-12T01:25:50.517Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":49,"passed":false,"durationMs":1668,"failureCount":17,"failures":[{"type":"typecheck","code":"TS2307","file":"src/domain/snapshot/usecases/refreshSnapshot.ts","line":18,"message":"Cannot find module '../../visualization/index.js' or its corresponding type declarations.","snippet":null,"context":null},{"type":"typecheck","code":"TS2307","file":"src/domain/snapshot/usecases/refreshSnapshot.ts","line":19,"message":"Cannot find module '../../visualization/index.js' or its corresponding type declarations.","snippet":null,"context":null},{"type":"typecheck","code":"TS7006","file":"src/domain/snapshot/usecases/refreshSnapshot.ts","line":131,"message":"Parameter 'result' implicitly has an 'any' type.","snippet":null,"context":null},{"type":"typecheck","code":"TS2349","file":"src/infra/gemini/chartDefinitionService.ts","line":92,"message":"This expression is not callable.","snippet":null,"context":null},{"type":"typecheck","code":"TS2349","file":"src/infra/gemini/dataAnalysisService.ts","line":89,"message":"This expression is not callable.","snippet":null,"context":null},{"type":"typecheck","code":"TS2349","file":"src/infra/gemini/dataTransformService.ts","line":86,"message":"This expression is not callable.","snippet":null,"context":null},{"type":"typecheck","code":"TS2322","file":"../../packages/llm-common/src/dataInsights/chartDefinitionPrompt.ts","line":46,"message":"Type '() => (input: any) => string' is not assignable to type 'PromptBuilder<ChartDefinitionPromptInput, ChartDefinitionPromptDeps>'.","snippet":null,"context":null},{"type":"typecheck","code":"TS7006","file":"../../packages/llm-common/src/dataInsights/chartDefinitionPrompt.ts","line":49,"message":"Parameter 'input' implicitly has an 'any' type.","snippet":null,"context":null},{"type":"typecheck","code":"TS2322","file":"../../packages/llm-common/src/dataInsights/dataTransformPrompt.ts","line":49,"message":"Type '() => (input: any) => string' is not assignable to type 'PromptBuilder<DataTransformPromptInput, DataTransformPromptDeps>'.","snippet":null,"context":null},{"type":"typecheck","code":"TS7006","file":"../../packages/llm-common/src/dataInsights/dataTransformPrompt.ts","line":52,"message":"Parameter 'input' implicitly has an 'any' type.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":40,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":41,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":38,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":39,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":40,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":41,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseTransformedData.ts","line":19,"message":"Object is possibly 'undefined'.","snippet":null,"context":null}]}
{"ts":"2026-01-12T01:28:29.204Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":50,"passed":false,"durationMs":1837,"failureCount":4,"failures":[{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":38,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":39,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":40,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":41,"message":"Object is possibly 'undefined'.","snippet":null,"context":null}]}
{"ts":"2026-01-12T01:29:06.216Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":51,"passed":false,"durationMs":1723,"failureCount":4,"failures":[{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":38,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":39,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":40,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":41,"message":"Object is possibly 'undefined'.","snippet":null,"context":null}]}
{"ts":"2026-01-12T01:29:42.829Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":52,"passed":false,"durationMs":1643,"failureCount":4,"failures":[{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":45,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":46,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":47,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":48,"message":"Object is possibly 'undefined'.","snippet":null,"context":null}]}
{"ts":"2026-01-12T01:30:31.764Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":53,"passed":false,"durationMs":1727,"failureCount":4,"failures":[{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":38,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":44,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":50,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":56,"message":"Object is possibly 'undefined'.","snippet":null,"context":null}]}
{"ts":"2026-01-12T01:30:58.933Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":54,"passed":false,"durationMs":1711,"failureCount":4,"failures":[{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":38,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":44,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":50,"message":"Object is possibly 'undefined'.","snippet":null,"context":null},{"type":"typecheck","code":"TS2532","file":"../../packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":56,"message":"Object is possibly 'undefined'.","snippet":null,"context":null}]}
{"ts":"2026-01-12T01:32:02.562Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":55,"passed":false,"durationMs":3189,"failureCount":15,"failures":[{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":11,"message":"Module '\"./fakes.js\"' has no exported member 'FakeVisualizationRepository'.","snippet":"FakeVisualizationRepository,","context":" 9:   FakeMobileNotificationsClient,\n 10:   FakeSnapshotRepository,\n>11:   FakeVisualizationRepository,\n 12:   FakeVisualizationGenerationService,\n 13: } from './fakes.js';"},{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":12,"message":"Module '\"./fakes.js\"' has no exported member 'FakeVisualizationGenerationService'.","snippet":"FakeVisualizationGenerationService,","context":" 10:   FakeSnapshotRepository,\n 11:   FakeVisualizationRepository,\n>12:   FakeVisualizationGenerationService,\n 13: } from './fakes.js';\n 14: "},{"type":"typecheck","code":"TS2353","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":56,"message":"Object literal may only specify known properties, and 'visualizationRepository' does not exist in type 'ServiceContainer'.","snippet":"visualizationRepository: fakeVisualizationRepo,","context":" 54:       mobileNotificationsClient: fakeMobileNotificationsClient,\n 55:       snapshotRepository: fakeSnapshotRepo,\n>56:       visualizationRepository: fakeVisualizationRepo,\n 57:       visualizationGenerationService: fakeVisualizationGenerationService,\n 58:     });"},{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":11,"message":"Module '\"./fakes.js\"' has no exported member 'FakeVisualizationRepository'.","snippet":"FakeVisualizationRepository,","context":" 9:   FakeMobileNotificationsClient,\n 10:   FakeSnapshotRepository,\n>11:   FakeVisualizationRepository,\n 12:   FakeVisualizationGenerationService,\n 13: } from './fakes.js';"},{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":12,"message":"Module '\"./fakes.js\"' has no exported member 'FakeVisualizationGenerationService'.","snippet":"FakeVisualizationGenerationService,","context":" 10:   FakeSnapshotRepository,\n 11:   FakeVisualizationRepository,\n>12:   FakeVisualizationGenerationService,\n 13: } from './fakes.js';\n 14: "},{"type":"typecheck","code":"TS2353","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":56,"message":"Object literal may only specify known properties, and 'visualizationRepository' does not exist in type 'ServiceContainer'.","snippet":"visualizationRepository: fakeVisualizationRepo,","context":" 54:       mobileNotificationsClient: fakeMobileNotificationsClient,\n 55:       snapshotRepository: fakeSnapshotRepo,\n>56:       visualizationRepository: fakeVisualizationRepo,\n 57:       visualizationGenerationService: fakeVisualizationGenerationService,\n 58:     });"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":456,"message":"Argument of type '{ id: string; userId: string; name: string; purpose: string; staticSourceIds: string[]; notificationFilters: never[]; createdAt: Date; updatedAt: Date; }' is not assignable to parameter of type 'CompositeFeed'.","snippet":"fakeCompositeFeedRepo.addFeed({","context":" 454:       const dataSource = createResult.ok ? createResult.value : null;\n 455: \n>456:       fakeCompositeFeedRepo.addFeed({\n 457:         id: 'cf-1',\n 458:         userId: 'user-123',"},{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":8,"message":"Module '\"../../../fakes.js\"' has no exported member 'FakeVisualizationRepository'.","snippet":"FakeVisualizationRepository,","context":" 6:   FakeDataSourceRepository,\n 7:   FakeMobileNotificationsClient,\n>8:   FakeVisualizationRepository,\n 9:   FakeVisualizationGenerationService,\n 10: } from '../../../fakes.js';"},{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":9,"message":"Module '\"../../../fakes.js\"' has no exported member 'FakeVisualizationGenerationService'.","snippet":"FakeVisualizationGenerationService,","context":" 7:   FakeMobileNotificationsClient,\n 8:   FakeVisualizationRepository,\n>9:   FakeVisualizationGenerationService,\n 10: } from '../../../fakes.js';\n 11: "},{"type":"typecheck","code":"TS2353","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":237,"message":"Object literal may only specify known properties, and 'visualizationRepository' does not exist in type 'RefreshSnapshotDeps'.","snippet":"visualizationRepository: fakeVisualizationRepo,","context":" 235:       dataSourceRepository: fakeDataSourceRepo,\n 236:       mobileNotificationsClient: fakeMobileNotificationsClient,\n>237:       visualizationRepository: fakeVisualizationRepo,\n 238:       visualizationGenerationService: fakeVisualizationService,\n 239:       refreshVisualizations: true,"},{"type":"typecheck","code":"TS2353","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":276,"message":"Object literal may only specify known properties, and 'visualizationRepository' does not exist in type 'RefreshSnapshotDeps'.","snippet":"visualizationRepository: fakeVisualizationRepo,","context":" 274:       dataSourceRepository: fakeDataSourceRepo,\n 275:       mobileNotificationsClient: fakeMobileNotificationsClient,\n>276:       visualizationRepository: fakeVisualizationRepo,\n 277:       visualizationGenerationService: fakeVisualizationService,\n 278:       refreshVisualizations: false,"},{"type":"typecheck","code":"TS2353","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":312,"message":"Object literal may only specify known properties, and 'visualizationRepository' does not exist in type 'RefreshSnapshotDeps'.","snippet":"visualizationRepository: fakeVisualizationRepo,","context":" 310:       dataSourceRepository: fakeDataSourceRepo,\n 311:       mobileNotificationsClient: fakeMobileNotificationsClient,\n>312:       visualizationRepository: fakeVisualizationRepo,\n 313:       refreshVisualizations: true,\n 314:       logger: mockLogger,"},{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":11,"message":"Module '\"./fakes.js\"' has no exported member 'FakeVisualizationRepository'.","snippet":"FakeVisualizationRepository,","context":" 9:   FakeMobileNotificationsClient,\n 10:   FakeSnapshotRepository,\n>11:   FakeVisualizationRepository,\n 12:   FakeVisualizationGenerationService,\n 13: } from './fakes.js';"},{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":12,"message":"Module '\"./fakes.js\"' has no exported member 'FakeVisualizationGenerationService'.","snippet":"FakeVisualizationGenerationService,","context":" 10:   FakeSnapshotRepository,\n 11:   FakeVisualizationRepository,\n>12:   FakeVisualizationGenerationService,\n 13: } from './fakes.js';\n 14: "},{"type":"typecheck","code":"TS2353","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":44,"message":"Object literal may only specify known properties, and 'visualizationRepository' does not exist in type 'ServiceContainer'.","snippet":"visualizationRepository: fakeVisualizationRepo,","context":" 42:       mobileNotificationsClient: fakeMobileNotificationsClient,\n 43:       snapshotRepository: fakeSnapshotRepo,\n>44:       visualizationRepository: fakeVisualizationRepo,\n 45:       visualizationGenerationService: fakeVisualizationGenerationService,\n 46:     });"}]}
{"ts":"2026-01-12T01:35:04.493Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":56,"passed":false,"durationMs":3037,"failureCount":54,"failures":[{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":9,"message":"Module '\"./fakes.js\"' has no exported member 'FakeMobileNotificationsClient'.","snippet":"FakeMobileNotificationsClient,","context":" 7:   FakeCompositeFeedRepository,\n 8:   FakeFeedNameGenerationService,\n>9:   FakeMobileNotificationsClient,\n 10:   FakeSnapshotRepository,\n 11: } from './fakes.js';"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":35,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"let fakeVisualizationRepo: FakeVisualizationRepository;","context":" 33:   let fakeMobileNotificationsClient: FakeMobileNotificationsClient;\n 34:   let fakeSnapshotRepo: FakeSnapshotRepository;\n>35:   let fakeVisualizationRepo: FakeVisualizationRepository;\n 36:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 37: "},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":36,"message":"Cannot find name 'FakeVisualizationGenerationService'.","snippet":"let fakeVisualizationGenerationService: FakeVisualizationGenerationService;","context":" 34:   let fakeSnapshotRepo: FakeSnapshotRepository;\n 35:   let fakeVisualizationRepo: FakeVisualizationRepository;\n>36:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 37: \n 38:   beforeEach(() => {"},{"type":"typecheck","code":"TS2552","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":45,"message":"Cannot find name 'FakeVisualizationRepository'. Did you mean 'fakeVisualizationRepo'?","snippet":"fakeVisualizationRepo = new FakeVisualizationRepository();","context":" 43:     fakeMobileNotificationsClient = new FakeMobileNotificationsClient();\n 44:     fakeSnapshotRepo = new FakeSnapshotRepository();\n>45:     fakeVisualizationRepo = new FakeVisualizationRepository();\n 46:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 47:     setServices({"},{"type":"typecheck","code":"TS2552","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":46,"message":"Cannot find name 'FakeVisualizationGenerationService'. Did you mean 'fakeVisualizationGenerationService'?","snippet":"fakeVisualizationGenerationService = new FakeVisualizationGenerationService();","context":" 44:     fakeSnapshotRepo = new FakeSnapshotRepository();\n 45:     fakeVisualizationRepo = new FakeVisualizationRepository();\n>46:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 47:     setServices({\n 48:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":53,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 51:       feedNameGenerationService: fakeFeedNameService,\n 52:       mobileNotificationsClient: fakeMobileNotificationsClient,\n>53:       snapshotRepository: fakeSnapshotRepo,\n 54:       visualizationRepository: fakeVisualizationRepo,\n 55:       visualizationGenerationService: fakeVisualizationGenerationService,"},{"type":"typecheck","code":"TS2339","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":892,"message":"Property 'upsert' does not exist on type 'FakeSnapshotRepository'.","snippet":"await fakeSnapshotRepo.upsert(feed?.id ?? '', 'user-123', 'Test Feed', {","context":" 890:       const feed = feedResult.ok ? feedResult.value : null;\n 891: \n>892:       await fakeSnapshotRepo.upsert(feed?.id ?? '', 'user-123', 'Test Feed', {\n 893:         feedId: feed?.id ?? '',\n 894:         feedName: 'Test Feed',"},{"type":"typecheck","code":"TS2339","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":978,"message":"Property 'getByFeedId' does not exist on type 'FakeSnapshotRepository'.","snippet":"fakeSnapshotRepo.getByFeedId = async (): Promise<{ ok: false; error: string }> => ({","context":" 976:       const feed = feedResult.ok ? feedResult.value : null;\n 977: \n>978:       fakeSnapshotRepo.getByFeedId = async (): Promise<{ ok: false; error: string }> => ({\n 979:         ok: false,\n 980:         error: 'Database error',"},{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":9,"message":"Module '\"./fakes.js\"' has no exported member 'FakeMobileNotificationsClient'.","snippet":"FakeMobileNotificationsClient,","context":" 7:   FakeCompositeFeedRepository,\n 8:   FakeFeedNameGenerationService,\n>9:   FakeMobileNotificationsClient,\n 10:   FakeSnapshotRepository,\n 11: } from './fakes.js';"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":35,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"let fakeVisualizationRepo: FakeVisualizationRepository;","context":" 33:   let fakeMobileNotificationsClient: FakeMobileNotificationsClient;\n 34:   let fakeSnapshotRepo: FakeSnapshotRepository;\n>35:   let fakeVisualizationRepo: FakeVisualizationRepository;\n 36:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 37: "},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":36,"message":"Cannot find name 'FakeVisualizationGenerationService'.","snippet":"let fakeVisualizationGenerationService: FakeVisualizationGenerationService;","context":" 34:   let fakeSnapshotRepo: FakeSnapshotRepository;\n 35:   let fakeVisualizationRepo: FakeVisualizationRepository;\n>36:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 37: \n 38:   beforeEach(() => {"},{"type":"typecheck","code":"TS2552","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":45,"message":"Cannot find name 'FakeVisualizationRepository'. Did you mean 'fakeVisualizationRepo'?","snippet":"fakeVisualizationRepo = new FakeVisualizationRepository();","context":" 43:     fakeMobileNotificationsClient = new FakeMobileNotificationsClient();\n 44:     fakeSnapshotRepo = new FakeSnapshotRepository();\n>45:     fakeVisualizationRepo = new FakeVisualizationRepository();\n 46:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 47:     setServices({"},{"type":"typecheck","code":"TS2552","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":46,"message":"Cannot find name 'FakeVisualizationGenerationService'. Did you mean 'fakeVisualizationGenerationService'?","snippet":"fakeVisualizationGenerationService = new FakeVisualizationGenerationService();","context":" 44:     fakeSnapshotRepo = new FakeSnapshotRepository();\n 45:     fakeVisualizationRepo = new FakeVisualizationRepository();\n>46:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 47:     setServices({\n 48:       dataSourceRepository: fakeRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":53,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 51:       feedNameGenerationService: fakeFeedNameService,\n 52:       mobileNotificationsClient: fakeMobileNotificationsClient,\n>53:       snapshotRepository: fakeSnapshotRepo,\n 54:       visualizationRepository: fakeVisualizationRepo,\n 55:       visualizationGenerationService: fakeVisualizationGenerationService,"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":454,"message":"Argument of type '{ id: string; userId: string; name: string; purpose: string; staticSourceIds: string[]; notificationFilters: never[]; createdAt: Date; updatedAt: Date; }' is not assignable to parameter of type 'CompositeFeed'.","snippet":"fakeCompositeFeedRepo.addFeed({","context":" 452:       const dataSource = createResult.ok ? createResult.value : null;\n 453: \n>454:       fakeCompositeFeedRepo.addFeed({\n 455:         id: 'cf-1',\n 456:         userId: 'user-123',"},{"type":"typecheck","code":"TS2339","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/getDataInsightSnapshot.test.ts","line":16,"message":"Property 'upsert' does not exist on type 'FakeSnapshotRepository'.","snippet":"await fakeRepo.upsert('feed-123', 'user-123', 'Test Feed', {","context":" 14: \n 15:   it('returns snapshot when found', async () => {\n>16:     await fakeRepo.upsert('feed-123', 'user-123', 'Test Feed', {\n 17:       feedId: 'feed-123',\n 18:       feedName: 'Test Feed',"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/getDataInsightSnapshot.test.ts","line":26,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeRepo,","context":" 24: \n 25:     const result = await getDataInsightSnapshot('feed-123', 'user-123', {\n>26:       snapshotRepository: fakeRepo,\n 27:     });\n 28: "},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/getDataInsightSnapshot.test.ts","line":38,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeRepo,","context":" 36:   it('returns NOT_FOUND error when snapshot does not exist', async () => {\n 37:     const result = await getDataInsightSnapshot('feed-123', 'user-123', {\n>38:       snapshotRepository: fakeRepo,\n 39:     });\n 40: "},{"type":"typecheck","code":"TS2339","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/getDataInsightSnapshot.test.ts","line":49,"message":"Property 'getByFeedId' does not exist on type 'FakeSnapshotRepository'.","snippet":"fakeRepo.getByFeedId = async (): Promise<Result<DataInsightSnapshot | null, string>> =>","context":" 47: \n 48:   it('returns REPOSITORY_ERROR when repository fails', async () => {\n>49:     fakeRepo.getByFeedId = async (): Promise<Result<DataInsightSnapshot | null, string>> =>\n 50:       err('Database error');\n 51: "},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/getDataInsightSnapshot.test.ts","line":53,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeRepo,","context":" 51: \n 52:     const result = await getDataInsightSnapshot('feed-123', 'user-123', {\n>53:       snapshotRepository: fakeRepo,\n 54:     });\n 55: "},{"type":"typecheck","code":"TS2339","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/getDataInsightSnapshot.test.ts","line":64,"message":"Property 'getByFeedId' does not exist on type 'FakeSnapshotRepository'.","snippet":"fakeRepo.getByFeedId = async (): Promise<Result<DataInsightSnapshot | null, string>> =>","context":" 62: \n 63:   it('returns NOT_FOUND error when repository returns null', async () => {\n>64:     fakeRepo.getByFeedId = async (): Promise<Result<DataInsightSnapshot | null, string>> =>\n 65:       ok(null);\n 66: "},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/getDataInsightSnapshot.test.ts","line":68,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeRepo,","context":" 66: \n 67:     const result = await getDataInsightSnapshot('feed-123', 'user-123', {\n>68:       snapshotRepository: fakeRepo,\n 69:     });\n 70: "},{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshAllSnapshots.test.ts","line":7,"message":"Module '\"../../../fakes.js\"' has no exported member 'FakeMobileNotificationsClient'.","snippet":"FakeMobileNotificationsClient,","context":" 5:   FakeCompositeFeedRepository,\n 6:   FakeDataSourceRepository,\n>7:   FakeMobileNotificationsClient,\n 8: } from '../../../fakes.js';\n 9: "},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshAllSnapshots.test.ts","line":37,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 35: \n 36:     const result = await refreshAllSnapshots({\n>37:       snapshotRepository: fakeSnapshotRepo,\n 38:       compositeFeedRepository: fakeCompositeFeedRepo,\n 39:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshAllSnapshots.test.ts","line":65,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 63: \n 64:     const result = await refreshAllSnapshots({\n>65:       snapshotRepository: fakeSnapshotRepo,\n 66:       compositeFeedRepository: fakeCompositeFeedRepo,\n 67:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshAllSnapshots.test.ts","line":83,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 81: \n 82:     const result = await refreshAllSnapshots({\n>83:       snapshotRepository: fakeSnapshotRepo,\n 84:       compositeFeedRepository: fakeCompositeFeedRepo,\n 85:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshAllSnapshots.test.ts","line":97,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 95:   it('handles empty feed list', async () => {\n 96:     const result = await refreshAllSnapshots({\n>97:       snapshotRepository: fakeSnapshotRepo,\n 98:       compositeFeedRepository: fakeCompositeFeedRepo,\n 99:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshAllSnapshots.test.ts","line":125,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 123: \n 124:     const result = await refreshAllSnapshots({\n>125:       snapshotRepository: fakeSnapshotRepo,\n 126:       compositeFeedRepository: fakeCompositeFeedRepo,\n 127:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":7,"message":"Module '\"../../../fakes.js\"' has no exported member 'FakeMobileNotificationsClient'.","snippet":"FakeMobileNotificationsClient,","context":" 5:   FakeCompositeFeedRepository,\n 6:   FakeDataSourceRepository,\n>7:   FakeMobileNotificationsClient,\n 8: } from '../../../fakes.js';\n 9: "},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":42,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 40:     const feed = feedResult.ok ? feedResult.value : null;\n 41:     const result = await refreshSnapshot(feed?.id ?? '', 'user-123', {\n>42:       snapshotRepository: fakeSnapshotRepo,\n 43:       compositeFeedRepository: fakeCompositeFeedRepo,\n 44:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":83,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 81: \n 82:     const result = await refreshSnapshot(feed?.id ?? '', 'user-123', {\n>83:       snapshotRepository: fakeSnapshotRepo,\n 84:       compositeFeedRepository: fakeCompositeFeedRepo,\n 85:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":98,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 96:   it('returns FEED_NOT_FOUND when feed does not exist', async () => {\n 97:     const result = await refreshSnapshot('feed-123', 'user-123', {\n>98:       snapshotRepository: fakeSnapshotRepo,\n 99:       compositeFeedRepository: fakeCompositeFeedRepo,\n 100:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":114,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 112: \n 113:     const result = await refreshSnapshot('feed-123', 'user-123', {\n>114:       snapshotRepository: fakeSnapshotRepo,\n 115:       compositeFeedRepository: fakeCompositeFeedRepo,\n 116:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":146,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 144:     const feed = feedResult.ok ? feedResult.value : null;\n 145:     const result = await refreshSnapshot(feed?.id ?? '', 'user-123', {\n>146:       snapshotRepository: fakeSnapshotRepo,\n 147:       compositeFeedRepository: fakeCompositeFeedRepo,\n 148:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2339","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":166,"message":"Property 'setFailNextUpsert' does not exist on type 'FakeSnapshotRepository'.","snippet":"fakeSnapshotRepo.setFailNextUpsert(true);","context":" 164: \n 165:     expect(feedResult.ok).toBe(true);\n>166:     fakeSnapshotRepo.setFailNextUpsert(true);\n 167: \n 168:     const feed = feedResult.ok ? feedResult.value : null;"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":170,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 168:     const feed = feedResult.ok ? feedResult.value : null;\n 169:     const result = await refreshSnapshot(feed?.id ?? '', 'user-123', {\n>170:       snapshotRepository: fakeSnapshotRepo,\n 171:       compositeFeedRepository: fakeCompositeFeedRepo,\n 172:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":193,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 191: \n 192:     const result = await refreshSnapshot(feed?.id ?? '', 'user-123', {\n>193:       snapshotRepository: fakeSnapshotRepo,\n 194:       compositeFeedRepository: fakeCompositeFeedRepo,\n 195:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":209,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"const fakeVisualizationRepo = new FakeVisualizationRepository();","context":" 207: \n 208:   it('does not trigger visualization refresh when not requested', async () => {\n>209:     const fakeVisualizationRepo = new FakeVisualizationRepository();\n 210:     const fakeVisualizationService = new FakeVisualizationGenerationService();\n 211:     const mockLogger = {"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":210,"message":"Cannot find name 'FakeVisualizationGenerationService'.","snippet":"const fakeVisualizationService = new FakeVisualizationGenerationService();","context":" 208:   it('does not trigger visualization refresh when not requested', async () => {\n 209:     const fakeVisualizationRepo = new FakeVisualizationRepository();\n>210:     const fakeVisualizationService = new FakeVisualizationGenerationService();\n 211:     const mockLogger = {\n 212:       info: vi.fn(),"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":227,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 225: \n 226:     await refreshSnapshot(feed?.id ?? '', 'user-123', {\n>227:       snapshotRepository: fakeSnapshotRepo,\n 228:       compositeFeedRepository: fakeCompositeFeedRepo,\n 229:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":246,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"const fakeVisualizationRepo = new FakeVisualizationRepository();","context":" 244: \n 245:   it('does not refresh visualizations when missing dependencies', async () => {\n>246:     const fakeVisualizationRepo = new FakeVisualizationRepository();\n 247:     const mockLogger = {\n 248:       info: vi.fn(),"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":263,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 261: \n 262:     const result = await refreshSnapshot(feed?.id ?? '', 'user-123', {\n>263:       snapshotRepository: fakeSnapshotRepo,\n 264:       compositeFeedRepository: fakeCompositeFeedRepo,\n 265:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS6196","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":25,"message":"'MobileNotificationsClient' is declared but never used.","snippet":"MobileNotificationsClient,","context":" 23:   FeedNameGenerationService,\n 24:   NameGenerationError,\n>25:   MobileNotificationsClient,\n 26:   MobileNotificationItem,\n 27:   NotificationFilterConfig,"},{"type":"typecheck","code":"TS2300","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":434,"message":"Duplicate identifier 'FakeSnapshotRepository'.","snippet":"export class FakeSnapshotRepository implements SnapshotRepository {","context":" 432:  * Fake Snapshot repository for testing.\n 433:  */\n>434: export class FakeSnapshotRepository implements SnapshotRepository {\n 435:   private notifications: MobileNotificationItem[] = [];\n 436:   private errorToReturn: string | null = null;"},{"type":"typecheck","code":"TS2420","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":434,"message":"Class 'FakeSnapshotRepository' incorrectly implements interface 'SnapshotRepository'.","snippet":"export class FakeSnapshotRepository implements SnapshotRepository {","context":" 432:  * Fake Snapshot repository for testing.\n 433:  */\n>434: export class FakeSnapshotRepository implements SnapshotRepository {\n 435:   private notifications: MobileNotificationItem[] = [];\n 436:   private errorToReturn: string | null = null;"},{"type":"typecheck","code":"TS2300","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":462,"message":"Duplicate identifier 'FakeSnapshotRepository'.","snippet":"export class FakeSnapshotRepository implements SnapshotRepository {","context":" 460:  * Fake Snapshot repository for testing.\n 461:  */\n>462: export class FakeSnapshotRepository implements SnapshotRepository {\n 463:   private snapshots = new Map<string, DataInsightSnapshot>();\n 464:   private shouldFailGet = false;"},{"type":"typecheck","code":"TS6133","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":583,"message":"'shouldFail' is declared but its value is never read.","snippet":"private shouldFail = false;","context":" 581:  */\n 582: export class FakeVisualizationGenerationService {\n>583:   private shouldFail = false;\n 584:   setFailNext(fail: boolean): void {\n 585:     this.shouldFail = fail;"},{"type":"typecheck","code":"TS2305","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":9,"message":"Module '\"./fakes.js\"' has no exported member 'FakeMobileNotificationsClient'.","snippet":"FakeMobileNotificationsClient,","context":" 7:   FakeCompositeFeedRepository,\n 8:   FakeFeedNameGenerationService,\n>9:   FakeMobileNotificationsClient,\n 10:   FakeSnapshotRepository,\n 11: } from './fakes.js';"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":22,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"let fakeVisualizationRepo: FakeVisualizationRepository;","context":" 20:   let fakeMobileNotificationsClient: FakeMobileNotificationsClient;\n 21:   let fakeSnapshotRepo: FakeSnapshotRepository;\n>22:   let fakeVisualizationRepo: FakeVisualizationRepository;\n 23:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 24: "},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":23,"message":"Cannot find name 'FakeVisualizationGenerationService'.","snippet":"let fakeVisualizationGenerationService: FakeVisualizationGenerationService;","context":" 21:   let fakeSnapshotRepo: FakeSnapshotRepository;\n 22:   let fakeVisualizationRepo: FakeVisualizationRepository;\n>23:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 24: \n 25:   beforeEach(() => {"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":33,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"fakeVisualizationRepo = new FakeVisualizationRepository();","context":" 31:     fakeMobileNotificationsClient = new FakeMobileNotificationsClient();\n 32:     fakeSnapshotRepo = new FakeSnapshotRepository();\n>33:     fakeVisualizationRepo = new FakeVisualizationRepository();\n 34:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 35:     setServices({"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":34,"message":"Cannot find name 'FakeVisualizationGenerationService'.","snippet":"fakeVisualizationGenerationService = new FakeVisualizationGenerationService();","context":" 32:     fakeSnapshotRepo = new FakeSnapshotRepository();\n 33:     fakeVisualizationRepo = new FakeVisualizationRepository();\n>34:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 35:     setServices({\n 36:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2739","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":41,"message":"Type 'FakeSnapshotRepository' is missing the following properties from type 'SnapshotRepository': getByFeedId, upsert, delete, deleteByFeedId, listByUserId","snippet":"snapshotRepository: fakeSnapshotRepo,","context":" 39:       feedNameGenerationService: fakeFeedNameService,\n 40:       mobileNotificationsClient: fakeMobileNotificationsClient,\n>41:       snapshotRepository: fakeSnapshotRepo,\n 42:       visualizationRepository: fakeVisualizationRepo,\n 43:       visualizationGenerationService: fakeVisualizationGenerationService,"},{"type":"typecheck","code":"TS2339","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":248,"message":"Property 'setFailNextUpsert' does not exist on type 'FakeSnapshotRepository'.","snippet":"fakeSnapshotRepo.setFailNextUpsert(true);","context":" 246:       });\n 247: \n>248:       fakeSnapshotRepo.setFailNextUpsert(true);\n 249: \n 250:       const response = await app.inject({"}]}
{"ts":"2026-01-12T01:35:37.176Z","project":"intexuraos-2","branch":"development","workspace":"web","runNumber":57,"passed":false,"durationMs":3026,"failureCount":1,"failures":[{"type":"typecheck","code":"TS6192","file":"src/App.tsx","line":1,"message":"All imports in import declaration are unused.","snippet":null,"context":null}]}
{"ts":"2026-01-12T07:57:11.053Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":58,"passed":false,"durationMs":3157,"failureCount":22,"failures":[{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":35,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"let fakeVisualizationRepo: FakeVisualizationRepository;","context":" 33:   let fakeMobileNotificationsClient: FakeMobileNotificationsClient;\n 34:   let fakeSnapshotRepo: FakeSnapshotRepository;\n>35:   let fakeVisualizationRepo: FakeVisualizationRepository;\n 36:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 37: "},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":36,"message":"Cannot find name 'FakeVisualizationGenerationService'.","snippet":"let fakeVisualizationGenerationService: FakeVisualizationGenerationService;","context":" 34:   let fakeSnapshotRepo: FakeSnapshotRepository;\n 35:   let fakeVisualizationRepo: FakeVisualizationRepository;\n>36:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 37: \n 38:   beforeEach(() => {"},{"type":"typecheck","code":"TS2552","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":45,"message":"Cannot find name 'FakeVisualizationRepository'. Did you mean 'fakeVisualizationRepo'?","snippet":"fakeVisualizationRepo = new FakeVisualizationRepository();","context":" 43:     fakeMobileNotificationsClient = new FakeMobileNotificationsClient();\n 44:     fakeSnapshotRepo = new FakeSnapshotRepository();\n>45:     fakeVisualizationRepo = new FakeVisualizationRepository();\n 46:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 47:     setServices({"},{"type":"typecheck","code":"TS2552","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":46,"message":"Cannot find name 'FakeVisualizationGenerationService'. Did you mean 'fakeVisualizationGenerationService'?","snippet":"fakeVisualizationGenerationService = new FakeVisualizationGenerationService();","context":" 44:     fakeSnapshotRepo = new FakeSnapshotRepository();\n 45:     fakeVisualizationRepo = new FakeVisualizationRepository();\n>46:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 47:     setServices({\n 48:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":47,"message":"Argument of type '{ dataSourceRepository: FakeDataSourceRepository; titleGenerationService: FakeTitleGenerationService; compositeFeedRepository: FakeCompositeFeedRepository; ... 4 more ...; visualizationGenerationService: FakeVisualizationGenerationService; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 45:     fakeVisualizationRepo = new FakeVisualizationRepository();\n 46:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n>47:     setServices({\n 48:       dataSourceRepository: fakeDataSourceRepo,\n 49:       titleGenerationService: fakeTitleService,"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":35,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"let fakeVisualizationRepo: FakeVisualizationRepository;","context":" 33:   let fakeMobileNotificationsClient: FakeMobileNotificationsClient;\n 34:   let fakeSnapshotRepo: FakeSnapshotRepository;\n>35:   let fakeVisualizationRepo: FakeVisualizationRepository;\n 36:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 37: "},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":36,"message":"Cannot find name 'FakeVisualizationGenerationService'.","snippet":"let fakeVisualizationGenerationService: FakeVisualizationGenerationService;","context":" 34:   let fakeSnapshotRepo: FakeSnapshotRepository;\n 35:   let fakeVisualizationRepo: FakeVisualizationRepository;\n>36:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 37: \n 38:   beforeEach(() => {"},{"type":"typecheck","code":"TS2552","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":45,"message":"Cannot find name 'FakeVisualizationRepository'. Did you mean 'fakeVisualizationRepo'?","snippet":"fakeVisualizationRepo = new FakeVisualizationRepository();","context":" 43:     fakeMobileNotificationsClient = new FakeMobileNotificationsClient();\n 44:     fakeSnapshotRepo = new FakeSnapshotRepository();\n>45:     fakeVisualizationRepo = new FakeVisualizationRepository();\n 46:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 47:     setServices({"},{"type":"typecheck","code":"TS2552","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":46,"message":"Cannot find name 'FakeVisualizationGenerationService'. Did you mean 'fakeVisualizationGenerationService'?","snippet":"fakeVisualizationGenerationService = new FakeVisualizationGenerationService();","context":" 44:     fakeSnapshotRepo = new FakeSnapshotRepository();\n 45:     fakeVisualizationRepo = new FakeVisualizationRepository();\n>46:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 47:     setServices({\n 48:       dataSourceRepository: fakeRepo,"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":47,"message":"Argument of type '{ dataSourceRepository: FakeDataSourceRepository; titleGenerationService: FakeTitleGenerationService; compositeFeedRepository: FakeCompositeFeedRepository; ... 4 more ...; visualizationGenerationService: FakeVisualizationGenerationService; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 45:     fakeVisualizationRepo = new FakeVisualizationRepository();\n 46:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n>47:     setServices({\n 48:       dataSourceRepository: fakeRepo,\n 49:       titleGenerationService: fakeTitleService,"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":454,"message":"Argument of type '{ id: string; userId: string; name: string; purpose: string; staticSourceIds: string[]; notificationFilters: never[]; createdAt: Date; updatedAt: Date; }' is not assignable to parameter of type 'CompositeFeed'.","snippet":"fakeCompositeFeedRepo.addFeed({","context":" 452:       const dataSource = createResult.ok ? createResult.value : null;\n 453: \n>454:       fakeCompositeFeedRepo.addFeed({\n 455:         id: 'cf-1',\n 456:         userId: 'user-123',"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":209,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"const fakeVisualizationRepo = new FakeVisualizationRepository();","context":" 207: \n 208:   it('does not trigger visualization refresh when not requested', async () => {\n>209:     const fakeVisualizationRepo = new FakeVisualizationRepository();\n 210:     const fakeVisualizationService = new FakeVisualizationGenerationService();\n 211:     const mockLogger = {"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":210,"message":"Cannot find name 'FakeVisualizationGenerationService'.","snippet":"const fakeVisualizationService = new FakeVisualizationGenerationService();","context":" 208:   it('does not trigger visualization refresh when not requested', async () => {\n 209:     const fakeVisualizationRepo = new FakeVisualizationRepository();\n>210:     const fakeVisualizationService = new FakeVisualizationGenerationService();\n 211:     const mockLogger = {\n 212:       info: vi.fn(),"},{"type":"typecheck","code":"TS2353","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":231,"message":"Object literal may only specify known properties, and 'visualizationRepository' does not exist in type 'RefreshSnapshotDeps'.","snippet":"visualizationRepository: fakeVisualizationRepo,","context":" 229:       dataSourceRepository: fakeDataSourceRepo,\n 230:       mobileNotificationsClient: fakeMobileNotificationsClient,\n>231:       visualizationRepository: fakeVisualizationRepo,\n 232:       visualizationGenerationService: fakeVisualizationService,\n 233:       refreshVisualizations: false,"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":246,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"const fakeVisualizationRepo = new FakeVisualizationRepository();","context":" 244: \n 245:   it('does not refresh visualizations when missing dependencies', async () => {\n>246:     const fakeVisualizationRepo = new FakeVisualizationRepository();\n 247:     const mockLogger = {\n 248:       info: vi.fn(),"},{"type":"typecheck","code":"TS2353","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":267,"message":"Object literal may only specify known properties, and 'visualizationRepository' does not exist in type 'RefreshSnapshotDeps'.","snippet":"visualizationRepository: fakeVisualizationRepo,","context":" 265:       dataSourceRepository: fakeDataSourceRepo,\n 266:       mobileNotificationsClient: fakeMobileNotificationsClient,\n>267:       visualizationRepository: fakeVisualizationRepo,\n 268:       refreshVisualizations: true,\n 269:       logger: mockLogger,"},{"type":"typecheck","code":"TS6133","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":582,"message":"'shouldFail' is declared but its value is never read.","snippet":"private shouldFail = false;","context":" 580:  */\n 581: export class FakeVisualizationGenerationService {\n>582:   private shouldFail = false;\n 583:   setFailNext(fail: boolean): void {\n 584:     this.shouldFail = fail;"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":22,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"let fakeVisualizationRepo: FakeVisualizationRepository;","context":" 20:   let fakeMobileNotificationsClient: FakeMobileNotificationsClient;\n 21:   let fakeSnapshotRepo: FakeSnapshotRepository;\n>22:   let fakeVisualizationRepo: FakeVisualizationRepository;\n 23:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 24: "},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":23,"message":"Cannot find name 'FakeVisualizationGenerationService'.","snippet":"let fakeVisualizationGenerationService: FakeVisualizationGenerationService;","context":" 21:   let fakeSnapshotRepo: FakeSnapshotRepository;\n 22:   let fakeVisualizationRepo: FakeVisualizationRepository;\n>23:   let fakeVisualizationGenerationService: FakeVisualizationGenerationService;\n 24: \n 25:   beforeEach(() => {"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":33,"message":"Cannot find name 'FakeVisualizationRepository'.","snippet":"fakeVisualizationRepo = new FakeVisualizationRepository();","context":" 31:     fakeMobileNotificationsClient = new FakeMobileNotificationsClient();\n 32:     fakeSnapshotRepo = new FakeSnapshotRepository();\n>33:     fakeVisualizationRepo = new FakeVisualizationRepository();\n 34:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 35:     setServices({"},{"type":"typecheck","code":"TS2304","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":34,"message":"Cannot find name 'FakeVisualizationGenerationService'.","snippet":"fakeVisualizationGenerationService = new FakeVisualizationGenerationService();","context":" 32:     fakeSnapshotRepo = new FakeSnapshotRepository();\n 33:     fakeVisualizationRepo = new FakeVisualizationRepository();\n>34:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n 35:     setServices({\n 36:       dataSourceRepository: fakeDataSourceRepo,"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":35,"message":"Argument of type '{ dataSourceRepository: FakeDataSourceRepository; titleGenerationService: FakeTitleGenerationService; compositeFeedRepository: FakeCompositeFeedRepository; ... 4 more ...; visualizationGenerationService: FakeVisualizationGenerationService; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 33:     fakeVisualizationRepo = new FakeVisualizationRepository();\n 34:     fakeVisualizationGenerationService = new FakeVisualizationGenerationService();\n>35:     setServices({\n 36:       dataSourceRepository: fakeDataSourceRepo,\n 37:       titleGenerationService: fakeTitleService,"}]}
{"ts":"2026-01-12T08:19:20.309Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":59,"passed":false,"durationMs":2298,"failureCount":1,"failures":[{"type":"typecheck","code":"TS1128","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":262,"message":"Declaration or statement expected.","snippet":"});","context":" 260:     expect(visualizationRefreshCalls).toHaveLength(0);\n 261:   });\n>262: });\n 263: "}]}
{"ts":"2026-01-12T08:30:01.178Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":60,"passed":false,"durationMs":2200,"failureCount":2,"failures":[{"type":"typecheck","code":"TS1109","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":43,"message":"Expression expected.","snippet":"});","context":" 41:     const result =\n 42: \n>43: });\n 44: "},{"type":"typecheck","code":"TS1005","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":44,"message":"'}' expected.","snippet":"","context":" 42: \n 43: });\n>44: "}]}
{"ts":"2026-01-12T09:22:56.627Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":61,"passed":false,"durationMs":3205,"failureCount":24,"failures":[{"type":"typecheck","code":"TS2339","file":"apps/data-insights-agent/src/__tests__/chartDefinitionService.test.ts","line":86,"message":"Property 'title' does not exist on type 'ParsedChartDefinition'.","snippet":"expect(result.value.title).toBe('Upward Trend Visualization');","context":" 84:       if (result.ok) {\n 85:         expect(result.value).toBeDefined();\n>86:         expect(result.value.title).toBe('Upward Trend Visualization');\n 87:       }\n 88:     });"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":46,"message":"Argument of type '{ dataSourceRepository: FakeDataSourceRepository; titleGenerationService: FakeTitleGenerationService; compositeFeedRepository: FakeCompositeFeedRepository; ... 4 more ...; visualizationGenerationService: FakeVisualizationGenerationService; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 44:     fakeMobileNotificationsClient = new FakeMobileNotificationsClient();\n 45:     fakeSnapshotRepo = new FakeSnapshotRepository();\n>46:     setServices({\n 47:       dataSourceRepository: fakeDataSourceRepo,\n 48:       titleGenerationService: fakeTitleService,"},{"type":"typecheck","code":"TS2454","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":53,"message":"Variable 'fakeVisualizationRepo' is used before being assigned.","snippet":"visualizationRepository: fakeVisualizationRepo,","context":" 51:       mobileNotificationsClient: fakeMobileNotificationsClient,\n 52:       snapshotRepository: fakeSnapshotRepo,\n>53:       visualizationRepository: fakeVisualizationRepo,\n 54:       visualizationGenerationService: fakeVisualizationGenerationService,\n 55:     });"},{"type":"typecheck","code":"TS2454","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":54,"message":"Variable 'fakeVisualizationGenerationService' is used before being assigned.","snippet":"visualizationGenerationService: fakeVisualizationGenerationService,","context":" 52:       snapshotRepository: fakeSnapshotRepo,\n 53:       visualizationRepository: fakeVisualizationRepo,\n>54:       visualizationGenerationService: fakeVisualizationGenerationService,\n 55:     });\n 56:   });"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":66,"message":"Argument of type '{ id: string; name: string; description: string; }[]' is not assignable to parameter of type 'ChartTypeInfo[]'.","snippet":"mockChartTypes","context":" 64:         mockJsonSchema,\n 65:         mockSnapshotData,\n>66:         mockChartTypes\n 67:       );\n 68: "},{"type":"typecheck","code":"TS2339","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":73,"message":"Property 'chartType' does not exist on type 'ParsedDataInsight'.","snippet":"expect(result.value.insights[0]?.chartType).toBe('C1');","context":" 71:         expect(result.value.insights).toHaveLength(2);\n 72:         expect(result.value.insights[0]?.title).toBe('Upward Trend');\n>73:         expect(result.value.insights[0]?.chartType).toBe('C1');\n 74:         expect(result.value.noInsightsReason).toBeUndefined();\n 75:       }"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":89,"message":"Argument of type '{ id: string; name: string; description: string; }[]' is not assignable to parameter of type 'ChartTypeInfo[]'.","snippet":"mockChartTypes","context":" 87:         mockJsonSchema,\n 88:         mockSnapshotData,\n>89:         mockChartTypes\n 90:       );\n 91: "},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":107,"message":"Argument of type '{ id: string; name: string; description: string; }[]' is not assignable to parameter of type 'ChartTypeInfo[]'.","snippet":"mockChartTypes","context":" 105:         mockJsonSchema,\n 106:         mockSnapshotData,\n>107:         mockChartTypes\n 108:       );\n 109: "},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":129,"message":"Argument of type '{ id: string; name: string; description: string; }[]' is not assignable to parameter of type 'ChartTypeInfo[]'.","snippet":"mockChartTypes","context":" 127:         mockJsonSchema,\n 128:         mockSnapshotData,\n>129:         mockChartTypes\n 130:       );\n 131: "},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":148,"message":"Argument of type '{ id: string; name: string; description: string; }[]' is not assignable to parameter of type 'ChartTypeInfo[]'.","snippet":"mockChartTypes","context":" 146:         mockJsonSchema,\n 147:         mockSnapshotData,\n>148:         mockChartTypes\n 149:       );\n 150: "},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":167,"message":"Argument of type '{ id: string; name: string; description: string; }[]' is not assignable to parameter of type 'ChartTypeInfo[]'.","snippet":"mockChartTypes","context":" 165:         mockJsonSchema,\n 166:         mockSnapshotData,\n>167:         mockChartTypes\n 168:       );\n 169: "},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":184,"message":"Argument of type '{ id: string; name: string; description: string; }[]' is not assignable to parameter of type 'ChartTypeInfo[]'.","snippet":"await service.analyzeData('user-123', mockJsonSchema, mockSnapshotData, mockChartTypes);","context":" 182:       const service = createDataAnalysisService(mockClient, fakePricingContext);\n 183: \n>184:       await service.analyzeData('user-123', mockJsonSchema, mockSnapshotData, mockChartTypes);\n 185: \n 186:       // Verify Gemini client was created with user's API key"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":200,"message":"Argument of type '{ id: string; name: string; description: string; }[]' is not assignable to parameter of type 'ChartTypeInfo[]'.","snippet":"await service.analyzeData('user-123', mockJsonSchema, mockSnapshotData, mockChartTypes);","context":" 198:       const service = createDataAnalysisService(mockClient, fakePricingContext);\n 199: \n>200:       await service.analyzeData('user-123', mockJsonSchema, mockSnapshotData, mockChartTypes);\n 201: \n 202:       expect(getPricingSpy).toHaveBeenCalled();"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":217,"message":"Argument of type '{ id: string; name: string; description: string; }[]' is not assignable to parameter of type 'ChartTypeInfo[]'.","snippet":"mockChartTypes","context":" 215:         mockJsonSchema,\n 216:         mockSnapshotData,\n>217:         mockChartTypes\n 218:       );\n 219: "},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":237,"message":"Argument of type '{ id: string; name: string; description: string; }[]' is not assignable to parameter of type 'ChartTypeInfo[]'.","snippet":"mockChartTypes","context":" 235:         mockJsonSchema,\n 236:         mockSnapshotData,\n>237:         mockChartTypes\n 238:       );\n 239: "},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":46,"message":"Argument of type '{ dataSourceRepository: FakeDataSourceRepository; titleGenerationService: FakeTitleGenerationService; compositeFeedRepository: FakeCompositeFeedRepository; ... 4 more ...; visualizationGenerationService: FakeVisualizationGenerationService; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 44:     fakeMobileNotificationsClient = new FakeMobileNotificationsClient();\n 45:     fakeSnapshotRepo = new FakeSnapshotRepository();\n>46:     setServices({\n 47:       dataSourceRepository: fakeRepo,\n 48:       titleGenerationService: fakeTitleService,"},{"type":"typecheck","code":"TS2454","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":53,"message":"Variable 'fakeVisualizationRepo' is used before being assigned.","snippet":"visualizationRepository: fakeVisualizationRepo,","context":" 51:       mobileNotificationsClient: fakeMobileNotificationsClient,\n 52:       snapshotRepository: fakeSnapshotRepo,\n>53:       visualizationRepository: fakeVisualizationRepo,\n 54:       visualizationGenerationService: fakeVisualizationGenerationService,\n 55:     });"},{"type":"typecheck","code":"TS2454","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":54,"message":"Variable 'fakeVisualizationGenerationService' is used before being assigned.","snippet":"visualizationGenerationService: fakeVisualizationGenerationService,","context":" 52:       snapshotRepository: fakeSnapshotRepo,\n 53:       visualizationRepository: fakeVisualizationRepo,\n>54:       visualizationGenerationService: fakeVisualizationGenerationService,\n 55:     });\n 56:   });"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":453,"message":"Argument of type '{ id: string; userId: string; name: string; purpose: string; staticSourceIds: string[]; notificationFilters: never[]; createdAt: Date; updatedAt: Date; }' is not assignable to parameter of type 'CompositeFeed'.","snippet":"fakeCompositeFeedRepo.addFeed({","context":" 451:       const dataSource = createResult.ok ? createResult.value : null;\n 452: \n>453:       fakeCompositeFeedRepo.addFeed({\n 454:         id: 'cf-1',\n 455:         userId: 'user-123',"},{"type":"typecheck","code":"TS2339","file":"apps/data-insights-agent/src/__tests__/dataTransformService.test.ts","line":326,"message":"Property 'metadata' does not exist on type '{}'.","snippet":"expect(result.value[0]?.metadata).toEqual({ source: 'api', verified: true });","context":" 324:       if (result.ok) {\n 325:         expect(result.value).toHaveLength(2);\n>326:         expect(result.value[0]?.metadata).toEqual({ source: 'api', verified: true });\n 327:       }\n 328:     });"},{"type":"typecheck","code":"TS6133","file":"apps/data-insights-agent/src/__tests__/domain/snapshot/usecases/refreshSnapshot.test.ts","line":1,"message":"'vi' is declared but its value is never read.","snippet":"import { describe, it, expect, beforeEach, vi } from 'vitest';","context":">1: import { describe, it, expect, beforeEach, vi } from 'vitest';\n 2: import { refreshSnapshot } from '../../../../domain/snapshot/usecases/refreshSnapshot.js';\n 3: import {"},{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":34,"message":"Argument of type '{ dataSourceRepository: FakeDataSourceRepository; titleGenerationService: FakeTitleGenerationService; compositeFeedRepository: FakeCompositeFeedRepository; ... 4 more ...; visualizationGenerationService: FakeVisualizationGenerationService; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 32:     fakeMobileNotificationsClient = new FakeMobileNotificationsClient();\n 33:     fakeSnapshotRepo = new FakeSnapshotRepository();\n>34:     setServices({\n 35:       dataSourceRepository: fakeDataSourceRepo,\n 36:       titleGenerationService: fakeTitleService,"},{"type":"typecheck","code":"TS2454","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":41,"message":"Variable 'fakeVisualizationRepo' is used before being assigned.","snippet":"visualizationRepository: fakeVisualizationRepo,","context":" 39:       mobileNotificationsClient: fakeMobileNotificationsClient,\n 40:       snapshotRepository: fakeSnapshotRepo,\n>41:       visualizationRepository: fakeVisualizationRepo,\n 42:       visualizationGenerationService: fakeVisualizationGenerationService,\n 43:     });"},{"type":"typecheck","code":"TS2454","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":42,"message":"Variable 'fakeVisualizationGenerationService' is used before being assigned.","snippet":"visualizationGenerationService: fakeVisualizationGenerationService,","context":" 40:       snapshotRepository: fakeSnapshotRepo,\n 41:       visualizationRepository: fakeVisualizationRepo,\n>42:       visualizationGenerationService: fakeVisualizationGenerationService,\n 43:     });\n 44:   });"}]}
{"ts":"2026-01-12T09:29:43.725Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":62,"passed":false,"durationMs":3101,"failureCount":10,"failures":[{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":68,"message":"Type 'FakeChartDefinitionService' is not assignable to type 'ChartDefinitionService'.","snippet":"chartDefinitionService: fakeChartDefinitionService,","context":" 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n 67:       dataAnalysisService: fakeDataAnalysisService,\n>68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,\n 70:     });"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":69,"message":"Type 'FakeDataTransformService' is not assignable to type 'DataTransformService'.","snippet":"dataTransformService: fakeDataTransformService,","context":" 67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n>69:       dataTransformService: fakeDataTransformService,\n 70:     });\n 71:   });"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":68,"message":"Type 'FakeChartDefinitionService' is not assignable to type 'ChartDefinitionService'.","snippet":"chartDefinitionService: fakeChartDefinitionService,","context":" 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n 67:       dataAnalysisService: fakeDataAnalysisService,\n>68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,\n 70:     });"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":69,"message":"Type 'FakeDataTransformService' is not assignable to type 'DataTransformService'.","snippet":"dataTransformService: fakeDataTransformService,","context":" 67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n>69:       dataTransformService: fakeDataTransformService,\n 70:     });\n 71:   });"},{"type":"typecheck","code":"TS2375","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":610,"message":"Type '{ insights: never[]; noInsightsReason: undefined; }' is not assignable to type '{ insights: unknown[]; noInsightsReason?: string; }' with 'exactOptionalPropertyTypes: true'. Consider adding 'undefined' to the types of the target's properties.","snippet":"value: { insights: [], noInsightsReason: undefined },","context":" 608:     return {\n 609:       ok: true,\n>610:       value: { insights: [], noInsightsReason: undefined },\n 611:     };\n 612:   }"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":55,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 53:       visualizationRepository: fakeVisualizationRepo,\n 54:       visualizationGenerationService: fakeVisualizationGenerationService,\n>55:       dataAnalysisService: fakeDataAnalysisService,\n 56:       chartDefinitionService: fakeChartDefinitionService,\n 57:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":56,"message":"Type 'FakeChartDefinitionService' is not assignable to type 'ChartDefinitionService'.","snippet":"chartDefinitionService: fakeChartDefinitionService,","context":" 54:       visualizationGenerationService: fakeVisualizationGenerationService,\n 55:       dataAnalysisService: fakeDataAnalysisService,\n>56:       chartDefinitionService: fakeChartDefinitionService,\n 57:       dataTransformService: fakeDataTransformService,\n 58:     });"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":57,"message":"Type 'FakeDataTransformService' is not assignable to type 'DataTransformService'.","snippet":"dataTransformService: fakeDataTransformService,","context":" 55:       dataAnalysisService: fakeDataAnalysisService,\n 56:       chartDefinitionService: fakeChartDefinitionService,\n>57:       dataTransformService: fakeDataTransformService,\n 58:     });\n 59:   });"}]}
{"ts":"2026-01-12T09:30:28.861Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":63,"passed":false,"durationMs":3048,"failureCount":9,"failures":[{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":68,"message":"Type 'FakeChartDefinitionService' is not assignable to type 'ChartDefinitionService'.","snippet":"chartDefinitionService: fakeChartDefinitionService,","context":" 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n 67:       dataAnalysisService: fakeDataAnalysisService,\n>68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,\n 70:     });"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":69,"message":"Type 'FakeDataTransformService' is not assignable to type 'DataTransformService'.","snippet":"dataTransformService: fakeDataTransformService,","context":" 67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n>69:       dataTransformService: fakeDataTransformService,\n 70:     });\n 71:   });"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":68,"message":"Type 'FakeChartDefinitionService' is not assignable to type 'ChartDefinitionService'.","snippet":"chartDefinitionService: fakeChartDefinitionService,","context":" 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n 67:       dataAnalysisService: fakeDataAnalysisService,\n>68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,\n 70:     });"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":69,"message":"Type 'FakeDataTransformService' is not assignable to type 'DataTransformService'.","snippet":"dataTransformService: fakeDataTransformService,","context":" 67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n>69:       dataTransformService: fakeDataTransformService,\n 70:     });\n 71:   });"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":55,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 53:       visualizationRepository: fakeVisualizationRepo,\n 54:       visualizationGenerationService: fakeVisualizationGenerationService,\n>55:       dataAnalysisService: fakeDataAnalysisService,\n 56:       chartDefinitionService: fakeChartDefinitionService,\n 57:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":56,"message":"Type 'FakeChartDefinitionService' is not assignable to type 'ChartDefinitionService'.","snippet":"chartDefinitionService: fakeChartDefinitionService,","context":" 54:       visualizationGenerationService: fakeVisualizationGenerationService,\n 55:       dataAnalysisService: fakeDataAnalysisService,\n>56:       chartDefinitionService: fakeChartDefinitionService,\n 57:       dataTransformService: fakeDataTransformService,\n 58:     });"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":57,"message":"Type 'FakeDataTransformService' is not assignable to type 'DataTransformService'.","snippet":"dataTransformService: fakeDataTransformService,","context":" 55:       dataAnalysisService: fakeDataAnalysisService,\n 56:       chartDefinitionService: fakeChartDefinitionService,\n>57:       dataTransformService: fakeDataTransformService,\n 58:     });\n 59:   });"}]}
{"ts":"2026-01-12T09:31:21.216Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":64,"passed":false,"durationMs":3213,"failureCount":3,"failures":[{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":55,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 53:       visualizationRepository: fakeVisualizationRepo,\n 54:       visualizationGenerationService: fakeVisualizationGenerationService,\n>55:       dataAnalysisService: fakeDataAnalysisService,\n 56:       chartDefinitionService: fakeChartDefinitionService,\n 57:       dataTransformService: fakeDataTransformService,"}]}
{"ts":"2026-01-12T09:32:04.649Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":65,"passed":false,"durationMs":3139,"failureCount":3,"failures":[{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":55,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 53:       visualizationRepository: fakeVisualizationRepo,\n 54:       visualizationGenerationService: fakeVisualizationGenerationService,\n>55:       dataAnalysisService: fakeDataAnalysisService,\n 56:       chartDefinitionService: fakeChartDefinitionService,\n 57:       dataTransformService: fakeDataTransformService,"}]}
{"ts":"2026-01-12T09:33:31.766Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":66,"passed":false,"durationMs":3417,"failureCount":3,"failures":[{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":55,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 53:       visualizationRepository: fakeVisualizationRepo,\n 54:       visualizationGenerationService: fakeVisualizationGenerationService,\n>55:       dataAnalysisService: fakeDataAnalysisService,\n 56:       chartDefinitionService: fakeChartDefinitionService,\n 57:       dataTransformService: fakeDataTransformService,"}]}
{"ts":"2026-01-12T09:34:56.503Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":67,"passed":false,"durationMs":3183,"failureCount":3,"failures":[{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":55,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 53:       visualizationRepository: fakeVisualizationRepo,\n 54:       visualizationGenerationService: fakeVisualizationGenerationService,\n>55:       dataAnalysisService: fakeDataAnalysisService,\n 56:       chartDefinitionService: fakeChartDefinitionService,\n 57:       dataTransformService: fakeDataTransformService,"}]}
{"ts":"2026-01-12T09:35:50.728Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":68,"passed":false,"durationMs":8288,"failureCount":55,"failures":[{"type":"lint","code":"@typescript-eslint/no-extraneous-class","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":581,"message":"Unexpected empty class","snippet":"export class FakeVisualizationGenerationService {","context":" 579:  * Fake VisualizationGenerationService for testing (placeholder - visualizations deprecated).\n 580:  */\n>581: export class FakeVisualizationGenerationService {\n 582: }\n 583: "},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":606,"message":"Missing return type on function","snippet":"async analyzeData(","context":" 604:   }\n 605: \n>606:   async analyzeData(\n 607:     _userId: string,\n 608:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":606,"message":"Missing return type on function","snippet":"async analyzeData(","context":" 604:   }\n 605: \n>606:   async analyzeData(\n 607:     _userId: string,\n 608:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":643,"message":"Missing return type on function","snippet":"async generateChartDefinition(","context":" 641:   }\n 642: \n>643:   async generateChartDefinition(\n 644:     _userId: string,\n 645:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":643,"message":"Missing return type on function","snippet":"async generateChartDefinition(","context":" 641:   }\n 642: \n>643:   async generateChartDefinition(\n 644:     _userId: string,\n 645:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":683,"message":"Missing return type on function","snippet":"async transformData(","context":" 681:   }\n 682: \n>683:   async transformData(\n 684:     _userId: string,\n 685:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":683,"message":"Missing return type on function","snippet":"async transformData(","context":" 681:   }\n 682: \n>683:   async transformData(\n 684:     _userId: string,\n 685:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"apps/data-insights-agent/src/domain/dataInsights/usecases/analyzeData.ts","line":176,"message":"Invalid type \"number\" of template literal expression","snippet":"id: `${feedId}-insight-${idx + 1}`,","context":" 174:   const now = new Date().toISOString();\n 175:   const insights: DataInsight[] = parsedInsights.map((pi, idx) => ({\n>176:     id: `${feedId}-insight-${idx + 1}`,\n 177:     title: pi.title,\n 178:     description: pi.description,"},{"type":"lint","code":"@typescript-eslint/no-confusing-void-expression","file":"apps/web/src/components/ChartDefinitionDisplay.tsx","line":22,"message":"Returning a void expression from an arrow function shorthand is forbidden. Please add braces to the arrow function","snippet":"setTimeout(() => setCopied(false), 2000);","context":" 20:     await navigator.clipboard.writeText(JSON.stringify(chartDefinition.vegaLiteConfig, null, 2));\n 21:     setCopied(true);\n>22:     setTimeout(() => setCopied(false), 2000);\n 23:   };\n 24: "},{"type":"lint","code":"@typescript-eslint/no-misused-promises","file":"apps/web/src/components/ChartDefinitionDisplay.tsx","line":30,"message":"Promise-returning function provided to attribute where a void return was expected","snippet":"<Button variant=\"ghost\" size=\"sm\" onClick={handleCopy}>","context":" 28:         <h3 className=\"text-lg font-semibold text-slate-900\">Chart Configuration</h3>\n 29:         <div className=\"flex gap-2\">\n>30:           <Button variant=\"ghost\" size=\"sm\" onClick={handleCopy}>\n 31:             {copied ? (\n 32:               <>"},{"type":"lint","code":"@typescript-eslint/no-empty-function","file":"apps/web/src/components/ChartPreview.tsx","line":26,"message":"Unexpected empty arrow function","snippet":".then(() => {})","context":" 24:       renderer: 'canvas',\n 25:     })\n>26:       .then(() => {})\n 27:       .catch((error: unknown) => {\n 28:         const err = error instanceof Error ? error : new Error(String(error));"},{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"apps/web/src/components/ChartPreview.tsx","line":68,"message":"Unnecessary conditional, the types have no overlap","snippet":"if (chartData === null || chartData.length === 0) {","context":" 66:   }\n 67: \n>68:   if (chartData === null || chartData.length === 0) {\n 69:     return (\n 70:       <Card className=\"mt-4\">"},{"type":"lint","code":"@typescript-eslint/no-confusing-void-expression","file":"apps/web/src/components/DataInsightCard.tsx","line":49,"message":"Returning a void expression from an arrow function shorthand is forbidden. Please add braces to the arrow function","snippet":"onClick={(): void => onConfigureChart(insight.id)}","context":" 47:           variant=\"primary\"\n 48:           size=\"sm\"\n>49:           onClick={(): void => onConfigureChart(insight.id)}\n 50:           isLoading={isConfiguring}\n 51:         >"},{"type":"lint","code":"@typescript-eslint/no-misused-promises","file":"apps/web/src/pages/DataInsightsPage.tsx","line":114,"message":"Promise-returning function provided to attribute where a void return was expected","snippet":"onConfigureChart={handleConfigureChart}","context":" 112:                     key={insight.id}\n 113:                     insight={insight}\n>114:                     onConfigureChart={handleConfigureChart}\n 115:                     isConfiguring={chartGenerating}\n 116:                   />"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":25,"message":"Use the `RegExp#exec()` method instead","snippet":"const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);","context":" 23:  */\n 24: export function parseChartDefinition(response: string): ParsedChartDefinition {\n>25:   const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);\n 26:   const transformMatch = response.match(\n 27:     /TRANSFORM_INSTRUCTIONS_START\\s*([\\s\\S]*?)\\s*TRANSFORM_INSTRUCTIONS_END/"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":26,"message":"Use the `RegExp#exec()` method instead","snippet":"const transformMatch = response.match(","context":" 24: export function parseChartDefinition(response: string): ParsedChartDefinition {\n 25:   const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);\n>26:   const transformMatch = response.match(\n 27:     /TRANSFORM_INSTRUCTIONS_START\\s*([\\s\\S]*?)\\s*TRANSFORM_INSTRUCTIONS_END/\n 28:   );"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":30,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!chartConfigMatch || chartConfigMatch[1] === undefined) {","context":" 28:   );\n 29: \n>30:   if (!chartConfigMatch || chartConfigMatch[1] === undefined) {\n 31:     throw new Error('Missing CHART_CONFIG_START...CHART_CONFIG_END markers');\n 32:   }"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":34,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!transformMatch || transformMatch[1] === undefined) {","context":" 32:   }\n 33: \n>34:   if (!transformMatch || transformMatch[1] === undefined) {\n 35:     throw new Error('Missing TRANSFORM_INSTRUCTIONS_START...TRANSFORM_INSTRUCTIONS_END markers');\n 36:   }"},{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":56,"message":"Unnecessary conditional, the types have no overlap","snippet":"if (typeof vegaLiteConfig !== 'object' || vegaLiteConfig === null) {","context":" 54:   }\n 55: \n>56:   if (typeof vegaLiteConfig !== 'object' || vegaLiteConfig === null) {\n 57:     throw new Error('Chart config must be an object');\n 58:   }"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":20,"message":"Use the `RegExp#exec()` method instead","snippet":"const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);","context":" 18: \n 19: function parseInsightLine(line: string, lineNumber: number): ParsedDataInsight {\n>20:   const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);\n 21:   if (!match) {\n 22:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":22,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);","context":" 20:   const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);\n 21:   if (!match) {\n>22:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);\n 23:   }\n 24: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":27,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - content is undefined`);","context":" 25:   const content = match[1];\n 26:   if (content === undefined) {\n>27:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - content is undefined`);\n 28:   }\n 29: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":34,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Expected 4 parts (Title, Description, Trackable, ChartType), got ${parts.length}`","context":" 32:   if (parts.length !== 4) {\n 33:     throw new Error(\n>34:       `Line ${lineNumber}: Expected 4 parts (Title, Description, Trackable, ChartType), got ${parts.length}`\n 35:     );\n 36:   }"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":38,"message":"Forbidden non-null assertion","snippet":"const part0 = parts[0]!;","context":" 36:   }\n 37: \n>38:   const part0 = parts[0]!;\n 39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":39,"message":"Forbidden non-null assertion","snippet":"const part1 = parts[1]!;","context":" 37: \n 38:   const part0 = parts[0]!;\n>39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;\n 41:   const part3 = parts[3]!;"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":40,"message":"Forbidden non-null assertion","snippet":"const part2 = parts[2]!;","context":" 38:   const part0 = parts[0]!;\n 39:   const part1 = parts[1]!;\n>40:   const part2 = parts[2]!;\n 41:   const part3 = parts[3]!;\n 42: "},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":41,"message":"Forbidden non-null assertion","snippet":"const part3 = parts[3]!;","context":" 39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;\n>41:   const part3 = parts[3]!;\n 42: \n 43:   const titleRaw = part0.match(/^Title=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":43,"message":"Use the `RegExp#exec()` method instead","snippet":"const titleRaw = part0.match(/^Title=(.+)$/);","context":" 41:   const part3 = parts[3]!;\n 42: \n>43:   const titleRaw = part0.match(/^Title=(.+)$/);\n 44:   if (titleRaw === null) {\n 45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":45,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Title field missing or malformed`);","context":" 43:   const titleRaw = part0.match(/^Title=(.+)$/);\n 44:   if (titleRaw === null) {\n>45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);\n 46:   }\n 47:   const title = titleRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":47,"message":"Forbidden non-null assertion","snippet":"const title = titleRaw[1]!.trim();","context":" 45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);\n 46:   }\n>47:   const title = titleRaw[1]!.trim();\n 48: \n 49:   const descRaw = part1.match(/^Description=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":49,"message":"Use the `RegExp#exec()` method instead","snippet":"const descRaw = part1.match(/^Description=(.+)$/);","context":" 47:   const title = titleRaw[1]!.trim();\n 48: \n>49:   const descRaw = part1.match(/^Description=(.+)$/);\n 50:   if (descRaw === null) {\n 51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":51,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Description field missing or malformed`);","context":" 49:   const descRaw = part1.match(/^Description=(.+)$/);\n 50:   if (descRaw === null) {\n>51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);\n 52:   }\n 53:   const description = descRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":53,"message":"Forbidden non-null assertion","snippet":"const description = descRaw[1]!.trim();","context":" 51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);\n 52:   }\n>53:   const description = descRaw[1]!.trim();\n 54: \n 55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":55,"message":"Use the `RegExp#exec()` method instead","snippet":"const trackableRaw = part2.match(/^Trackable=(.+)$/);","context":" 53:   const description = descRaw[1]!.trim();\n 54: \n>55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);\n 56:   if (trackableRaw === null) {\n 57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":57,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);","context":" 55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);\n 56:   if (trackableRaw === null) {\n>57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);\n 58:   }\n 59:   const trackableMetric = trackableRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":59,"message":"Forbidden non-null assertion","snippet":"const trackableMetric = trackableRaw[1]!.trim();","context":" 57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);\n 58:   }\n>59:   const trackableMetric = trackableRaw[1]!.trim();\n 60: \n 61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":61,"message":"Use the `RegExp#exec()` method instead","snippet":"const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);","context":" 59:   const trackableMetric = trackableRaw[1]!.trim();\n 60: \n>61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);\n 62:   if (chartTypeRaw === null) {\n 63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":63,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);","context":" 61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);\n 62:   if (chartTypeRaw === null) {\n>63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);\n 64:   }\n 65:   const suggestedChartType = chartTypeRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":65,"message":"Forbidden non-null assertion","snippet":"const suggestedChartType = chartTypeRaw[1]!.trim();","context":" 63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);\n 64:   }\n>65:   const suggestedChartType = chartTypeRaw[1]!.trim();\n 66: \n 67:   if (title.length === 0) {"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":68,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Title cannot be empty`);","context":" 66: \n 67:   if (title.length === 0) {\n>68:     throw new Error(`Line ${lineNumber}: Title cannot be empty`);\n 69:   }\n 70: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":72,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Description cannot be empty`);","context":" 70: \n 71:   if (description.length === 0) {\n>72:     throw new Error(`Line ${lineNumber}: Description cannot be empty`);\n 73:   }\n 74: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":78,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Description must be max 3 sentences, got ${sentenceCount}`","context":" 76:   if (sentenceCount > 3) {\n 77:     throw new Error(\n>78:       `Line ${lineNumber}: Description must be max 3 sentences, got ${sentenceCount}`\n 79:     );\n 80:   }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":83,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Trackable metric cannot be empty`);","context":" 81: \n 82:   if (trackableMetric.length === 0) {\n>83:     throw new Error(`Line ${lineNumber}: Trackable metric cannot be empty`);\n 84:   }\n 85: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":88,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Invalid ChartType '${suggestedChartType}', must be one of: ${VALID_CHART_TYPES.join(', ')}`","context":" 86:   if (!VALID_CHART_TYPES.includes(suggestedChartType as (typeof VALID_CHART_TYPES)[number])) {\n 87:     throw new Error(\n>88:       `Line ${lineNumber}: Invalid ChartType '${suggestedChartType}', must be one of: ${VALID_CHART_TYPES.join(', ')}`\n 89:     );\n 90:   }"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":101,"message":"Use the `RegExp#exec()` method instead","snippet":"const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);","context":" 99: \n 100: function parseNoInsightsLine(line: string, lineNumber: number): string {\n>101:   const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);\n 102:   if (!match || match[1] === undefined) {\n 103:     throw new Error("},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":102,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!match || match[1] === undefined) {","context":" 100: function parseNoInsightsLine(line: string, lineNumber: number): string {\n 101:   const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);\n>102:   if (!match || match[1] === undefined) {\n 103:     throw new Error(\n 104:       `Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":104,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`","context":" 102:   if (!match || match[1] === undefined) {\n 103:     throw new Error(\n>104:       `Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`\n 105:     );\n 106:   }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":110,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Reason cannot be empty`);","context":" 108:   const reason = match[1].trim();\n 109:   if (reason.length === 0) {\n>110:     throw new Error(`Line ${lineNumber}: Reason cannot be empty`);\n 111:   }\n 112: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":143,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${i + 1}: Line is undefined`);","context":" 141:     const line = lines[i];\n 142:     if (line === undefined) {\n>143:       throw new Error(`Line ${i + 1}: Line is undefined`);\n 144:     }\n 145:     if (!line.startsWith('INSIGHT_')) {"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":147,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${i + 1}: Expected INSIGHT_N or NO_INSIGHTS, got: '${line.substring(0, 20)}...'`","context":" 145:     if (!line.startsWith('INSIGHT_')) {\n 146:       throw new Error(\n>147:         `Line ${i + 1}: Expected INSIGHT_N or NO_INSIGHTS, got: '${line.substring(0, 20)}...'`\n 148:       );\n 149:     }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":159,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Too many insights: expected max 5, got ${insights.length}`);","context":" 157: \n 158:   if (insights.length > 5) {\n>159:     throw new Error(`Too many insights: expected max 5, got ${insights.length}`);\n 160:   }\n 161: "},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":13,"message":"Use the `RegExp#exec()` method instead","snippet":"const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);","context":" 11:  */\n 12: export function parseTransformedData(response: string): unknown[] {\n>13:   const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);\n 14: \n 15:   if (!dataMatch || dataMatch[1] === undefined) {"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":15,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!dataMatch || dataMatch[1] === undefined) {","context":" 13:   const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);\n 14: \n>15:   if (!dataMatch || dataMatch[1] === undefined) {\n 16:     throw new Error('Missing DATA_START...DATA_END markers');\n 17:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":41,"message":"Unsafe assignment of an `any` value","snippet":"const item = data[i];","context":" 39: \n 40:   for (let i = 0; i < data.length; i++) {\n>41:     const item = data[i];\n 42:     if (typeof item !== 'object' || item === null || Array.isArray(item)) {\n 43:       throw new Error(`Item at index ${i} must be an object`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":43,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Item at index ${i} must be an object`);","context":" 41:     const item = data[i];\n 42:     if (typeof item !== 'object' || item === null || Array.isArray(item)) {\n>43:       throw new Error(`Item at index ${i} must be an object`);\n 44:     }\n 45:   }"}]}
{"ts":"2026-01-12T09:36:11.305Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":69,"passed":false,"durationMs":9619,"failureCount":55,"failures":[{"type":"lint","code":"@typescript-eslint/no-extraneous-class","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":581,"message":"Unexpected empty class","snippet":"export class FakeVisualizationGenerationService {","context":" 579:  * Fake VisualizationGenerationService for testing (placeholder - visualizations deprecated).\n 580:  */\n>581: export class FakeVisualizationGenerationService {\n 582: }\n 583: "},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":606,"message":"Missing return type on function","snippet":"async analyzeData(","context":" 604:   }\n 605: \n>606:   async analyzeData(\n 607:     _userId: string,\n 608:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":606,"message":"Missing return type on function","snippet":"async analyzeData(","context":" 604:   }\n 605: \n>606:   async analyzeData(\n 607:     _userId: string,\n 608:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":643,"message":"Missing return type on function","snippet":"async generateChartDefinition(","context":" 641:   }\n 642: \n>643:   async generateChartDefinition(\n 644:     _userId: string,\n 645:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":643,"message":"Missing return type on function","snippet":"async generateChartDefinition(","context":" 641:   }\n 642: \n>643:   async generateChartDefinition(\n 644:     _userId: string,\n 645:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":683,"message":"Missing return type on function","snippet":"async transformData(","context":" 681:   }\n 682: \n>683:   async transformData(\n 684:     _userId: string,\n 685:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":683,"message":"Missing return type on function","snippet":"async transformData(","context":" 681:   }\n 682: \n>683:   async transformData(\n 684:     _userId: string,\n 685:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"apps/data-insights-agent/src/domain/dataInsights/usecases/analyzeData.ts","line":176,"message":"Invalid type \"number\" of template literal expression","snippet":"id: `${feedId}-insight-${idx + 1}`,","context":" 174:   const now = new Date().toISOString();\n 175:   const insights: DataInsight[] = parsedInsights.map((pi, idx) => ({\n>176:     id: `${feedId}-insight-${idx + 1}`,\n 177:     title: pi.title,\n 178:     description: pi.description,"},{"type":"lint","code":"@typescript-eslint/no-confusing-void-expression","file":"apps/web/src/components/ChartDefinitionDisplay.tsx","line":22,"message":"Returning a void expression from an arrow function shorthand is forbidden. Please add braces to the arrow function","snippet":"setTimeout(() => setCopied(false), 2000);","context":" 20:     await navigator.clipboard.writeText(JSON.stringify(chartDefinition.vegaLiteConfig, null, 2));\n 21:     setCopied(true);\n>22:     setTimeout(() => setCopied(false), 2000);\n 23:   };\n 24: "},{"type":"lint","code":"@typescript-eslint/no-misused-promises","file":"apps/web/src/components/ChartDefinitionDisplay.tsx","line":30,"message":"Promise-returning function provided to attribute where a void return was expected","snippet":"<Button variant=\"ghost\" size=\"sm\" onClick={handleCopy}>","context":" 28:         <h3 className=\"text-lg font-semibold text-slate-900\">Chart Configuration</h3>\n 29:         <div className=\"flex gap-2\">\n>30:           <Button variant=\"ghost\" size=\"sm\" onClick={handleCopy}>\n 31:             {copied ? (\n 32:               <>"},{"type":"lint","code":"@typescript-eslint/no-empty-function","file":"apps/web/src/components/ChartPreview.tsx","line":26,"message":"Unexpected empty arrow function","snippet":".then(() => {})","context":" 24:       renderer: 'canvas',\n 25:     })\n>26:       .then(() => {})\n 27:       .catch((error: unknown) => {\n 28:         const err = error instanceof Error ? error : new Error(String(error));"},{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"apps/web/src/components/ChartPreview.tsx","line":68,"message":"Unnecessary conditional, the types have no overlap","snippet":"if (chartData === null || chartData.length === 0) {","context":" 66:   }\n 67: \n>68:   if (chartData === null || chartData.length === 0) {\n 69:     return (\n 70:       <Card className=\"mt-4\">"},{"type":"lint","code":"@typescript-eslint/no-confusing-void-expression","file":"apps/web/src/components/DataInsightCard.tsx","line":49,"message":"Returning a void expression from an arrow function shorthand is forbidden. Please add braces to the arrow function","snippet":"onClick={(): void => onConfigureChart(insight.id)}","context":" 47:           variant=\"primary\"\n 48:           size=\"sm\"\n>49:           onClick={(): void => onConfigureChart(insight.id)}\n 50:           isLoading={isConfiguring}\n 51:         >"},{"type":"lint","code":"@typescript-eslint/no-misused-promises","file":"apps/web/src/pages/DataInsightsPage.tsx","line":114,"message":"Promise-returning function provided to attribute where a void return was expected","snippet":"onConfigureChart={handleConfigureChart}","context":" 112:                     key={insight.id}\n 113:                     insight={insight}\n>114:                     onConfigureChart={handleConfigureChart}\n 115:                     isConfiguring={chartGenerating}\n 116:                   />"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":25,"message":"Use the `RegExp#exec()` method instead","snippet":"const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);","context":" 23:  */\n 24: export function parseChartDefinition(response: string): ParsedChartDefinition {\n>25:   const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);\n 26:   const transformMatch = response.match(\n 27:     /TRANSFORM_INSTRUCTIONS_START\\s*([\\s\\S]*?)\\s*TRANSFORM_INSTRUCTIONS_END/"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":26,"message":"Use the `RegExp#exec()` method instead","snippet":"const transformMatch = response.match(","context":" 24: export function parseChartDefinition(response: string): ParsedChartDefinition {\n 25:   const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);\n>26:   const transformMatch = response.match(\n 27:     /TRANSFORM_INSTRUCTIONS_START\\s*([\\s\\S]*?)\\s*TRANSFORM_INSTRUCTIONS_END/\n 28:   );"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":30,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!chartConfigMatch || chartConfigMatch[1] === undefined) {","context":" 28:   );\n 29: \n>30:   if (!chartConfigMatch || chartConfigMatch[1] === undefined) {\n 31:     throw new Error('Missing CHART_CONFIG_START...CHART_CONFIG_END markers');\n 32:   }"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":34,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!transformMatch || transformMatch[1] === undefined) {","context":" 32:   }\n 33: \n>34:   if (!transformMatch || transformMatch[1] === undefined) {\n 35:     throw new Error('Missing TRANSFORM_INSTRUCTIONS_START...TRANSFORM_INSTRUCTIONS_END markers');\n 36:   }"},{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":56,"message":"Unnecessary conditional, the types have no overlap","snippet":"if (typeof vegaLiteConfig !== 'object' || vegaLiteConfig === null) {","context":" 54:   }\n 55: \n>56:   if (typeof vegaLiteConfig !== 'object' || vegaLiteConfig === null) {\n 57:     throw new Error('Chart config must be an object');\n 58:   }"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":20,"message":"Use the `RegExp#exec()` method instead","snippet":"const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);","context":" 18: \n 19: function parseInsightLine(line: string, lineNumber: number): ParsedDataInsight {\n>20:   const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);\n 21:   if (!match) {\n 22:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":22,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);","context":" 20:   const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);\n 21:   if (!match) {\n>22:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);\n 23:   }\n 24: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":27,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - content is undefined`);","context":" 25:   const content = match[1];\n 26:   if (content === undefined) {\n>27:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - content is undefined`);\n 28:   }\n 29: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":34,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Expected 4 parts (Title, Description, Trackable, ChartType), got ${parts.length}`","context":" 32:   if (parts.length !== 4) {\n 33:     throw new Error(\n>34:       `Line ${lineNumber}: Expected 4 parts (Title, Description, Trackable, ChartType), got ${parts.length}`\n 35:     );\n 36:   }"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":38,"message":"Forbidden non-null assertion","snippet":"const part0 = parts[0]!;","context":" 36:   }\n 37: \n>38:   const part0 = parts[0]!;\n 39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":39,"message":"Forbidden non-null assertion","snippet":"const part1 = parts[1]!;","context":" 37: \n 38:   const part0 = parts[0]!;\n>39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;\n 41:   const part3 = parts[3]!;"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":40,"message":"Forbidden non-null assertion","snippet":"const part2 = parts[2]!;","context":" 38:   const part0 = parts[0]!;\n 39:   const part1 = parts[1]!;\n>40:   const part2 = parts[2]!;\n 41:   const part3 = parts[3]!;\n 42: "},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":41,"message":"Forbidden non-null assertion","snippet":"const part3 = parts[3]!;","context":" 39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;\n>41:   const part3 = parts[3]!;\n 42: \n 43:   const titleRaw = part0.match(/^Title=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":43,"message":"Use the `RegExp#exec()` method instead","snippet":"const titleRaw = part0.match(/^Title=(.+)$/);","context":" 41:   const part3 = parts[3]!;\n 42: \n>43:   const titleRaw = part0.match(/^Title=(.+)$/);\n 44:   if (titleRaw === null) {\n 45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":45,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Title field missing or malformed`);","context":" 43:   const titleRaw = part0.match(/^Title=(.+)$/);\n 44:   if (titleRaw === null) {\n>45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);\n 46:   }\n 47:   const title = titleRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":47,"message":"Forbidden non-null assertion","snippet":"const title = titleRaw[1]!.trim();","context":" 45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);\n 46:   }\n>47:   const title = titleRaw[1]!.trim();\n 48: \n 49:   const descRaw = part1.match(/^Description=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":49,"message":"Use the `RegExp#exec()` method instead","snippet":"const descRaw = part1.match(/^Description=(.+)$/);","context":" 47:   const title = titleRaw[1]!.trim();\n 48: \n>49:   const descRaw = part1.match(/^Description=(.+)$/);\n 50:   if (descRaw === null) {\n 51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":51,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Description field missing or malformed`);","context":" 49:   const descRaw = part1.match(/^Description=(.+)$/);\n 50:   if (descRaw === null) {\n>51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);\n 52:   }\n 53:   const description = descRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":53,"message":"Forbidden non-null assertion","snippet":"const description = descRaw[1]!.trim();","context":" 51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);\n 52:   }\n>53:   const description = descRaw[1]!.trim();\n 54: \n 55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":55,"message":"Use the `RegExp#exec()` method instead","snippet":"const trackableRaw = part2.match(/^Trackable=(.+)$/);","context":" 53:   const description = descRaw[1]!.trim();\n 54: \n>55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);\n 56:   if (trackableRaw === null) {\n 57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":57,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);","context":" 55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);\n 56:   if (trackableRaw === null) {\n>57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);\n 58:   }\n 59:   const trackableMetric = trackableRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":59,"message":"Forbidden non-null assertion","snippet":"const trackableMetric = trackableRaw[1]!.trim();","context":" 57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);\n 58:   }\n>59:   const trackableMetric = trackableRaw[1]!.trim();\n 60: \n 61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":61,"message":"Use the `RegExp#exec()` method instead","snippet":"const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);","context":" 59:   const trackableMetric = trackableRaw[1]!.trim();\n 60: \n>61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);\n 62:   if (chartTypeRaw === null) {\n 63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":63,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);","context":" 61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);\n 62:   if (chartTypeRaw === null) {\n>63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);\n 64:   }\n 65:   const suggestedChartType = chartTypeRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":65,"message":"Forbidden non-null assertion","snippet":"const suggestedChartType = chartTypeRaw[1]!.trim();","context":" 63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);\n 64:   }\n>65:   const suggestedChartType = chartTypeRaw[1]!.trim();\n 66: \n 67:   if (title.length === 0) {"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":68,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Title cannot be empty`);","context":" 66: \n 67:   if (title.length === 0) {\n>68:     throw new Error(`Line ${lineNumber}: Title cannot be empty`);\n 69:   }\n 70: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":72,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Description cannot be empty`);","context":" 70: \n 71:   if (description.length === 0) {\n>72:     throw new Error(`Line ${lineNumber}: Description cannot be empty`);\n 73:   }\n 74: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":78,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Description must be max 3 sentences, got ${sentenceCount}`","context":" 76:   if (sentenceCount > 3) {\n 77:     throw new Error(\n>78:       `Line ${lineNumber}: Description must be max 3 sentences, got ${sentenceCount}`\n 79:     );\n 80:   }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":83,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Trackable metric cannot be empty`);","context":" 81: \n 82:   if (trackableMetric.length === 0) {\n>83:     throw new Error(`Line ${lineNumber}: Trackable metric cannot be empty`);\n 84:   }\n 85: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":88,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Invalid ChartType '${suggestedChartType}', must be one of: ${VALID_CHART_TYPES.join(', ')}`","context":" 86:   if (!VALID_CHART_TYPES.includes(suggestedChartType as (typeof VALID_CHART_TYPES)[number])) {\n 87:     throw new Error(\n>88:       `Line ${lineNumber}: Invalid ChartType '${suggestedChartType}', must be one of: ${VALID_CHART_TYPES.join(', ')}`\n 89:     );\n 90:   }"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":101,"message":"Use the `RegExp#exec()` method instead","snippet":"const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);","context":" 99: \n 100: function parseNoInsightsLine(line: string, lineNumber: number): string {\n>101:   const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);\n 102:   if (!match || match[1] === undefined) {\n 103:     throw new Error("},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":102,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!match || match[1] === undefined) {","context":" 100: function parseNoInsightsLine(line: string, lineNumber: number): string {\n 101:   const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);\n>102:   if (!match || match[1] === undefined) {\n 103:     throw new Error(\n 104:       `Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":104,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`","context":" 102:   if (!match || match[1] === undefined) {\n 103:     throw new Error(\n>104:       `Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`\n 105:     );\n 106:   }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":110,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Reason cannot be empty`);","context":" 108:   const reason = match[1].trim();\n 109:   if (reason.length === 0) {\n>110:     throw new Error(`Line ${lineNumber}: Reason cannot be empty`);\n 111:   }\n 112: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":143,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${i + 1}: Line is undefined`);","context":" 141:     const line = lines[i];\n 142:     if (line === undefined) {\n>143:       throw new Error(`Line ${i + 1}: Line is undefined`);\n 144:     }\n 145:     if (!line.startsWith('INSIGHT_')) {"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":147,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${i + 1}: Expected INSIGHT_N or NO_INSIGHTS, got: '${line.substring(0, 20)}...'`","context":" 145:     if (!line.startsWith('INSIGHT_')) {\n 146:       throw new Error(\n>147:         `Line ${i + 1}: Expected INSIGHT_N or NO_INSIGHTS, got: '${line.substring(0, 20)}...'`\n 148:       );\n 149:     }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":159,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Too many insights: expected max 5, got ${insights.length}`);","context":" 157: \n 158:   if (insights.length > 5) {\n>159:     throw new Error(`Too many insights: expected max 5, got ${insights.length}`);\n 160:   }\n 161: "},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":13,"message":"Use the `RegExp#exec()` method instead","snippet":"const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);","context":" 11:  */\n 12: export function parseTransformedData(response: string): unknown[] {\n>13:   const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);\n 14: \n 15:   if (!dataMatch || dataMatch[1] === undefined) {"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":15,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!dataMatch || dataMatch[1] === undefined) {","context":" 13:   const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);\n 14: \n>15:   if (!dataMatch || dataMatch[1] === undefined) {\n 16:     throw new Error('Missing DATA_START...DATA_END markers');\n 17:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":41,"message":"Unsafe assignment of an `any` value","snippet":"const item = data[i];","context":" 39: \n 40:   for (let i = 0; i < data.length; i++) {\n>41:     const item = data[i];\n 42:     if (typeof item !== 'object' || item === null || Array.isArray(item)) {\n 43:       throw new Error(`Item at index ${i} must be an object`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":43,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Item at index ${i} must be an object`);","context":" 41:     const item = data[i];\n 42:     if (typeof item !== 'object' || item === null || Array.isArray(item)) {\n>43:       throw new Error(`Item at index ${i} must be an object`);\n 44:     }\n 45:   }"}]}
{"ts":"2026-01-12T09:36:23.783Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":70,"passed":false,"durationMs":4837,"failureCount":55,"failures":[{"type":"lint","code":"@typescript-eslint/no-extraneous-class","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":581,"message":"Unexpected empty class","snippet":"export class FakeVisualizationGenerationService {","context":" 579:  * Fake VisualizationGenerationService for testing (placeholder - visualizations deprecated).\n 580:  */\n>581: export class FakeVisualizationGenerationService {\n 582: }\n 583: "},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":606,"message":"Missing return type on function","snippet":"async analyzeData(","context":" 604:   }\n 605: \n>606:   async analyzeData(\n 607:     _userId: string,\n 608:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":606,"message":"Missing return type on function","snippet":"async analyzeData(","context":" 604:   }\n 605: \n>606:   async analyzeData(\n 607:     _userId: string,\n 608:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":643,"message":"Missing return type on function","snippet":"async generateChartDefinition(","context":" 641:   }\n 642: \n>643:   async generateChartDefinition(\n 644:     _userId: string,\n 645:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":643,"message":"Missing return type on function","snippet":"async generateChartDefinition(","context":" 641:   }\n 642: \n>643:   async generateChartDefinition(\n 644:     _userId: string,\n 645:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":683,"message":"Missing return type on function","snippet":"async transformData(","context":" 681:   }\n 682: \n>683:   async transformData(\n 684:     _userId: string,\n 685:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":683,"message":"Missing return type on function","snippet":"async transformData(","context":" 681:   }\n 682: \n>683:   async transformData(\n 684:     _userId: string,\n 685:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"apps/data-insights-agent/src/domain/dataInsights/usecases/analyzeData.ts","line":176,"message":"Invalid type \"number\" of template literal expression","snippet":"id: `${feedId}-insight-${idx + 1}`,","context":" 174:   const now = new Date().toISOString();\n 175:   const insights: DataInsight[] = parsedInsights.map((pi, idx) => ({\n>176:     id: `${feedId}-insight-${idx + 1}`,\n 177:     title: pi.title,\n 178:     description: pi.description,"},{"type":"lint","code":"@typescript-eslint/no-confusing-void-expression","file":"apps/web/src/components/ChartDefinitionDisplay.tsx","line":22,"message":"Returning a void expression from an arrow function shorthand is forbidden. Please add braces to the arrow function","snippet":"setTimeout(() => setCopied(false), 2000);","context":" 20:     await navigator.clipboard.writeText(JSON.stringify(chartDefinition.vegaLiteConfig, null, 2));\n 21:     setCopied(true);\n>22:     setTimeout(() => setCopied(false), 2000);\n 23:   };\n 24: "},{"type":"lint","code":"@typescript-eslint/no-misused-promises","file":"apps/web/src/components/ChartDefinitionDisplay.tsx","line":30,"message":"Promise-returning function provided to attribute where a void return was expected","snippet":"<Button variant=\"ghost\" size=\"sm\" onClick={handleCopy}>","context":" 28:         <h3 className=\"text-lg font-semibold text-slate-900\">Chart Configuration</h3>\n 29:         <div className=\"flex gap-2\">\n>30:           <Button variant=\"ghost\" size=\"sm\" onClick={handleCopy}>\n 31:             {copied ? (\n 32:               <>"},{"type":"lint","code":"@typescript-eslint/no-empty-function","file":"apps/web/src/components/ChartPreview.tsx","line":26,"message":"Unexpected empty arrow function","snippet":".then(() => {})","context":" 24:       renderer: 'canvas',\n 25:     })\n>26:       .then(() => {})\n 27:       .catch((error: unknown) => {\n 28:         const err = error instanceof Error ? error : new Error(String(error));"},{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"apps/web/src/components/ChartPreview.tsx","line":68,"message":"Unnecessary conditional, the types have no overlap","snippet":"if (chartData === null || chartData.length === 0) {","context":" 66:   }\n 67: \n>68:   if (chartData === null || chartData.length === 0) {\n 69:     return (\n 70:       <Card className=\"mt-4\">"},{"type":"lint","code":"@typescript-eslint/no-confusing-void-expression","file":"apps/web/src/components/DataInsightCard.tsx","line":49,"message":"Returning a void expression from an arrow function shorthand is forbidden. Please add braces to the arrow function","snippet":"onClick={(): void => onConfigureChart(insight.id)}","context":" 47:           variant=\"primary\"\n 48:           size=\"sm\"\n>49:           onClick={(): void => onConfigureChart(insight.id)}\n 50:           isLoading={isConfiguring}\n 51:         >"},{"type":"lint","code":"@typescript-eslint/no-misused-promises","file":"apps/web/src/pages/DataInsightsPage.tsx","line":114,"message":"Promise-returning function provided to attribute where a void return was expected","snippet":"onConfigureChart={handleConfigureChart}","context":" 112:                     key={insight.id}\n 113:                     insight={insight}\n>114:                     onConfigureChart={handleConfigureChart}\n 115:                     isConfiguring={chartGenerating}\n 116:                   />"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":25,"message":"Use the `RegExp#exec()` method instead","snippet":"const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);","context":" 23:  */\n 24: export function parseChartDefinition(response: string): ParsedChartDefinition {\n>25:   const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);\n 26:   const transformMatch = response.match(\n 27:     /TRANSFORM_INSTRUCTIONS_START\\s*([\\s\\S]*?)\\s*TRANSFORM_INSTRUCTIONS_END/"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":26,"message":"Use the `RegExp#exec()` method instead","snippet":"const transformMatch = response.match(","context":" 24: export function parseChartDefinition(response: string): ParsedChartDefinition {\n 25:   const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);\n>26:   const transformMatch = response.match(\n 27:     /TRANSFORM_INSTRUCTIONS_START\\s*([\\s\\S]*?)\\s*TRANSFORM_INSTRUCTIONS_END/\n 28:   );"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":30,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!chartConfigMatch || chartConfigMatch[1] === undefined) {","context":" 28:   );\n 29: \n>30:   if (!chartConfigMatch || chartConfigMatch[1] === undefined) {\n 31:     throw new Error('Missing CHART_CONFIG_START...CHART_CONFIG_END markers');\n 32:   }"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":34,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!transformMatch || transformMatch[1] === undefined) {","context":" 32:   }\n 33: \n>34:   if (!transformMatch || transformMatch[1] === undefined) {\n 35:     throw new Error('Missing TRANSFORM_INSTRUCTIONS_START...TRANSFORM_INSTRUCTIONS_END markers');\n 36:   }"},{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":56,"message":"Unnecessary conditional, the types have no overlap","snippet":"if (typeof vegaLiteConfig !== 'object' || vegaLiteConfig === null) {","context":" 54:   }\n 55: \n>56:   if (typeof vegaLiteConfig !== 'object' || vegaLiteConfig === null) {\n 57:     throw new Error('Chart config must be an object');\n 58:   }"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":20,"message":"Use the `RegExp#exec()` method instead","snippet":"const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);","context":" 18: \n 19: function parseInsightLine(line: string, lineNumber: number): ParsedDataInsight {\n>20:   const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);\n 21:   if (!match) {\n 22:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":22,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);","context":" 20:   const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);\n 21:   if (!match) {\n>22:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);\n 23:   }\n 24: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":27,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - content is undefined`);","context":" 25:   const content = match[1];\n 26:   if (content === undefined) {\n>27:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - content is undefined`);\n 28:   }\n 29: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":34,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Expected 4 parts (Title, Description, Trackable, ChartType), got ${parts.length}`","context":" 32:   if (parts.length !== 4) {\n 33:     throw new Error(\n>34:       `Line ${lineNumber}: Expected 4 parts (Title, Description, Trackable, ChartType), got ${parts.length}`\n 35:     );\n 36:   }"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":38,"message":"Forbidden non-null assertion","snippet":"const part0 = parts[0]!;","context":" 36:   }\n 37: \n>38:   const part0 = parts[0]!;\n 39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":39,"message":"Forbidden non-null assertion","snippet":"const part1 = parts[1]!;","context":" 37: \n 38:   const part0 = parts[0]!;\n>39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;\n 41:   const part3 = parts[3]!;"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":40,"message":"Forbidden non-null assertion","snippet":"const part2 = parts[2]!;","context":" 38:   const part0 = parts[0]!;\n 39:   const part1 = parts[1]!;\n>40:   const part2 = parts[2]!;\n 41:   const part3 = parts[3]!;\n 42: "},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":41,"message":"Forbidden non-null assertion","snippet":"const part3 = parts[3]!;","context":" 39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;\n>41:   const part3 = parts[3]!;\n 42: \n 43:   const titleRaw = part0.match(/^Title=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":43,"message":"Use the `RegExp#exec()` method instead","snippet":"const titleRaw = part0.match(/^Title=(.+)$/);","context":" 41:   const part3 = parts[3]!;\n 42: \n>43:   const titleRaw = part0.match(/^Title=(.+)$/);\n 44:   if (titleRaw === null) {\n 45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":45,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Title field missing or malformed`);","context":" 43:   const titleRaw = part0.match(/^Title=(.+)$/);\n 44:   if (titleRaw === null) {\n>45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);\n 46:   }\n 47:   const title = titleRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":47,"message":"Forbidden non-null assertion","snippet":"const title = titleRaw[1]!.trim();","context":" 45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);\n 46:   }\n>47:   const title = titleRaw[1]!.trim();\n 48: \n 49:   const descRaw = part1.match(/^Description=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":49,"message":"Use the `RegExp#exec()` method instead","snippet":"const descRaw = part1.match(/^Description=(.+)$/);","context":" 47:   const title = titleRaw[1]!.trim();\n 48: \n>49:   const descRaw = part1.match(/^Description=(.+)$/);\n 50:   if (descRaw === null) {\n 51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":51,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Description field missing or malformed`);","context":" 49:   const descRaw = part1.match(/^Description=(.+)$/);\n 50:   if (descRaw === null) {\n>51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);\n 52:   }\n 53:   const description = descRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":53,"message":"Forbidden non-null assertion","snippet":"const description = descRaw[1]!.trim();","context":" 51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);\n 52:   }\n>53:   const description = descRaw[1]!.trim();\n 54: \n 55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":55,"message":"Use the `RegExp#exec()` method instead","snippet":"const trackableRaw = part2.match(/^Trackable=(.+)$/);","context":" 53:   const description = descRaw[1]!.trim();\n 54: \n>55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);\n 56:   if (trackableRaw === null) {\n 57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":57,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);","context":" 55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);\n 56:   if (trackableRaw === null) {\n>57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);\n 58:   }\n 59:   const trackableMetric = trackableRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":59,"message":"Forbidden non-null assertion","snippet":"const trackableMetric = trackableRaw[1]!.trim();","context":" 57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);\n 58:   }\n>59:   const trackableMetric = trackableRaw[1]!.trim();\n 60: \n 61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":61,"message":"Use the `RegExp#exec()` method instead","snippet":"const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);","context":" 59:   const trackableMetric = trackableRaw[1]!.trim();\n 60: \n>61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);\n 62:   if (chartTypeRaw === null) {\n 63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":63,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);","context":" 61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);\n 62:   if (chartTypeRaw === null) {\n>63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);\n 64:   }\n 65:   const suggestedChartType = chartTypeRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":65,"message":"Forbidden non-null assertion","snippet":"const suggestedChartType = chartTypeRaw[1]!.trim();","context":" 63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);\n 64:   }\n>65:   const suggestedChartType = chartTypeRaw[1]!.trim();\n 66: \n 67:   if (title.length === 0) {"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":68,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Title cannot be empty`);","context":" 66: \n 67:   if (title.length === 0) {\n>68:     throw new Error(`Line ${lineNumber}: Title cannot be empty`);\n 69:   }\n 70: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":72,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Description cannot be empty`);","context":" 70: \n 71:   if (description.length === 0) {\n>72:     throw new Error(`Line ${lineNumber}: Description cannot be empty`);\n 73:   }\n 74: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":78,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Description must be max 3 sentences, got ${sentenceCount}`","context":" 76:   if (sentenceCount > 3) {\n 77:     throw new Error(\n>78:       `Line ${lineNumber}: Description must be max 3 sentences, got ${sentenceCount}`\n 79:     );\n 80:   }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":83,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Trackable metric cannot be empty`);","context":" 81: \n 82:   if (trackableMetric.length === 0) {\n>83:     throw new Error(`Line ${lineNumber}: Trackable metric cannot be empty`);\n 84:   }\n 85: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":88,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Invalid ChartType '${suggestedChartType}', must be one of: ${VALID_CHART_TYPES.join(', ')}`","context":" 86:   if (!VALID_CHART_TYPES.includes(suggestedChartType as (typeof VALID_CHART_TYPES)[number])) {\n 87:     throw new Error(\n>88:       `Line ${lineNumber}: Invalid ChartType '${suggestedChartType}', must be one of: ${VALID_CHART_TYPES.join(', ')}`\n 89:     );\n 90:   }"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":101,"message":"Use the `RegExp#exec()` method instead","snippet":"const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);","context":" 99: \n 100: function parseNoInsightsLine(line: string, lineNumber: number): string {\n>101:   const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);\n 102:   if (!match || match[1] === undefined) {\n 103:     throw new Error("},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":102,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!match || match[1] === undefined) {","context":" 100: function parseNoInsightsLine(line: string, lineNumber: number): string {\n 101:   const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);\n>102:   if (!match || match[1] === undefined) {\n 103:     throw new Error(\n 104:       `Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":104,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`","context":" 102:   if (!match || match[1] === undefined) {\n 103:     throw new Error(\n>104:       `Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`\n 105:     );\n 106:   }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":110,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Reason cannot be empty`);","context":" 108:   const reason = match[1].trim();\n 109:   if (reason.length === 0) {\n>110:     throw new Error(`Line ${lineNumber}: Reason cannot be empty`);\n 111:   }\n 112: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":143,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${i + 1}: Line is undefined`);","context":" 141:     const line = lines[i];\n 142:     if (line === undefined) {\n>143:       throw new Error(`Line ${i + 1}: Line is undefined`);\n 144:     }\n 145:     if (!line.startsWith('INSIGHT_')) {"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":147,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${i + 1}: Expected INSIGHT_N or NO_INSIGHTS, got: '${line.substring(0, 20)}...'`","context":" 145:     if (!line.startsWith('INSIGHT_')) {\n 146:       throw new Error(\n>147:         `Line ${i + 1}: Expected INSIGHT_N or NO_INSIGHTS, got: '${line.substring(0, 20)}...'`\n 148:       );\n 149:     }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":159,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Too many insights: expected max 5, got ${insights.length}`);","context":" 157: \n 158:   if (insights.length > 5) {\n>159:     throw new Error(`Too many insights: expected max 5, got ${insights.length}`);\n 160:   }\n 161: "},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":13,"message":"Use the `RegExp#exec()` method instead","snippet":"const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);","context":" 11:  */\n 12: export function parseTransformedData(response: string): unknown[] {\n>13:   const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);\n 14: \n 15:   if (!dataMatch || dataMatch[1] === undefined) {"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":15,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!dataMatch || dataMatch[1] === undefined) {","context":" 13:   const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);\n 14: \n>15:   if (!dataMatch || dataMatch[1] === undefined) {\n 16:     throw new Error('Missing DATA_START...DATA_END markers');\n 17:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":41,"message":"Unsafe assignment of an `any` value","snippet":"const item = data[i];","context":" 39: \n 40:   for (let i = 0; i < data.length; i++) {\n>41:     const item = data[i];\n 42:     if (typeof item !== 'object' || item === null || Array.isArray(item)) {\n 43:       throw new Error(`Item at index ${i} must be an object`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":43,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Item at index ${i} must be an object`);","context":" 41:     const item = data[i];\n 42:     if (typeof item !== 'object' || item === null || Array.isArray(item)) {\n>43:       throw new Error(`Item at index ${i} must be an object`);\n 44:     }\n 45:   }"}]}
{"ts":"2026-01-12T09:42:01.195Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":71,"passed":false,"durationMs":4703,"failureCount":55,"failures":[{"type":"lint","code":"@typescript-eslint/no-extraneous-class","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":581,"message":"Unexpected empty class","snippet":"export class FakeVisualizationGenerationService {","context":" 579:  * Fake VisualizationGenerationService for testing (placeholder - visualizations deprecated).\n 580:  */\n>581: export class FakeVisualizationGenerationService {\n 582: }\n 583: "},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":606,"message":"Missing return type on function","snippet":"async analyzeData(","context":" 604:   }\n 605: \n>606:   async analyzeData(\n 607:     _userId: string,\n 608:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":606,"message":"Missing return type on function","snippet":"async analyzeData(","context":" 604:   }\n 605: \n>606:   async analyzeData(\n 607:     _userId: string,\n 608:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":643,"message":"Missing return type on function","snippet":"async generateChartDefinition(","context":" 641:   }\n 642: \n>643:   async generateChartDefinition(\n 644:     _userId: string,\n 645:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":643,"message":"Missing return type on function","snippet":"async generateChartDefinition(","context":" 641:   }\n 642: \n>643:   async generateChartDefinition(\n 644:     _userId: string,\n 645:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":683,"message":"Missing return type on function","snippet":"async transformData(","context":" 681:   }\n 682: \n>683:   async transformData(\n 684:     _userId: string,\n 685:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":683,"message":"Missing return type on function","snippet":"async transformData(","context":" 681:   }\n 682: \n>683:   async transformData(\n 684:     _userId: string,\n 685:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"apps/data-insights-agent/src/domain/dataInsights/usecases/analyzeData.ts","line":176,"message":"Invalid type \"number\" of template literal expression","snippet":"id: `${feedId}-insight-${idx + 1}`,","context":" 174:   const now = new Date().toISOString();\n 175:   const insights: DataInsight[] = parsedInsights.map((pi, idx) => ({\n>176:     id: `${feedId}-insight-${idx + 1}`,\n 177:     title: pi.title,\n 178:     description: pi.description,"},{"type":"lint","code":"@typescript-eslint/no-confusing-void-expression","file":"apps/web/src/components/ChartDefinitionDisplay.tsx","line":22,"message":"Returning a void expression from an arrow function shorthand is forbidden. Please add braces to the arrow function","snippet":"setTimeout(() => setCopied(false), 2000);","context":" 20:     await navigator.clipboard.writeText(JSON.stringify(chartDefinition.vegaLiteConfig, null, 2));\n 21:     setCopied(true);\n>22:     setTimeout(() => setCopied(false), 2000);\n 23:   };\n 24: "},{"type":"lint","code":"@typescript-eslint/no-misused-promises","file":"apps/web/src/components/ChartDefinitionDisplay.tsx","line":30,"message":"Promise-returning function provided to attribute where a void return was expected","snippet":"<Button variant=\"ghost\" size=\"sm\" onClick={handleCopy}>","context":" 28:         <h3 className=\"text-lg font-semibold text-slate-900\">Chart Configuration</h3>\n 29:         <div className=\"flex gap-2\">\n>30:           <Button variant=\"ghost\" size=\"sm\" onClick={handleCopy}>\n 31:             {copied ? (\n 32:               <>"},{"type":"lint","code":"@typescript-eslint/no-empty-function","file":"apps/web/src/components/ChartPreview.tsx","line":26,"message":"Unexpected empty arrow function","snippet":".then(() => {})","context":" 24:       renderer: 'canvas',\n 25:     })\n>26:       .then(() => {})\n 27:       .catch((error: unknown) => {\n 28:         const err = error instanceof Error ? error : new Error(String(error));"},{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"apps/web/src/components/ChartPreview.tsx","line":68,"message":"Unnecessary conditional, the types have no overlap","snippet":"if (chartData === null || chartData.length === 0) {","context":" 66:   }\n 67: \n>68:   if (chartData === null || chartData.length === 0) {\n 69:     return (\n 70:       <Card className=\"mt-4\">"},{"type":"lint","code":"@typescript-eslint/no-confusing-void-expression","file":"apps/web/src/components/DataInsightCard.tsx","line":49,"message":"Returning a void expression from an arrow function shorthand is forbidden. Please add braces to the arrow function","snippet":"onClick={(): void => onConfigureChart(insight.id)}","context":" 47:           variant=\"primary\"\n 48:           size=\"sm\"\n>49:           onClick={(): void => onConfigureChart(insight.id)}\n 50:           isLoading={isConfiguring}\n 51:         >"},{"type":"lint","code":"@typescript-eslint/no-misused-promises","file":"apps/web/src/pages/DataInsightsPage.tsx","line":114,"message":"Promise-returning function provided to attribute where a void return was expected","snippet":"onConfigureChart={handleConfigureChart}","context":" 112:                     key={insight.id}\n 113:                     insight={insight}\n>114:                     onConfigureChart={handleConfigureChart}\n 115:                     isConfiguring={chartGenerating}\n 116:                   />"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":25,"message":"Use the `RegExp#exec()` method instead","snippet":"const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);","context":" 23:  */\n 24: export function parseChartDefinition(response: string): ParsedChartDefinition {\n>25:   const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);\n 26:   const transformMatch = response.match(\n 27:     /TRANSFORM_INSTRUCTIONS_START\\s*([\\s\\S]*?)\\s*TRANSFORM_INSTRUCTIONS_END/"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":26,"message":"Use the `RegExp#exec()` method instead","snippet":"const transformMatch = response.match(","context":" 24: export function parseChartDefinition(response: string): ParsedChartDefinition {\n 25:   const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);\n>26:   const transformMatch = response.match(\n 27:     /TRANSFORM_INSTRUCTIONS_START\\s*([\\s\\S]*?)\\s*TRANSFORM_INSTRUCTIONS_END/\n 28:   );"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":30,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!chartConfigMatch || chartConfigMatch[1] === undefined) {","context":" 28:   );\n 29: \n>30:   if (!chartConfigMatch || chartConfigMatch[1] === undefined) {\n 31:     throw new Error('Missing CHART_CONFIG_START...CHART_CONFIG_END markers');\n 32:   }"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":34,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!transformMatch || transformMatch[1] === undefined) {","context":" 32:   }\n 33: \n>34:   if (!transformMatch || transformMatch[1] === undefined) {\n 35:     throw new Error('Missing TRANSFORM_INSTRUCTIONS_START...TRANSFORM_INSTRUCTIONS_END markers');\n 36:   }"},{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":56,"message":"Unnecessary conditional, the types have no overlap","snippet":"if (typeof vegaLiteConfig !== 'object' || vegaLiteConfig === null) {","context":" 54:   }\n 55: \n>56:   if (typeof vegaLiteConfig !== 'object' || vegaLiteConfig === null) {\n 57:     throw new Error('Chart config must be an object');\n 58:   }"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":20,"message":"Use the `RegExp#exec()` method instead","snippet":"const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);","context":" 18: \n 19: function parseInsightLine(line: string, lineNumber: number): ParsedDataInsight {\n>20:   const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);\n 21:   if (!match) {\n 22:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":22,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);","context":" 20:   const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);\n 21:   if (!match) {\n>22:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);\n 23:   }\n 24: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":27,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - content is undefined`);","context":" 25:   const content = match[1];\n 26:   if (content === undefined) {\n>27:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - content is undefined`);\n 28:   }\n 29: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":34,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Expected 4 parts (Title, Description, Trackable, ChartType), got ${parts.length}`","context":" 32:   if (parts.length !== 4) {\n 33:     throw new Error(\n>34:       `Line ${lineNumber}: Expected 4 parts (Title, Description, Trackable, ChartType), got ${parts.length}`\n 35:     );\n 36:   }"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":38,"message":"Forbidden non-null assertion","snippet":"const part0 = parts[0]!;","context":" 36:   }\n 37: \n>38:   const part0 = parts[0]!;\n 39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":39,"message":"Forbidden non-null assertion","snippet":"const part1 = parts[1]!;","context":" 37: \n 38:   const part0 = parts[0]!;\n>39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;\n 41:   const part3 = parts[3]!;"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":40,"message":"Forbidden non-null assertion","snippet":"const part2 = parts[2]!;","context":" 38:   const part0 = parts[0]!;\n 39:   const part1 = parts[1]!;\n>40:   const part2 = parts[2]!;\n 41:   const part3 = parts[3]!;\n 42: "},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":41,"message":"Forbidden non-null assertion","snippet":"const part3 = parts[3]!;","context":" 39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;\n>41:   const part3 = parts[3]!;\n 42: \n 43:   const titleRaw = part0.match(/^Title=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":43,"message":"Use the `RegExp#exec()` method instead","snippet":"const titleRaw = part0.match(/^Title=(.+)$/);","context":" 41:   const part3 = parts[3]!;\n 42: \n>43:   const titleRaw = part0.match(/^Title=(.+)$/);\n 44:   if (titleRaw === null) {\n 45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":45,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Title field missing or malformed`);","context":" 43:   const titleRaw = part0.match(/^Title=(.+)$/);\n 44:   if (titleRaw === null) {\n>45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);\n 46:   }\n 47:   const title = titleRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":47,"message":"Forbidden non-null assertion","snippet":"const title = titleRaw[1]!.trim();","context":" 45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);\n 46:   }\n>47:   const title = titleRaw[1]!.trim();\n 48: \n 49:   const descRaw = part1.match(/^Description=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":49,"message":"Use the `RegExp#exec()` method instead","snippet":"const descRaw = part1.match(/^Description=(.+)$/);","context":" 47:   const title = titleRaw[1]!.trim();\n 48: \n>49:   const descRaw = part1.match(/^Description=(.+)$/);\n 50:   if (descRaw === null) {\n 51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":51,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Description field missing or malformed`);","context":" 49:   const descRaw = part1.match(/^Description=(.+)$/);\n 50:   if (descRaw === null) {\n>51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);\n 52:   }\n 53:   const description = descRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":53,"message":"Forbidden non-null assertion","snippet":"const description = descRaw[1]!.trim();","context":" 51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);\n 52:   }\n>53:   const description = descRaw[1]!.trim();\n 54: \n 55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":55,"message":"Use the `RegExp#exec()` method instead","snippet":"const trackableRaw = part2.match(/^Trackable=(.+)$/);","context":" 53:   const description = descRaw[1]!.trim();\n 54: \n>55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);\n 56:   if (trackableRaw === null) {\n 57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":57,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);","context":" 55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);\n 56:   if (trackableRaw === null) {\n>57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);\n 58:   }\n 59:   const trackableMetric = trackableRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":59,"message":"Forbidden non-null assertion","snippet":"const trackableMetric = trackableRaw[1]!.trim();","context":" 57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);\n 58:   }\n>59:   const trackableMetric = trackableRaw[1]!.trim();\n 60: \n 61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":61,"message":"Use the `RegExp#exec()` method instead","snippet":"const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);","context":" 59:   const trackableMetric = trackableRaw[1]!.trim();\n 60: \n>61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);\n 62:   if (chartTypeRaw === null) {\n 63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":63,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);","context":" 61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);\n 62:   if (chartTypeRaw === null) {\n>63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);\n 64:   }\n 65:   const suggestedChartType = chartTypeRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":65,"message":"Forbidden non-null assertion","snippet":"const suggestedChartType = chartTypeRaw[1]!.trim();","context":" 63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);\n 64:   }\n>65:   const suggestedChartType = chartTypeRaw[1]!.trim();\n 66: \n 67:   if (title.length === 0) {"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":68,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Title cannot be empty`);","context":" 66: \n 67:   if (title.length === 0) {\n>68:     throw new Error(`Line ${lineNumber}: Title cannot be empty`);\n 69:   }\n 70: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":72,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Description cannot be empty`);","context":" 70: \n 71:   if (description.length === 0) {\n>72:     throw new Error(`Line ${lineNumber}: Description cannot be empty`);\n 73:   }\n 74: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":78,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Description must be max 3 sentences, got ${sentenceCount}`","context":" 76:   if (sentenceCount > 3) {\n 77:     throw new Error(\n>78:       `Line ${lineNumber}: Description must be max 3 sentences, got ${sentenceCount}`\n 79:     );\n 80:   }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":83,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Trackable metric cannot be empty`);","context":" 81: \n 82:   if (trackableMetric.length === 0) {\n>83:     throw new Error(`Line ${lineNumber}: Trackable metric cannot be empty`);\n 84:   }\n 85: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":88,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Invalid ChartType '${suggestedChartType}', must be one of: ${VALID_CHART_TYPES.join(', ')}`","context":" 86:   if (!VALID_CHART_TYPES.includes(suggestedChartType as (typeof VALID_CHART_TYPES)[number])) {\n 87:     throw new Error(\n>88:       `Line ${lineNumber}: Invalid ChartType '${suggestedChartType}', must be one of: ${VALID_CHART_TYPES.join(', ')}`\n 89:     );\n 90:   }"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":101,"message":"Use the `RegExp#exec()` method instead","snippet":"const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);","context":" 99: \n 100: function parseNoInsightsLine(line: string, lineNumber: number): string {\n>101:   const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);\n 102:   if (!match || match[1] === undefined) {\n 103:     throw new Error("},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":102,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!match || match[1] === undefined) {","context":" 100: function parseNoInsightsLine(line: string, lineNumber: number): string {\n 101:   const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);\n>102:   if (!match || match[1] === undefined) {\n 103:     throw new Error(\n 104:       `Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":104,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`","context":" 102:   if (!match || match[1] === undefined) {\n 103:     throw new Error(\n>104:       `Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`\n 105:     );\n 106:   }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":110,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Reason cannot be empty`);","context":" 108:   const reason = match[1].trim();\n 109:   if (reason.length === 0) {\n>110:     throw new Error(`Line ${lineNumber}: Reason cannot be empty`);\n 111:   }\n 112: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":143,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${i + 1}: Line is undefined`);","context":" 141:     const line = lines[i];\n 142:     if (line === undefined) {\n>143:       throw new Error(`Line ${i + 1}: Line is undefined`);\n 144:     }\n 145:     if (!line.startsWith('INSIGHT_')) {"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":147,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${i + 1}: Expected INSIGHT_N or NO_INSIGHTS, got: '${line.substring(0, 20)}...'`","context":" 145:     if (!line.startsWith('INSIGHT_')) {\n 146:       throw new Error(\n>147:         `Line ${i + 1}: Expected INSIGHT_N or NO_INSIGHTS, got: '${line.substring(0, 20)}...'`\n 148:       );\n 149:     }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":159,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Too many insights: expected max 5, got ${insights.length}`);","context":" 157: \n 158:   if (insights.length > 5) {\n>159:     throw new Error(`Too many insights: expected max 5, got ${insights.length}`);\n 160:   }\n 161: "},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":13,"message":"Use the `RegExp#exec()` method instead","snippet":"const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);","context":" 11:  */\n 12: export function parseTransformedData(response: string): unknown[] {\n>13:   const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);\n 14: \n 15:   if (!dataMatch || dataMatch[1] === undefined) {"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":15,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!dataMatch || dataMatch[1] === undefined) {","context":" 13:   const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);\n 14: \n>15:   if (!dataMatch || dataMatch[1] === undefined) {\n 16:     throw new Error('Missing DATA_START...DATA_END markers');\n 17:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":41,"message":"Unsafe assignment of an `any` value","snippet":"const item = data[i];","context":" 39: \n 40:   for (let i = 0; i < data.length; i++) {\n>41:     const item = data[i];\n 42:     if (typeof item !== 'object' || item === null || Array.isArray(item)) {\n 43:       throw new Error(`Item at index ${i} must be an object`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":43,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Item at index ${i} must be an object`);","context":" 41:     const item = data[i];\n 42:     if (typeof item !== 'object' || item === null || Array.isArray(item)) {\n>43:       throw new Error(`Item at index ${i} must be an object`);\n 44:     }\n 45:   }"}]}
{"ts":"2026-01-12T09:46:03.040Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":72,"passed":false,"durationMs":4972,"failureCount":55,"failures":[{"type":"lint","code":"@typescript-eslint/no-extraneous-class","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":581,"message":"Unexpected empty class","snippet":"export class FakeVisualizationGenerationService {","context":" 579:  * Fake VisualizationGenerationService for testing (placeholder - visualizations deprecated).\n 580:  */\n>581: export class FakeVisualizationGenerationService {\n 582: }\n 583: "},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":606,"message":"Missing return type on function","snippet":"async analyzeData(","context":" 604:   }\n 605: \n>606:   async analyzeData(\n 607:     _userId: string,\n 608:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":606,"message":"Missing return type on function","snippet":"async analyzeData(","context":" 604:   }\n 605: \n>606:   async analyzeData(\n 607:     _userId: string,\n 608:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":643,"message":"Missing return type on function","snippet":"async generateChartDefinition(","context":" 641:   }\n 642: \n>643:   async generateChartDefinition(\n 644:     _userId: string,\n 645:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":643,"message":"Missing return type on function","snippet":"async generateChartDefinition(","context":" 641:   }\n 642: \n>643:   async generateChartDefinition(\n 644:     _userId: string,\n 645:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-function-return-type","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":683,"message":"Missing return type on function","snippet":"async transformData(","context":" 681:   }\n 682: \n>683:   async transformData(\n 684:     _userId: string,\n 685:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/explicit-module-boundary-types","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":683,"message":"Missing return type on function","snippet":"async transformData(","context":" 681:   }\n 682: \n>683:   async transformData(\n 684:     _userId: string,\n 685:     _jsonSchema: object,"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"apps/data-insights-agent/src/domain/dataInsights/usecases/analyzeData.ts","line":176,"message":"Invalid type \"number\" of template literal expression","snippet":"id: `${feedId}-insight-${idx + 1}`,","context":" 174:   const now = new Date().toISOString();\n 175:   const insights: DataInsight[] = parsedInsights.map((pi, idx) => ({\n>176:     id: `${feedId}-insight-${idx + 1}`,\n 177:     title: pi.title,\n 178:     description: pi.description,"},{"type":"lint","code":"@typescript-eslint/no-confusing-void-expression","file":"apps/web/src/components/ChartDefinitionDisplay.tsx","line":22,"message":"Returning a void expression from an arrow function shorthand is forbidden. Please add braces to the arrow function","snippet":"setTimeout(() => setCopied(false), 2000);","context":" 20:     await navigator.clipboard.writeText(JSON.stringify(chartDefinition.vegaLiteConfig, null, 2));\n 21:     setCopied(true);\n>22:     setTimeout(() => setCopied(false), 2000);\n 23:   };\n 24: "},{"type":"lint","code":"@typescript-eslint/no-misused-promises","file":"apps/web/src/components/ChartDefinitionDisplay.tsx","line":30,"message":"Promise-returning function provided to attribute where a void return was expected","snippet":"<Button variant=\"ghost\" size=\"sm\" onClick={handleCopy}>","context":" 28:         <h3 className=\"text-lg font-semibold text-slate-900\">Chart Configuration</h3>\n 29:         <div className=\"flex gap-2\">\n>30:           <Button variant=\"ghost\" size=\"sm\" onClick={handleCopy}>\n 31:             {copied ? (\n 32:               <>"},{"type":"lint","code":"@typescript-eslint/no-empty-function","file":"apps/web/src/components/ChartPreview.tsx","line":26,"message":"Unexpected empty arrow function","snippet":".then(() => {})","context":" 24:       renderer: 'canvas',\n 25:     })\n>26:       .then(() => {})\n 27:       .catch((error: unknown) => {\n 28:         const err = error instanceof Error ? error : new Error(String(error));"},{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"apps/web/src/components/ChartPreview.tsx","line":68,"message":"Unnecessary conditional, the types have no overlap","snippet":"if (chartData === null || chartData.length === 0) {","context":" 66:   }\n 67: \n>68:   if (chartData === null || chartData.length === 0) {\n 69:     return (\n 70:       <Card className=\"mt-4\">"},{"type":"lint","code":"@typescript-eslint/no-confusing-void-expression","file":"apps/web/src/components/DataInsightCard.tsx","line":49,"message":"Returning a void expression from an arrow function shorthand is forbidden. Please add braces to the arrow function","snippet":"onClick={(): void => onConfigureChart(insight.id)}","context":" 47:           variant=\"primary\"\n 48:           size=\"sm\"\n>49:           onClick={(): void => onConfigureChart(insight.id)}\n 50:           isLoading={isConfiguring}\n 51:         >"},{"type":"lint","code":"@typescript-eslint/no-misused-promises","file":"apps/web/src/pages/DataInsightsPage.tsx","line":114,"message":"Promise-returning function provided to attribute where a void return was expected","snippet":"onConfigureChart={handleConfigureChart}","context":" 112:                     key={insight.id}\n 113:                     insight={insight}\n>114:                     onConfigureChart={handleConfigureChart}\n 115:                     isConfiguring={chartGenerating}\n 116:                   />"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":25,"message":"Use the `RegExp#exec()` method instead","snippet":"const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);","context":" 23:  */\n 24: export function parseChartDefinition(response: string): ParsedChartDefinition {\n>25:   const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);\n 26:   const transformMatch = response.match(\n 27:     /TRANSFORM_INSTRUCTIONS_START\\s*([\\s\\S]*?)\\s*TRANSFORM_INSTRUCTIONS_END/"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":26,"message":"Use the `RegExp#exec()` method instead","snippet":"const transformMatch = response.match(","context":" 24: export function parseChartDefinition(response: string): ParsedChartDefinition {\n 25:   const chartConfigMatch = response.match(/CHART_CONFIG_START\\s*([\\s\\S]*?)\\s*CHART_CONFIG_END/);\n>26:   const transformMatch = response.match(\n 27:     /TRANSFORM_INSTRUCTIONS_START\\s*([\\s\\S]*?)\\s*TRANSFORM_INSTRUCTIONS_END/\n 28:   );"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":30,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!chartConfigMatch || chartConfigMatch[1] === undefined) {","context":" 28:   );\n 29: \n>30:   if (!chartConfigMatch || chartConfigMatch[1] === undefined) {\n 31:     throw new Error('Missing CHART_CONFIG_START...CHART_CONFIG_END markers');\n 32:   }"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":34,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!transformMatch || transformMatch[1] === undefined) {","context":" 32:   }\n 33: \n>34:   if (!transformMatch || transformMatch[1] === undefined) {\n 35:     throw new Error('Missing TRANSFORM_INSTRUCTIONS_START...TRANSFORM_INSTRUCTIONS_END markers');\n 36:   }"},{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"packages/llm-common/src/dataInsights/parseChartDefinition.ts","line":56,"message":"Unnecessary conditional, the types have no overlap","snippet":"if (typeof vegaLiteConfig !== 'object' || vegaLiteConfig === null) {","context":" 54:   }\n 55: \n>56:   if (typeof vegaLiteConfig !== 'object' || vegaLiteConfig === null) {\n 57:     throw new Error('Chart config must be an object');\n 58:   }"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":20,"message":"Use the `RegExp#exec()` method instead","snippet":"const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);","context":" 18: \n 19: function parseInsightLine(line: string, lineNumber: number): ParsedDataInsight {\n>20:   const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);\n 21:   if (!match) {\n 22:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":22,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);","context":" 20:   const match = line.match(/^INSIGHT_\\d+:\\s*(.+)$/);\n 21:   if (!match) {\n>22:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - must start with INSIGHT_N:`);\n 23:   }\n 24: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":27,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - content is undefined`);","context":" 25:   const content = match[1];\n 26:   if (content === undefined) {\n>27:     throw new Error(`Line ${lineNumber}: Invalid INSIGHT format - content is undefined`);\n 28:   }\n 29: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":34,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Expected 4 parts (Title, Description, Trackable, ChartType), got ${parts.length}`","context":" 32:   if (parts.length !== 4) {\n 33:     throw new Error(\n>34:       `Line ${lineNumber}: Expected 4 parts (Title, Description, Trackable, ChartType), got ${parts.length}`\n 35:     );\n 36:   }"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":38,"message":"Forbidden non-null assertion","snippet":"const part0 = parts[0]!;","context":" 36:   }\n 37: \n>38:   const part0 = parts[0]!;\n 39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":39,"message":"Forbidden non-null assertion","snippet":"const part1 = parts[1]!;","context":" 37: \n 38:   const part0 = parts[0]!;\n>39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;\n 41:   const part3 = parts[3]!;"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":40,"message":"Forbidden non-null assertion","snippet":"const part2 = parts[2]!;","context":" 38:   const part0 = parts[0]!;\n 39:   const part1 = parts[1]!;\n>40:   const part2 = parts[2]!;\n 41:   const part3 = parts[3]!;\n 42: "},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":41,"message":"Forbidden non-null assertion","snippet":"const part3 = parts[3]!;","context":" 39:   const part1 = parts[1]!;\n 40:   const part2 = parts[2]!;\n>41:   const part3 = parts[3]!;\n 42: \n 43:   const titleRaw = part0.match(/^Title=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":43,"message":"Use the `RegExp#exec()` method instead","snippet":"const titleRaw = part0.match(/^Title=(.+)$/);","context":" 41:   const part3 = parts[3]!;\n 42: \n>43:   const titleRaw = part0.match(/^Title=(.+)$/);\n 44:   if (titleRaw === null) {\n 45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":45,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Title field missing or malformed`);","context":" 43:   const titleRaw = part0.match(/^Title=(.+)$/);\n 44:   if (titleRaw === null) {\n>45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);\n 46:   }\n 47:   const title = titleRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":47,"message":"Forbidden non-null assertion","snippet":"const title = titleRaw[1]!.trim();","context":" 45:     throw new Error(`Line ${lineNumber}: Title field missing or malformed`);\n 46:   }\n>47:   const title = titleRaw[1]!.trim();\n 48: \n 49:   const descRaw = part1.match(/^Description=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":49,"message":"Use the `RegExp#exec()` method instead","snippet":"const descRaw = part1.match(/^Description=(.+)$/);","context":" 47:   const title = titleRaw[1]!.trim();\n 48: \n>49:   const descRaw = part1.match(/^Description=(.+)$/);\n 50:   if (descRaw === null) {\n 51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":51,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Description field missing or malformed`);","context":" 49:   const descRaw = part1.match(/^Description=(.+)$/);\n 50:   if (descRaw === null) {\n>51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);\n 52:   }\n 53:   const description = descRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":53,"message":"Forbidden non-null assertion","snippet":"const description = descRaw[1]!.trim();","context":" 51:     throw new Error(`Line ${lineNumber}: Description field missing or malformed`);\n 52:   }\n>53:   const description = descRaw[1]!.trim();\n 54: \n 55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":55,"message":"Use the `RegExp#exec()` method instead","snippet":"const trackableRaw = part2.match(/^Trackable=(.+)$/);","context":" 53:   const description = descRaw[1]!.trim();\n 54: \n>55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);\n 56:   if (trackableRaw === null) {\n 57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":57,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);","context":" 55:   const trackableRaw = part2.match(/^Trackable=(.+)$/);\n 56:   if (trackableRaw === null) {\n>57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);\n 58:   }\n 59:   const trackableMetric = trackableRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":59,"message":"Forbidden non-null assertion","snippet":"const trackableMetric = trackableRaw[1]!.trim();","context":" 57:     throw new Error(`Line ${lineNumber}: Trackable field missing or malformed`);\n 58:   }\n>59:   const trackableMetric = trackableRaw[1]!.trim();\n 60: \n 61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":61,"message":"Use the `RegExp#exec()` method instead","snippet":"const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);","context":" 59:   const trackableMetric = trackableRaw[1]!.trim();\n 60: \n>61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);\n 62:   if (chartTypeRaw === null) {\n 63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":63,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);","context":" 61:   const chartTypeRaw = part3.match(/^ChartType=([A-Z0-9]+)$/);\n 62:   if (chartTypeRaw === null) {\n>63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);\n 64:   }\n 65:   const suggestedChartType = chartTypeRaw[1]!.trim();"},{"type":"lint","code":"@typescript-eslint/no-non-null-assertion","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":65,"message":"Forbidden non-null assertion","snippet":"const suggestedChartType = chartTypeRaw[1]!.trim();","context":" 63:     throw new Error(`Line ${lineNumber}: ChartType field missing or malformed`);\n 64:   }\n>65:   const suggestedChartType = chartTypeRaw[1]!.trim();\n 66: \n 67:   if (title.length === 0) {"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":68,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Title cannot be empty`);","context":" 66: \n 67:   if (title.length === 0) {\n>68:     throw new Error(`Line ${lineNumber}: Title cannot be empty`);\n 69:   }\n 70: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":72,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Description cannot be empty`);","context":" 70: \n 71:   if (description.length === 0) {\n>72:     throw new Error(`Line ${lineNumber}: Description cannot be empty`);\n 73:   }\n 74: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":78,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Description must be max 3 sentences, got ${sentenceCount}`","context":" 76:   if (sentenceCount > 3) {\n 77:     throw new Error(\n>78:       `Line ${lineNumber}: Description must be max 3 sentences, got ${sentenceCount}`\n 79:     );\n 80:   }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":83,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Trackable metric cannot be empty`);","context":" 81: \n 82:   if (trackableMetric.length === 0) {\n>83:     throw new Error(`Line ${lineNumber}: Trackable metric cannot be empty`);\n 84:   }\n 85: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":88,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Invalid ChartType '${suggestedChartType}', must be one of: ${VALID_CHART_TYPES.join(', ')}`","context":" 86:   if (!VALID_CHART_TYPES.includes(suggestedChartType as (typeof VALID_CHART_TYPES)[number])) {\n 87:     throw new Error(\n>88:       `Line ${lineNumber}: Invalid ChartType '${suggestedChartType}', must be one of: ${VALID_CHART_TYPES.join(', ')}`\n 89:     );\n 90:   }"},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":101,"message":"Use the `RegExp#exec()` method instead","snippet":"const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);","context":" 99: \n 100: function parseNoInsightsLine(line: string, lineNumber: number): string {\n>101:   const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);\n 102:   if (!match || match[1] === undefined) {\n 103:     throw new Error("},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":102,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!match || match[1] === undefined) {","context":" 100: function parseNoInsightsLine(line: string, lineNumber: number): string {\n 101:   const match = line.match(/^NO_INSIGHTS:\\s*Reason=(.+)$/);\n>102:   if (!match || match[1] === undefined) {\n 103:     throw new Error(\n 104:       `Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":104,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`","context":" 102:   if (!match || match[1] === undefined) {\n 103:     throw new Error(\n>104:       `Line ${lineNumber}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`\n 105:     );\n 106:   }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":110,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${lineNumber}: Reason cannot be empty`);","context":" 108:   const reason = match[1].trim();\n 109:   if (reason.length === 0) {\n>110:     throw new Error(`Line ${lineNumber}: Reason cannot be empty`);\n 111:   }\n 112: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":143,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Line ${i + 1}: Line is undefined`);","context":" 141:     const line = lines[i];\n 142:     if (line === undefined) {\n>143:       throw new Error(`Line ${i + 1}: Line is undefined`);\n 144:     }\n 145:     if (!line.startsWith('INSIGHT_')) {"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":147,"message":"Invalid type \"number\" of template literal expression","snippet":"`Line ${i + 1}: Expected INSIGHT_N or NO_INSIGHTS, got: '${line.substring(0, 20)}...'`","context":" 145:     if (!line.startsWith('INSIGHT_')) {\n 146:       throw new Error(\n>147:         `Line ${i + 1}: Expected INSIGHT_N or NO_INSIGHTS, got: '${line.substring(0, 20)}...'`\n 148:       );\n 149:     }"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":159,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Too many insights: expected max 5, got ${insights.length}`);","context":" 157: \n 158:   if (insights.length > 5) {\n>159:     throw new Error(`Too many insights: expected max 5, got ${insights.length}`);\n 160:   }\n 161: "},{"type":"lint","code":"@typescript-eslint/prefer-regexp-exec","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":13,"message":"Use the `RegExp#exec()` method instead","snippet":"const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);","context":" 11:  */\n 12: export function parseTransformedData(response: string): unknown[] {\n>13:   const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);\n 14: \n 15:   if (!dataMatch || dataMatch[1] === undefined) {"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":15,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (!dataMatch || dataMatch[1] === undefined) {","context":" 13:   const dataMatch = response.match(/DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/);\n 14: \n>15:   if (!dataMatch || dataMatch[1] === undefined) {\n 16:     throw new Error('Missing DATA_START...DATA_END markers');\n 17:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":41,"message":"Unsafe assignment of an `any` value","snippet":"const item = data[i];","context":" 39: \n 40:   for (let i = 0; i < data.length; i++) {\n>41:     const item = data[i];\n 42:     if (typeof item !== 'object' || item === null || Array.isArray(item)) {\n 43:       throw new Error(`Item at index ${i} must be an object`);"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":43,"message":"Invalid type \"number\" of template literal expression","snippet":"throw new Error(`Item at index ${i} must be an object`);","context":" 41:     const item = data[i];\n 42:     if (typeof item !== 'object' || item === null || Array.isArray(item)) {\n>43:       throw new Error(`Item at index ${i} must be an object`);\n 44:     }\n 45:   }"}]}
{"ts":"2026-01-12T09:52:45.495Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":73,"passed":false,"durationMs":3128,"failureCount":3,"failures":[{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/compositeFeedRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataSourceRoutes.test.ts","line":67,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 65:       visualizationRepository: fakeVisualizationRepo,\n 66:       visualizationGenerationService: fakeVisualizationGenerationService,\n>67:       dataAnalysisService: fakeDataAnalysisService,\n 68:       chartDefinitionService: fakeChartDefinitionService,\n 69:       dataTransformService: fakeDataTransformService,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/internalRoutes.test.ts","line":55,"message":"Type 'FakeDataAnalysisService' is not assignable to type 'DataAnalysisService'.","snippet":"dataAnalysisService: fakeDataAnalysisService,","context":" 53:       visualizationRepository: fakeVisualizationRepo,\n 54:       visualizationGenerationService: fakeVisualizationGenerationService,\n>55:       dataAnalysisService: fakeDataAnalysisService,\n 56:       chartDefinitionService: fakeChartDefinitionService,\n 57:       dataTransformService: fakeDataTransformService,"}]}
{"ts":"2026-01-12T09:55:46.621Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":74,"passed":false,"durationMs":3189,"failureCount":1,"failures":[{"type":"typecheck","code":"TS6196","file":"apps/data-insights-agent/src/__tests__/fakes.ts","line":45,"message":"'ParsedDataInsight' is declared but never used.","snippet":"import type { ParsedDataInsight, ParsedChartDefinition } from '@intexuraos/llm-common';","context":" 43:   DataTransformError,\n 44: } from '../infra/gemini/dataTransformService.js';\n>45: import type { ParsedDataInsight, ParsedChartDefinition } from '@intexuraos/llm-common';\n 46: \n 47: /**"}]}
{"ts":"2026-01-12T09:56:42.988Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":75,"passed":false,"durationMs":38112,"failureCount":8,"failures":[{"type":"lint","code":"@typescript-eslint/no-confusing-void-expression","file":"apps/web/src/components/DataInsightCard.tsx","line":49,"message":"Returning a void expression from an arrow function shorthand is forbidden. Please add braces to the arrow function","snippet":"onClick={(): void => onConfigureChart(insight.id)}","context":" 47:           variant=\"primary\"\n 48:           size=\"sm\"\n>49:           onClick={(): void => onConfigureChart(insight.id)}\n 50:           isLoading={isConfiguring}\n 51:         >"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":48,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (titleRaw === null || titleRaw[1] === undefined) {","context":" 46: \n 47:   const titleRaw = /^Title=(.+)$/.exec(part0);\n>48:   if (titleRaw === null || titleRaw[1] === undefined) {\n 49:     throw new Error(`Line ${String(lineNumber)}: Title field missing or malformed`);\n 50:   }"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":54,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (descRaw === null || descRaw[1] === undefined) {","context":" 52: \n 53:   const descRaw = /^Description=(.+)$/.exec(part1);\n>54:   if (descRaw === null || descRaw[1] === undefined) {\n 55:     throw new Error(`Line ${String(lineNumber)}: Description field missing or malformed`);\n 56:   }"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":60,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (trackableRaw === null || trackableRaw[1] === undefined) {","context":" 58: \n 59:   const trackableRaw = /^Trackable=(.+)$/.exec(part2);\n>60:   if (trackableRaw === null || trackableRaw[1] === undefined) {\n 61:     throw new Error(`Line ${String(lineNumber)}: Trackable field missing or malformed`);\n 62:   }"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":66,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (chartTypeRaw === null || chartTypeRaw[1] === undefined) {","context":" 64: \n 65:   const chartTypeRaw = /^ChartType=([A-Z0-9]+)$/.exec(part3);\n>66:   if (chartTypeRaw === null || chartTypeRaw[1] === undefined) {\n 67:     throw new Error(`Line ${String(lineNumber)}: ChartType field missing or malformed`);\n 68:   }"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseInsightResponse.ts","line":106,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (match === null || match[1] === undefined) {","context":" 104: function parseNoInsightsLine(line: string, lineNumber: number): string {\n 105:   const match = /^NO_INSIGHTS:\\s*Reason=(.+)$/.exec(line);\n>106:   if (match === null || match[1] === undefined) {\n 107:     throw new Error(\n 108:       `Line ${String(lineNumber)}: Invalid NO_INSIGHTS format - must be 'NO_INSIGHTS: Reason=...'`"},{"type":"lint","code":"@typescript-eslint/prefer-optional-chain","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":15,"message":"Prefer using an optional chain expression instead, as it's more concise and easier to read","snippet":"if (dataMatch === null || dataMatch[1] === undefined) {","context":" 13:   const dataMatch = /DATA_START\\s*([\\s\\S]*?)\\s*DATA_END/.exec(response);\n 14: \n>15:   if (dataMatch === null || dataMatch[1] === undefined) {\n 16:     throw new Error('Missing DATA_START...DATA_END markers');\n 17:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"packages/llm-common/src/dataInsights/parseTransformedData.ts","line":41,"message":"Unsafe assignment of an `any` value","snippet":"const item = data[i];","context":" 39: \n 40:   for (let i = 0; i < data.length; i++) {\n>41:     const item = data[i];\n 42:     if (typeof item !== 'object' || item === null || Array.isArray(item)) {\n 43:       throw new Error(`Item at index ${String(i)} must be an object`);"}]}
{"ts":"2026-01-12T09:58:36.314Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":76,"passed":false,"durationMs":39566,"failureCount":4,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/data-insights-agent/src/__tests__/chartDefinitionService.test.ts","line":0,"message":"chartDefinitionService > generateChartDefinition > generates chart definition successfully","snippet":null,"context":null},{"type":"test","code":"TEST_FAIL","file":"apps/data-insights-agent/src/__tests__/dataAnalysisService.test.ts","line":0,"message":"dataAnalysisService > analyzeData > returns NO_INSIGHTS when data has no meaningful insights","snippet":null,"context":null},{"type":"test","code":"TEST_FAIL","file":"apps/data-insights-agent/src/__tests__/dataTransformService.test.ts","line":0,"message":"dataTransformService > transformData > transforms data successfully","snippet":null,"context":null},{"type":"coverage","code":"COVERAGE_THRESHOLD","file":"vitest.config.ts","line":0,"message":"lines: 81.21% < 95%","snippet":null,"context":null}]}
{"ts":"2026-01-12T10:04:00.787Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":77,"passed":false,"durationMs":8100,"failureCount":1,"failures":[{"type":"coverage","code":"COVERAGE_THRESHOLD","file":"vitest.config.ts","line":0,"message":"lines: 81.21% < 95%","snippet":null,"context":null}]}
{"ts":"2026-01-12T10:14:13.790Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":78,"passed":false,"durationMs":3486,"failureCount":6,"failures":[{"type":"typecheck","code":"TS2345","file":"apps/data-insights-agent/src/__tests__/dataInsightsRoutes.test.ts","line":41,"message":"Argument of type '{ compositeFeedRepository: FakeCompositeFeedRepository; snapshotRepository: FakeSnapshotRepository; dataAnalysisService: FakeDataAnalysisService; chartDefinitionService: FakeChartDefinitionService; dataTransformService: FakeDataTransformService; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 39:     fakeChartDefinitionService = new FakeChartDefinitionService();\n 40:     fakeDataTransformService = new FakeDataTransformService();\n>41:     setServices({\n 42:       compositeFeedRepository: fakeCompositeFeedRepo,\n 43:       snapshotRepository: fakeSnapshotRepo,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataInsightsRoutes.test.ts","line":509,"message":"Type '\"INVALID_TYPE\"' is not assignable to type 'ChartTypeId'.","snippet":"suggestedChartType: 'INVALID_TYPE',","context":" 507:           description: 'Test.',\n 508:           trackableMetric: 'Test',\n>509:           suggestedChartType: 'INVALID_TYPE',\n 510:           generatedAt: new Date().toISOString(),\n 511:         },"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/dataInsightsRoutes.test.ts","line":766,"message":"Type '\"TRANSFORMATION_ERROR\"' is not assignable to type '\"PARSE_ERROR\" | \"NO_API_KEY\" | \"GENERATION_ERROR\" | \"USER_SERVICE_ERROR\"'.","snippet":"code: 'TRANSFORMATION_ERROR',","context":" 764: \n 765:       fakeDataTransformService.setError({\n>766:         code: 'TRANSFORMATION_ERROR',\n 767:         message: 'Rate limit exceeded',\n 768:       });"},{"type":"typecheck","code":"TS6133","file":"apps/data-insights-agent/src/__tests__/domain/dataInsights/usecases/analyzeData.test.ts","line":3,"message":"'DataInsight' is declared but its value is never read.","snippet":"import type { DataInsight } from '../../../../domain/dataInsights/types.js';","context":" 1: import { describe, it, expect, beforeEach } from 'vitest';\n 2: import { analyzeData } from '../../../../domain/dataInsights/usecases/analyzeData.js';\n>3: import type { DataInsight } from '../../../../domain/dataInsights/types.js';\n 4: import {\n 5:   FakeCompositeFeedRepository,"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/domain/dataInsights/usecases/generateChartDefinition.test.ts","line":335,"message":"Type '\"INVALID_TYPE\"' is not assignable to type 'ChartTypeId'.","snippet":"suggestedChartType: 'INVALID_TYPE',","context":" 333:           description: 'Test description.',\n 334:           trackableMetric: 'Test metric',\n>335:           suggestedChartType: 'INVALID_TYPE',\n 336:           generatedAt: new Date().toISOString(),\n 337:         },"},{"type":"typecheck","code":"TS2322","file":"apps/data-insights-agent/src/__tests__/domain/dataInsights/usecases/transformDataForPreview.test.ts","line":512,"message":"Type '\"TRANSFORMATION_ERROR\"' is not assignable to type '\"PARSE_ERROR\" | \"NO_API_KEY\" | \"GENERATION_ERROR\" | \"USER_SERVICE_ERROR\"'.","snippet":"code: 'TRANSFORMATION_ERROR',","context":" 510: \n 511:       fakeDataTransformService.setError({\n>512:         code: 'TRANSFORMATION_ERROR',\n 513:         message: 'Rate limit exceeded',\n 514:       });"}]}
{"ts":"2026-01-12T10:17:59.849Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":79,"passed":false,"durationMs":9369,"failureCount":2,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/data-insights-agent/src/__tests__/dataInsightsRoutes.test.ts","line":0,"message":"dataInsightsRoutes > POST /composite-feeds/:feedId/preview > transforms data successfully for preview","snippet":null,"context":null},{"type":"test","code":"TEST_FAIL","file":"apps/data-insights-agent/src/__tests__/domain/dataInsights/usecases/analyzeData.test.ts","line":0,"message":"analyzeData > error paths > returns REPOSITORY_ERROR when updateDataInsights fails","snippet":null,"context":null}]}
{"ts":"2026-01-12T10:20:34.584Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":80,"passed":false,"durationMs":3108,"failureCount":0,"failures":[]}
{"ts":"2026-01-12T10:25:01.287Z","project":"intexuraos-2","branch":"development","runNumber":81,"passed":false,"durationMs":93119,"failureCount":2,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/data-insights-agent/src/__tests__/dataInsightsRoutes.test.ts","line":0,"message":"dataInsightsRoutes > POST /composite-feeds/:feedId/preview > transforms data successfully for preview","snippet":null,"context":null},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-12T10:27:12.196Z","project":"intexuraos-2","branch":"development","runNumber":82,"passed":false,"durationMs":102036,"failureCount":2,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/data-insights-agent/src/__tests__/dataInsightsRoutes.test.ts","line":0,"message":"dataInsightsRoutes > POST /composite-feeds/:feedId/preview > transforms data successfully for preview","snippet":null,"context":null},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-12T10:39:02.488Z","project":"intexuraos-2","branch":"development","workspace":"data-insights-agent","runNumber":83,"passed":true,"durationMs":9769,"failureCount":0,"failures":[]}
