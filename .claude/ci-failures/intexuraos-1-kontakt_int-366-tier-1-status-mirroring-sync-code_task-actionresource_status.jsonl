{"ts":"2026-01-26T18:22:20.842Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"code-agent","runNumber":1,"passed":false,"durationMs":2310,"failureCount":2,"failures":[{"type":"typecheck","code":"TS2304","file":"src/routes/codeRoutes.ts","line":1561,"message":"Cannot find name 'services'.","snippet":null,"context":null},{"type":"typecheck","code":"TS6133","file":"src/routes/webhookRoutes.ts","line":143,"message":"'statusMirrorService' is declared but its value is never read.","snippet":null,"context":null}]}
{"ts":"2026-01-26T18:23:47.843Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"code-agent","runNumber":2,"passed":false,"durationMs":1876,"failureCount":3,"failures":[{"type":"typecheck","code":"TS6133","file":"src/routes/codeRoutes.ts","line":1512,"message":"'statusMirrorService' is declared but its value is never read.","snippet":null,"context":null},{"type":"typecheck","code":"TS2304","file":"src/routes/codeRoutes.ts","line":1561,"message":"Cannot find name 'services'.","snippet":null,"context":null},{"type":"typecheck","code":"TS6133","file":"src/routes/webhookRoutes.ts","line":143,"message":"'statusMirrorService' is declared but its value is never read.","snippet":null,"context":null}]}
{"ts":"2026-01-26T18:26:30.359Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"code-agent","runNumber":3,"passed":false,"durationMs":6626,"failureCount":10,"failures":[{"type":"typecheck","code":"TS2741","file":"apps/code-agent/src/__tests__/helpers/mockServices.ts","line":20,"message":"Property 'statusMirrorService' is missing in type '{ firestore: Firestore; logger: pino.Logger<never, boolean>; codeTaskRepo: CodeTaskRepository; logChunkRepo: LogChunkRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; whatsappNotifier: WhatsAppNotifier; actionsAgentClient: ActionsAgentClient; }' but required in type 'ServiceContainer'.","snippet":"const container: ServiceContainer = {","context":" 18:   const logger = pino({ name: 'test' });\n 19: \n>20:   const container: ServiceContainer = {\n 21:     firestore: fakeFirestore,\n 22:     logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/openapi-contract.test.ts","line":50,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 48:     const logger = pino({ name: 'test' }) as unknown as Logger;\n 49: \n>50:     setServices({\n 51:       firestore: fakeFirestore,\n 52:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeCancel.test.ts","line":100,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 98:     cancelOnWorkerSpy = vi.spyOn(taskDispatcher, 'cancelOnWorker' as never).mockResolvedValue(undefined);\n 99: \n>100:     setServices({\n 101:       firestore: fakeFirestore as unknown as Firestore,\n 102:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeProcess.test.ts","line":97,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; taskDispatcher: TaskDispatcherService; workerDiscovery: WorkerDiscoveryService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 95:     });\n 96: \n>97:     setServices({\n 98:       firestore: fakeFirestore as unknown as Firestore,\n 99:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeRoutes.test.ts","line":95,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 93:     });\n 94: \n>95:     setServices({\n 96:       firestore: fakeFirestore as unknown as Firestore,\n 97:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeSubmit.test.ts","line":96,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 94:     });\n 95: \n>96:     setServices({\n 97:       firestore: fakeFirestore as unknown as Firestore,\n 98:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeTasks.test.ts","line":96,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 94:     });\n 95: \n>96:     setServices({\n 97:       firestore: fakeFirestore as unknown as Firestore,\n 98:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/webhooks.test.ts","line":108,"message":"Argument of type '{ firestore: Firestore; logger: pino.Logger; codeTaskRepo: CodeTaskRepository; logChunkRepo: LogChunkRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; whatsappNotifier: WhatsAppNotifier; actionsAgentClient: ActionsAgentClient; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 106:     mockFetchWithAuth.mockResolvedValue(ok(undefined));\n 107: \n>108:     setServices({\n 109:       firestore: fakeFirestore as unknown as Firestore,\n 110:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/webhooks.test.ts","line":1214,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; logChunkRepo: LogChunkRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 1212:     });\n 1213: \n>1214:     setServices({\n 1215:       firestore: fakeFirestore as unknown as Firestore,\n 1216:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/webhooks.test.ts","line":1491,"message":"Argument of type '{ firestore: Firestore; logger: pino.Logger; codeTaskRepo: CodeTaskRepository; logChunkRepo: LogChunkRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; whatsappNotifier: WhatsAppNotifier; actionsAgentClient: ActionsAgentClient; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 1489:     mockFetchWithAuth.mockResolvedValue(ok(undefined));\n 1490: \n>1491:     setServices({\n 1492:       firestore: fakeFirestore as unknown as Firestore,\n 1493:       logger,"}]}
{"ts":"2026-01-26T18:27:17.167Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"code-agent","runNumber":4,"passed":false,"durationMs":4508,"failureCount":9,"failures":[{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/openapi-contract.test.ts","line":50,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 48:     const logger = pino({ name: 'test' }) as unknown as Logger;\n 49: \n>50:     setServices({\n 51:       firestore: fakeFirestore,\n 52:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeCancel.test.ts","line":100,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 98:     cancelOnWorkerSpy = vi.spyOn(taskDispatcher, 'cancelOnWorker' as never).mockResolvedValue(undefined);\n 99: \n>100:     setServices({\n 101:       firestore: fakeFirestore as unknown as Firestore,\n 102:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeProcess.test.ts","line":97,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; taskDispatcher: TaskDispatcherService; workerDiscovery: WorkerDiscoveryService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 95:     });\n 96: \n>97:     setServices({\n 98:       firestore: fakeFirestore as unknown as Firestore,\n 99:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeRoutes.test.ts","line":95,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 93:     });\n 94: \n>95:     setServices({\n 96:       firestore: fakeFirestore as unknown as Firestore,\n 97:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeSubmit.test.ts","line":96,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 94:     });\n 95: \n>96:     setServices({\n 97:       firestore: fakeFirestore as unknown as Firestore,\n 98:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeTasks.test.ts","line":96,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; logChunkRepo: LogChunkRepository; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 94:     });\n 95: \n>96:     setServices({\n 97:       firestore: fakeFirestore as unknown as Firestore,\n 98:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/webhooks.test.ts","line":108,"message":"Argument of type '{ firestore: Firestore; logger: pino.Logger; codeTaskRepo: CodeTaskRepository; logChunkRepo: LogChunkRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; whatsappNotifier: WhatsAppNotifier; actionsAgentClient: ActionsAgentClient; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 106:     mockFetchWithAuth.mockResolvedValue(ok(undefined));\n 107: \n>108:     setServices({\n 109:       firestore: fakeFirestore as unknown as Firestore,\n 110:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/webhooks.test.ts","line":1214,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; logChunkRepo: LogChunkRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; actionsAgentClient: ActionsAgentClient; whatsappNotifier: WhatsAppNotifier; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 1212:     });\n 1213: \n>1214:     setServices({\n 1215:       firestore: fakeFirestore as unknown as Firestore,\n 1216:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/webhooks.test.ts","line":1491,"message":"Argument of type '{ firestore: Firestore; logger: pino.Logger; codeTaskRepo: CodeTaskRepository; logChunkRepo: LogChunkRepository; workerDiscovery: WorkerDiscoveryService; taskDispatcher: TaskDispatcherService; whatsappNotifier: WhatsAppNotifier; actionsAgentClient: ActionsAgentClient; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 1489:     mockFetchWithAuth.mockResolvedValue(ok(undefined));\n 1490: \n>1491:     setServices({\n 1492:       firestore: fakeFirestore as unknown as Firestore,\n 1493:       logger,"}]}
{"ts":"2026-01-26T18:31:50.075Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"code-agent","runNumber":5,"passed":false,"durationMs":9314,"failureCount":3,"failures":[{"type":"lint","code":"@typescript-eslint/no-explicit-any","file":"apps/code-agent/src/__tests__/domain/services/statusMirrorService.test.ts","line":222,"message":"Unexpected any. Specify a different type","snippet":"taskStatus: taskStatus as any,","context":" 220:       await service.mirrorStatus({\n 221:         actionId: 'action-123',\n>222:         taskStatus: taskStatus as any,\n 223:       });\n 224: "},{"type":"lint","code":"no-restricted-imports","file":"apps/code-agent/src/domain/services/statusMirrorService.ts","line":9,"message":"'../../infra/clients/actionsAgentClient.js' import is restricted from being used by a pattern. Domain layer must not import from infra layer. Define port interfaces in domain and implement them in infra","snippet":"import type { ActionsAgentClient } from '../../infra/clients/actionsAgentClient.js';","context":" 7: \n 8: import type { Logger } from '@intexuraos/common-core';\n>9: import type { ActionsAgentClient } from '../../infra/clients/actionsAgentClient.js';\n 10: import type { TaskStatus } from '../models/codeTask.js';\n 11: "},{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"apps/code-agent/src/domain/services/statusMirrorService.ts","line":53,"message":"Unnecessary conditional, the types have no overlap","snippet":"if (resourceStatus === undefined) {","context":" 51: \n 52:       const resourceStatus = statusMapping[taskStatus];\n>53:       if (resourceStatus === undefined) {\n 54:         logger.warn({ taskStatus }, 'Unknown task status, cannot mirror');\n 55:         return;"}]}
{"ts":"2026-01-26T18:34:44.434Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"code-agent","runNumber":6,"passed":false,"durationMs":7981,"failureCount":1,"failures":[{"type":"lint","code":"@typescript-eslint/no-unnecessary-condition","file":"apps/code-agent/src/infra/services/statusMirrorServiceImpl.ts","line":54,"message":"Unnecessary conditional, value is always falsy","snippet":"if (!resourceStatus) {","context":" 52:       const resourceStatus = statusMapping[taskStatus];\n 53:       // Note: statusMapping covers all TaskStatus values, so this is exhaustive\n>54:       if (!resourceStatus) {\n 55:         logger.warn({ taskStatus }, 'Unknown task status, cannot mirror');\n 56:         return;"}]}
{"ts":"2026-01-26T18:36:44.625Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"code-agent","runNumber":7,"passed":false,"durationMs":92011,"failureCount":1,"failures":[{"type":"test","code":"TEST_FAIL","file":"apps/actions-agent/src/__tests__/routes.test.ts","line":0,"message":"Research Agent Routes > PATCH /internal/actions/:actionId/status > should update resource_status on action","snippet":null,"context":null}]}
{"ts":"2026-01-26T18:37:19.169Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"actions-agent","runNumber":8,"passed":false,"durationMs":8743,"failureCount":4,"failures":[{"type":"typecheck","code":"TS2740","file":"apps/actions-agent/src/__tests__/routes.test.ts","line":2184,"message":"Type 'ActionRepository' is missing the following properties from type 'FakeActionRepository': actions, failNext, failError, updateStatusIfResults, and 3 more.","snippet":"fakeActionRepository = createFakeServices().actionRepository;","context":" 2182:     beforeEach(async () => {\n 2183:       app = await buildServer();\n>2184:       fakeActionRepository = createFakeServices().actionRepository;\n 2185:       setServices(createFakeServices());\n 2186:     });"},{"type":"typecheck","code":"TS2554","file":"apps/actions-agent/src/__tests__/routes.test.ts","line":2184,"message":"Expected 1 arguments, but got 0.","snippet":"fakeActionRepository = createFakeServices().actionRepository;","context":" 2182:     beforeEach(async () => {\n 2183:       app = await buildServer();\n>2184:       fakeActionRepository = createFakeServices().actionRepository;\n 2185:       setServices(createFakeServices());\n 2186:     });"},{"type":"typecheck","code":"TS2554","file":"apps/actions-agent/src/__tests__/routes.test.ts","line":2185,"message":"Expected 1 arguments, but got 0.","snippet":"setServices(createFakeServices());","context":" 2183:       app = await buildServer();\n 2184:       fakeActionRepository = createFakeServices().actionRepository;\n>2185:       setServices(createFakeServices());\n 2186:     });\n 2187: "},{"type":"typecheck","code":"TS4111","file":"apps/actions-agent/src/__tests__/routes.test.ts","line":2263,"message":"Property 'resource_url' comes from an index signature, so it must be accessed with ['resource_url'].","snippet":"expect(updated?.payload.resource_url).toBe('https://github.com/pr/123');","context":" 2261:       const updated = await fakeActionRepository.getById('action-123');\n 2262:       expect(updated?.resource_status).toBe('completed');\n>2263:       expect(updated?.payload.resource_url).toBe('https://github.com/pr/123');\n 2264:     });\n 2265: "}]}
{"ts":"2026-01-26T18:38:51.132Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"actions-agent","runNumber":9,"passed":false,"durationMs":4397,"failureCount":1,"failures":[{"type":"typecheck","code":"TS2740","file":"apps/actions-agent/src/__tests__/routes.test.ts","line":2193,"message":"Type 'ActionRepository' is missing the following properties from type 'FakeActionRepository': actions, failNext, failError, updateStatusIfResults, and 3 more.","snippet":"fakeActionRepository = fakeServices.actionRepository;","context":" 2191:         commandsAgentClient: fakeCommandsAgentClient,\n 2192:       });\n>2193:       fakeActionRepository = fakeServices.actionRepository;\n 2194:       setServices(fakeServices);\n 2195:     });"}]}
{"ts":"2026-01-26T18:40:48.659Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"actions-agent","runNumber":10,"passed":true,"durationMs":84682,"failureCount":0,"failures":[]}
{"ts":"2026-01-26T18:43:35.681Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","runNumber":11,"passed":false,"durationMs":152461,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T21:32:29.543Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"code-agent","runNumber":12,"passed":false,"durationMs":2193,"failureCount":2,"failures":[{"type":"typecheck","code":"TS2307","file":"src/infra/clients/actionsAgentClient.ts","line":9,"message":"Cannot find module '@intexuraos/actions-agent-domain' or its corresponding type declarations.","snippet":null,"context":null},{"type":"typecheck","code":"TS2307","file":"src/infra/services/statusMirrorServiceImpl.ts","line":9,"message":"Cannot find module '@intexuraos/actions-agent-domain' or its corresponding type declarations.","snippet":null,"context":null}]}
{"ts":"2026-01-26T21:34:45.138Z","project":"intexuraos-1","branch":"kontakt/int-366-tier-1-status-mirroring-sync-code_task-actionresource_status","workspace":"code-agent","runNumber":13,"passed":true,"durationMs":91005,"failureCount":0,"failures":[]}
