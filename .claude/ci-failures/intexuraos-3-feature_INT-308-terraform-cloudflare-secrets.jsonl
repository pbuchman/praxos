{"ts":"2026-01-25T21:58:27.701Z","project":"intexuraos-3","branch":"feature/INT-308-terraform-cloudflare-secrets","runNumber":1,"passed":false,"durationMs":88268,"failureCount":47,"failures":[{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/domain/useCases/processCodeAction.test.ts","line":9,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import type { Logger } from 'pino';","context":" 7: import type { CodeTaskRepository } from '../../../domain/repositories/codeTaskRepository.js';\n 8: import type { TaskDispatcherService } from '../../../domain/services/taskDispatcher.js';\n>9: import type { Logger } from 'pino';\n 10: import { processCodeAction } from '../../../domain/usecases/processCodeAction.js';\n 11: "},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/helpers/mockLogger.ts","line":2,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 1: import { vi } from 'vitest';\n>2: import pino from 'pino';\n 3: \n 4: export function createMockLogger(): pino.Logger {"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/helpers/mockServices.ts","line":8,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 6: import { createFakeFirestore } from '@intexuraos/infra-firestore';\n 7: import type { Firestore } from '@google-cloud/firestore';\n>8: import pino from 'pino';\n 9: import { createFirestoreCodeTaskRepository } from '../../infra/repositories/firestoreCodeTaskRepository.js';\n 10: import { createFirestoreLogChunkRepository } from '../../infra/repositories/firestoreLogChunkRepository.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/infra/clients/actionsAgentClient.test.ts","line":8,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 6: import { createActionsAgentClient, type ActionsAgentClient } from '../../../infra/clients/actionsAgentClient.js';\n 7: import { fetchWithAuth } from '@intexuraos/internal-clients';\n>8: import pino from 'pino';\n 9: import type { Logger } from 'pino';\n 10: import { ok } from '@intexuraos/common-core';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/infra/clients/actionsAgentClient.test.ts","line":9,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import type { Logger } from 'pino';","context":" 7: import { fetchWithAuth } from '@intexuraos/internal-clients';\n 8: import pino from 'pino';\n>9: import type { Logger } from 'pino';\n 10: import { ok } from '@intexuraos/common-core';\n 11: "},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/infra/repositories/firestoreLogChunkRepository.test.ts","line":10,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 8: import { describe, expect, it } from 'vitest';\n 9: import { createFakeFirestore, type Firestore } from '@intexuraos/infra-firestore';\n>10: import pino from 'pino';\n 11: import type { Logger } from 'pino';\n 12: import { createFirestoreLogChunkRepository } from '../../../infra/repositories/firestoreLogChunkRepository.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/infra/repositories/firestoreLogChunkRepository.test.ts","line":11,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import type { Logger } from 'pino';","context":" 9: import { createFakeFirestore, type Firestore } from '@intexuraos/infra-firestore';\n 10: import pino from 'pino';\n>11: import type { Logger } from 'pino';\n 12: import { createFirestoreLogChunkRepository } from '../../../infra/repositories/firestoreLogChunkRepository.js';\n 13: "},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/infra/webhookValidation.test.ts","line":6,"message":"Cannot find module 'fastify' or its corresponding type declarations.","snippet":"import type { FastifyRequest } from 'fastify';","context":" 4: \n 5: import { beforeEach, describe, expect, it, vi } from 'vitest';\n>6: import type { FastifyRequest } from 'fastify';\n 7: import { validateWebhookSignature } from '../../infra/webhookValidation.js';\n 8: import crypto from 'node:crypto';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/openapi-contract.test.ts","line":9,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 7: import { createFakeFirestore, resetFirestore, setFirestore } from '@intexuraos/infra-firestore';\n 8: import type { Firestore } from '@google-cloud/firestore';\n>9: import pino from 'pino';\n 10: import type { Logger } from 'pino';\n 11: import { createFirestoreCodeTaskRepository } from '../infra/repositories/firestoreCodeTaskRepository.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/openapi-contract.test.ts","line":10,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import type { Logger } from 'pino';","context":" 8: import type { Firestore } from '@google-cloud/firestore';\n 9: import pino from 'pino';\n>10: import type { Logger } from 'pino';\n 11: import { createFirestoreCodeTaskRepository } from '../infra/repositories/firestoreCodeTaskRepository.js';\n 12: import { createFirestoreLogChunkRepository } from '../infra/repositories/firestoreLogChunkRepository.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/routes/codeCancel.test.ts","line":10,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 8: import { createFakeFirestore, resetFirestore, setFirestore } from '@intexuraos/infra-firestore';\n 9: import type { Firestore } from '@google-cloud/firestore';\n>10: import pino from 'pino';\n 11: import type { Logger } from 'pino';\n 12: import { createFirestoreCodeTaskRepository } from '../../infra/repositories/firestoreCodeTaskRepository.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/routes/codeCancel.test.ts","line":11,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import type { Logger } from 'pino';","context":" 9: import type { Firestore } from '@google-cloud/firestore';\n 10: import pino from 'pino';\n>11: import type { Logger } from 'pino';\n 12: import { createFirestoreCodeTaskRepository } from '../../infra/repositories/firestoreCodeTaskRepository.js';\n 13: import { createWorkerDiscoveryService } from '../../infra/services/workerDiscoveryImpl.js';"},{"type":"typecheck","code":"TS2339","file":"apps/code-agent/src/__tests__/routes/codeCancel.test.ts","line":64,"message":"Property 'mockResolvedValue' does not exist on type 'never'.","snippet":"cancelOnWorkerSpy = vi.spyOn(taskDispatcher, 'cancelOnWorker' as never).mockResolvedValue(undefined);","context":" 62: \n 63:     // Spy on cancelOnWorker to verify it's called\n>64:     cancelOnWorkerSpy = vi.spyOn(taskDispatcher, 'cancelOnWorker' as never).mockResolvedValue(undefined);\n 65: \n 66:     setServices({"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/routes/codeProcess.test.ts","line":9,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 7: import { createFakeFirestore, resetFirestore, setFirestore } from '@intexuraos/infra-firestore';\n 8: import type { Firestore } from '@google-cloud/firestore';\n>9: import pino from 'pino';\n 10: import type { Logger } from 'pino';\n 11: import { createFirestoreCodeTaskRepository } from '../../infra/repositories/firestoreCodeTaskRepository.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/routes/codeProcess.test.ts","line":10,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import type { Logger } from 'pino';","context":" 8: import type { Firestore } from '@google-cloud/firestore';\n 9: import pino from 'pino';\n>10: import type { Logger } from 'pino';\n 11: import { createFirestoreCodeTaskRepository } from '../../infra/repositories/firestoreCodeTaskRepository.js';\n 12: import { createTaskDispatcherService } from '../../infra/services/taskDispatcherImpl.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/routes/codeRoutes.test.ts","line":10,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import type { Logger } from 'pino';","context":" 8: import type { Firestore } from '@google-cloud/firestore';\n 9: import { createFirestoreCodeTaskRepository } from '../../infra/repositories/firestoreCodeTaskRepository.js';\n>10: import type { Logger } from 'pino';\n 11: import type { CodeTaskRepository } from '../../domain/repositories/codeTaskRepository.js';\n 12: import { createWorkerDiscoveryService } from '../../infra/services/workerDiscoveryImpl.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/routes/codeSubmit.test.ts","line":10,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 8: import { createFakeFirestore, resetFirestore, setFirestore } from '@intexuraos/infra-firestore';\n 9: import type { Firestore } from '@google-cloud/firestore';\n>10: import pino from 'pino';\n 11: import type { Logger } from 'pino';\n 12: import { createFirestoreCodeTaskRepository } from '../../infra/repositories/firestoreCodeTaskRepository.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/routes/codeSubmit.test.ts","line":11,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import type { Logger } from 'pino';","context":" 9: import type { Firestore } from '@google-cloud/firestore';\n 10: import pino from 'pino';\n>11: import type { Logger } from 'pino';\n 12: import { createFirestoreCodeTaskRepository } from '../../infra/repositories/firestoreCodeTaskRepository.js';\n 13: import { createWorkerDiscoveryService } from '../../infra/services/workerDiscoveryImpl.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/routes/codeTasks.test.ts","line":10,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 8: import { createFakeFirestore, resetFirestore, setFirestore } from '@intexuraos/infra-firestore';\n 9: import type { Firestore } from '@google-cloud/firestore';\n>10: import pino from 'pino';\n 11: import type { Logger } from 'pino';\n 12: import { createFirestoreCodeTaskRepository } from '../../infra/repositories/firestoreCodeTaskRepository.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/routes/codeTasks.test.ts","line":11,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import type { Logger } from 'pino';","context":" 9: import type { Firestore } from '@google-cloud/firestore';\n 10: import pino from 'pino';\n>11: import type { Logger } from 'pino';\n 12: import { createFirestoreCodeTaskRepository } from '../../infra/repositories/firestoreCodeTaskRepository.js';\n 13: import { createWorkerDiscoveryService } from '../../infra/services/workerDiscoveryImpl.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/routes/webhooks.test.ts","line":10,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 8: import { createFakeFirestore, resetFirestore, setFirestore } from '@intexuraos/infra-firestore';\n 9: import type { Firestore } from '@google-cloud/firestore';\n>10: import pino from 'pino';\n 11: import type { Logger } from 'pino';\n 12: import { err, ok } from '@intexuraos/common-core';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/__tests__/routes/webhooks.test.ts","line":11,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import type { Logger } from 'pino';","context":" 9: import type { Firestore } from '@google-cloud/firestore';\n 10: import pino from 'pino';\n>11: import type { Logger } from 'pino';\n 12: import { err, ok } from '@intexuraos/common-core';\n 13: import { createFirestoreCodeTaskRepository } from '../../infra/repositories/firestoreCodeTaskRepository.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/infra/repositories/firestoreLogChunkRepository.ts","line":8,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import type { Logger } from 'pino';","context":" 6:  */\n 7: \n>8: import type { Logger } from 'pino';\n 9: import { err, getErrorMessage, ok, type Result } from '@intexuraos/common-core';\n 10: import type { LogChunkRepository, RepositoryError } from '../../domain/repositories/logChunkRepository.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/infra/webhookValidation.ts","line":11,"message":"Cannot find module 'fastify' or its corresponding type declarations.","snippet":"import type { FastifyRequest } from 'fastify';","context":" 9: import type { Result } from '@intexuraos/common-core';\n 10: import { err, ok } from '@intexuraos/common-core';\n>11: import type { FastifyRequest } from 'fastify';\n 12: \n 13: export type AuthError ="},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/routes/codeRoutes.ts","line":4,"message":"Cannot find module 'fastify' or its corresponding type declarations.","snippet":"import type { FastifyPluginCallback, FastifyRequest, FastifyReply } from 'fastify';","context":" 2: import { Timestamp } from '@google-cloud/firestore';\n 3: \n>4: import type { FastifyPluginCallback, FastifyRequest, FastifyReply } from 'fastify';\n 5: import { logIncomingRequest, validateInternalAuth } from '@intexuraos/common-http';\n 6: import { getServices } from '../services.js';"},{"type":"typecheck","code":"TS7006","file":"apps/code-agent/src/routes/codeRoutes.ts","line":218,"message":"Parameter 'fastify' implicitly has an 'any' type.","snippet":"export const codeRoutes: FastifyPluginCallback = (fastify, _opts, done) => {","context":" 216: }\n 217: \n>218: export const codeRoutes: FastifyPluginCallback = (fastify, _opts, done) => {\n 219:   // ============================================================\n 220:   // INTERNAL ROUTES (X-Internal-Auth)"},{"type":"typecheck","code":"TS2347","file":"apps/code-agent/src/routes/codeRoutes.ts","line":224,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.post<{","context":" 222: \n 223:   // POST /internal/code/process - Called by actions-agent\n>224:   fastify.post<{\n 225:     Body: {\n 226:       actionId: string;"},{"type":"typecheck","code":"TS2347","file":"apps/code-agent/src/routes/codeRoutes.ts","line":420,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.patch<{","context":" 418: \n 419:   // PATCH /internal/code-tasks/:taskId - Worker callback (will become webhook later)\n>420:   fastify.patch<{\n 421:     Params: { taskId: string };\n 422:     Body: {"},{"type":"typecheck","code":"TS2347","file":"apps/code-agent/src/routes/codeRoutes.ts","line":650,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.get<{ Params: { linearIssueId: string } }>(","context":" 648: \n 649:   // GET /internal/code-tasks/linear/:linearIssueId/active - Check for active task\n>650:   fastify.get<{ Params: { linearIssueId: string } }>(\n 651:     '/internal/code-tasks/linear/:linearIssueId/active',\n 652:     {"},{"type":"typecheck","code":"TS2347","file":"apps/code-agent/src/routes/codeRoutes.ts","line":741,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.get<{","context":" 739: \n 740:   // GET /internal/code-tasks/zombies - Find zombie tasks\n>741:   fastify.get<{\n 742:     Querystring: { staleThresholdMinutes: number };\n 743:   }>("},{"type":"typecheck","code":"TS2347","file":"apps/code-agent/src/routes/codeRoutes.ts","line":854,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.post<{","context":" 852: \n 853:   // POST /code/submit - Submit task from UI (public, Auth0 JWT)\n>854:   fastify.post<{\n 855:     Body: {\n 856:       prompt: string;"},{"type":"typecheck","code":"TS2347","file":"apps/code-agent/src/routes/codeRoutes.ts","line":1132,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.get<{","context":" 1130: \n 1131:   // GET /code/tasks - List user's tasks (public, Auth0 JWT)\n>1132:   fastify.get<{\n 1133:     Querystring: {\n 1134:       status?: TaskStatus;"},{"type":"typecheck","code":"TS2347","file":"apps/code-agent/src/routes/codeRoutes.ts","line":1272,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.get<{","context":" 1270: \n 1271:   // GET /code/tasks/:taskId - Get single task (public, Auth0 JWT)\n>1272:   fastify.get<{\n 1273:     Params: { taskId: string };\n 1274:   }>("},{"type":"typecheck","code":"TS2347","file":"apps/code-agent/src/routes/codeRoutes.ts","line":1433,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.post<{","context":" 1431: \n 1432:   // POST /code/cancel - Cancel running task (public, Auth0 JWT)\n>1433:   fastify.post<{\n 1434:     Body: { taskId: string };\n 1435:   }>("},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/routes/index.ts","line":1,"message":"Cannot find module 'fastify' or its corresponding type declarations.","snippet":"import type { FastifyInstance } from 'fastify';","context":">1: import type { FastifyInstance } from 'fastify';\n 2: import { codeRoutes } from './codeRoutes.js';\n 3: import { webhookRoutes } from './webhookRoutes.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/routes/webhookRoutes.ts","line":2,"message":"Cannot find module 'fastify' or its corresponding type declarations.","snippet":"import type { FastifyPluginCallback, FastifyRequest, FastifyReply } from 'fastify';","context":" 1: /* eslint-disable */\n>2: import type { FastifyPluginCallback, FastifyRequest, FastifyReply } from 'fastify';\n 3: import { Timestamp } from '@google-cloud/firestore';\n 4: import { logIncomingRequest, validateInternalAuth } from '@intexuraos/common-http';"},{"type":"typecheck","code":"TS7006","file":"apps/code-agent/src/routes/webhookRoutes.ts","line":8,"message":"Parameter 'fastify' implicitly has an 'any' type.","snippet":"export const webhookRoutes: FastifyPluginCallback = (fastify, _opts, done) => {","context":" 6: import { validateWebhookSignature } from '../infra/webhookValidation.js';\n 7: \n>8: export const webhookRoutes: FastifyPluginCallback = (fastify, _opts, done) => {\n 9:   // ============================================================\n 10:   // INTERNAL WEBHOOK ROUTES (X-Internal-Auth + HMAC Signature)"},{"type":"typecheck","code":"TS2347","file":"apps/code-agent/src/routes/webhookRoutes.ts","line":14,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.post<{","context":" 12: \n 13:   // POST /internal/webhooks/task-complete - Task completion callback from orchestrator\n>14:   fastify.post<{\n 15:     Body: {\n 16:       taskId: string;"},{"type":"typecheck","code":"TS2347","file":"apps/code-agent/src/routes/webhookRoutes.ts","line":298,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.post<{","context":" 296: \n 297:   // POST /internal/logs - Log chunk uploads from orchestrator\n>298:   fastify.post<{\n 299:     Body: {\n 300:       taskId: string;"},{"type":"typecheck","code":"TS7006","file":"apps/code-agent/src/routes/webhookRoutes.ts","line":411,"message":"Parameter 'chunk' implicitly has an 'any' type.","snippet":"const logChunks = chunks.map((chunk) => ({","context":" 409: \n 410:       // Step 3: Store chunks in Firestore subcollection\n>411:       const logChunks = chunks.map((chunk) => ({\n 412:         id: '', // Will be auto-generated\n 413:         sequence: chunk.sequence,"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/server.ts","line":5,"message":"Cannot find module 'fastify' or its corresponding type declarations.","snippet":"import fastify, { type FastifyInstance } from 'fastify';","context":" 3:  */\n 4: \n>5: import fastify, { type FastifyInstance } from 'fastify';\n 6: import cors from '@fastify/cors';\n 7: import fastifySwagger from '@fastify/swagger';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/server.ts","line":6,"message":"Cannot find module '@fastify/cors' or its corresponding type declarations.","snippet":"import cors from '@fastify/cors';","context":" 4: \n 5: import fastify, { type FastifyInstance } from 'fastify';\n>6: import cors from '@fastify/cors';\n 7: import fastifySwagger from '@fastify/swagger';\n 8: import fastifySwaggerUi from '@fastify/swagger-ui';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/server.ts","line":7,"message":"Cannot find module '@fastify/swagger' or its corresponding type declarations.","snippet":"import fastifySwagger from '@fastify/swagger';","context":" 5: import fastify, { type FastifyInstance } from 'fastify';\n 6: import cors from '@fastify/cors';\n>7: import fastifySwagger from '@fastify/swagger';\n 8: import fastifySwaggerUi from '@fastify/swagger-ui';\n 9: import { registerRoutes } from './routes/index.js';"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/server.ts","line":8,"message":"Cannot find module '@fastify/swagger-ui' or its corresponding type declarations.","snippet":"import fastifySwaggerUi from '@fastify/swagger-ui';","context":" 6: import cors from '@fastify/cors';\n 7: import fastifySwagger from '@fastify/swagger';\n>8: import fastifySwaggerUi from '@fastify/swagger-ui';\n 9: import { registerRoutes } from './routes/index.js';\n 10: "},{"type":"typecheck","code":"TS7006","file":"apps/code-agent/src/server.ts","line":36,"message":"Parameter '_req' implicitly has an 'any' type.","snippet":"app.get('/openapi.json', async (_req, reply) => {","context":" 34: \n 35:   // Required endpoints for CI verification\n>36:   app.get('/openapi.json', async (_req, reply) => {\n 37:     const spec = app.swagger();\n 38:     return await reply.type('application/json').send(spec);"},{"type":"typecheck","code":"TS2307","file":"apps/code-agent/src/services.ts","line":6,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 4:  */\n 5: \n>6: import pino from 'pino';\n 7: import type { Firestore } from '@google-cloud/firestore';\n 8: import { getFirestore } from '@intexuraos/infra-firestore';"},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-25T23:44:50.937Z","project":"intexuraos-3","branch":"feature/INT-308-terraform-cloudflare-secrets","runNumber":2,"passed":false,"durationMs":96029,"failureCount":19,"failures":[{"type":"typecheck","code":"TS2339","file":"apps/code-agent/src/__tests__/config.test.ts","line":49,"message":"Property 'dispatchSecret' does not exist on type 'Config'.","snippet":"expect(config.dispatchSecret).toBe('');","context":" 47:       expect(config.linearAgentUrl).toBe('');\n 48:       expect(config.actionsAgentUrl).toBe('');\n>49:       expect(config.dispatchSecret).toBe('');\n 50:       expect(config.webhookVerifySecret).toBe('');\n 51:       expect(config.cfAccessClientId).toBe('');"},{"type":"typecheck","code":"TS2339","file":"apps/code-agent/src/__tests__/config.test.ts","line":74,"message":"Property 'dispatchSecret' does not exist on type 'Config'.","snippet":"expect(config.dispatchSecret).toBe('test-dispatch');","context":" 72:       expect(config.linearAgentUrl).toBe('http://linear');\n 73:       expect(config.actionsAgentUrl).toBe('http://actions');\n>74:       expect(config.dispatchSecret).toBe('test-dispatch');\n 75:       expect(config.webhookVerifySecret).toBe('test-webhook');\n 76:       expect(config.cfAccessClientId).toBe('test-client-id');"},{"type":"typecheck","code":"TS2339","file":"apps/code-agent/src/__tests__/config.test.ts","line":89,"message":"Property 'codeWorkers' does not exist on type 'Config'.","snippet":"expect(config.codeWorkers.mac).toEqual({ url: 'https://mac-worker', priority: 1 });","context":" 87: \n 88:       const config = loadConfig();\n>89:       expect(config.codeWorkers.mac).toEqual({ url: 'https://mac-worker', priority: 1 });\n 90:       expect(config.codeWorkers.vm).toEqual({ url: 'https://vm-worker', priority: 2 });\n 91:     });"},{"type":"typecheck","code":"TS2339","file":"apps/code-agent/src/__tests__/config.test.ts","line":90,"message":"Property 'codeWorkers' does not exist on type 'Config'.","snippet":"expect(config.codeWorkers.vm).toEqual({ url: 'https://vm-worker', priority: 2 });","context":" 88:       const config = loadConfig();\n 89:       expect(config.codeWorkers.mac).toEqual({ url: 'https://mac-worker', priority: 1 });\n>90:       expect(config.codeWorkers.vm).toEqual({ url: 'https://vm-worker', priority: 2 });\n 91:     });\n 92: "},{"type":"typecheck","code":"TS2339","file":"apps/code-agent/src/__tests__/config.test.ts","line":95,"message":"Property 'codeWorkers' does not exist on type 'Config'.","snippet":"expect(config.codeWorkers).toEqual({});","context":" 93:     it('returns empty codeWorkers when env var not set', () => {\n 94:       const config = loadConfig();\n>95:       expect(config.codeWorkers).toEqual({});\n 96:     });\n 97: "},{"type":"typecheck","code":"TS2339","file":"apps/code-agent/src/__tests__/config.test.ts","line":105,"message":"Property 'codeWorkers' does not exist on type 'Config'.","snippet":"expect(config.codeWorkers.mac?.url).toBe('https://cc-mac.intexuraos.cloud');","context":" 103: \n 104:       const config = loadConfig();\n>105:       expect(config.codeWorkers.mac?.url).toBe('https://cc-mac.intexuraos.cloud');\n 106:       expect(config.codeWorkers.mac?.priority).toBe(1);\n 107:       expect(config.codeWorkers.vm?.url).toBe('https://cc-vm.intexuraos.cloud');"},{"type":"typecheck","code":"TS2339","file":"apps/code-agent/src/__tests__/config.test.ts","line":106,"message":"Property 'codeWorkers' does not exist on type 'Config'.","snippet":"expect(config.codeWorkers.mac?.priority).toBe(1);","context":" 104:       const config = loadConfig();\n 105:       expect(config.codeWorkers.mac?.url).toBe('https://cc-mac.intexuraos.cloud');\n>106:       expect(config.codeWorkers.mac?.priority).toBe(1);\n 107:       expect(config.codeWorkers.vm?.url).toBe('https://cc-vm.intexuraos.cloud');\n 108:       expect(config.codeWorkers.vm?.priority).toBe(2);"},{"type":"typecheck","code":"TS2339","file":"apps/code-agent/src/__tests__/config.test.ts","line":107,"message":"Property 'codeWorkers' does not exist on type 'Config'.","snippet":"expect(config.codeWorkers.vm?.url).toBe('https://cc-vm.intexuraos.cloud');","context":" 105:       expect(config.codeWorkers.mac?.url).toBe('https://cc-mac.intexuraos.cloud');\n 106:       expect(config.codeWorkers.mac?.priority).toBe(1);\n>107:       expect(config.codeWorkers.vm?.url).toBe('https://cc-vm.intexuraos.cloud');\n 108:       expect(config.codeWorkers.vm?.priority).toBe(2);\n 109:     });"},{"type":"typecheck","code":"TS2339","file":"apps/code-agent/src/__tests__/config.test.ts","line":108,"message":"Property 'codeWorkers' does not exist on type 'Config'.","snippet":"expect(config.codeWorkers.vm?.priority).toBe(2);","context":" 106:       expect(config.codeWorkers.mac?.priority).toBe(1);\n 107:       expect(config.codeWorkers.vm?.url).toBe('https://cc-vm.intexuraos.cloud');\n>108:       expect(config.codeWorkers.vm?.priority).toBe(2);\n 109:     });\n 110: "},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/helpers/mockServices.ts","line":38,"message":"Argument of type '{ logger: pino.Logger<never, boolean>; }' is not assignable to parameter of type 'TaskDispatcherDeps'.","snippet":"taskDispatcher: createTaskDispatcherService({ logger }),","context":" 36:     }),\n 37:     workerDiscovery: createWorkerDiscoveryService({ logger }),\n>38:     taskDispatcher: createTaskDispatcherService({ logger }),\n 39:     actionsAgentClient: createActionsAgentClient({\n 40:       baseUrl: actionsAgentUrl,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/openapi-contract.test.ts","line":44,"message":"Argument of type '{ logger: pino.Logger; }' is not assignable to parameter of type 'TaskDispatcherDeps'.","snippet":"taskDispatcher: createTaskDispatcherService({ logger }),","context":" 42:       }),\n 43:       workerDiscovery: createWorkerDiscoveryService({ logger }),\n>44:       taskDispatcher: createTaskDispatcherService({ logger }),\n 45:       logChunkRepo: createFirestoreLogChunkRepository({\n 46:         firestore: fakeFirestore,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeCancel.test.ts","line":50,"message":"Argument of type '{ logger: pino.Logger; }' is not assignable to parameter of type 'TaskDispatcherDeps'.","snippet":"taskDispatcher = createTaskDispatcherService({ logger });","context":" 48: \n 49:     const workerDiscovery = createWorkerDiscoveryService({ logger });\n>50:     taskDispatcher = createTaskDispatcherService({ logger });\n 51: \n 52:     logChunkRepo = createFirestoreLogChunkRepository({"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeProcess.test.ts","line":49,"message":"Argument of type '{ logger: pino.Logger; }' is not assignable to parameter of type 'TaskDispatcherDeps'.","snippet":"taskDispatcher = createTaskDispatcherService({ logger });","context":" 47:     });\n 48: \n>49:     taskDispatcher = createTaskDispatcherService({ logger });\n 50: \n 51:     _logChunkRepo = createFirestoreLogChunkRepository({"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeRoutes.test.ts","line":49,"message":"Argument of type '{ logger: Logger; }' is not assignable to parameter of type 'TaskDispatcherDeps'.","snippet":"const taskDispatcher = createTaskDispatcherService({ logger });","context":" 47: \n 48:     const workerDiscovery = createWorkerDiscoveryService({ logger });\n>49:     const taskDispatcher = createTaskDispatcherService({ logger });\n 50: \n 51:     const logChunkRepo = createFirestoreLogChunkRepository({"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeSubmit.test.ts","line":49,"message":"Argument of type '{ logger: pino.Logger; }' is not assignable to parameter of type 'TaskDispatcherDeps'.","snippet":"taskDispatcher = createTaskDispatcherService({ logger });","context":" 47: \n 48:     const workerDiscovery = createWorkerDiscoveryService({ logger });\n>49:     taskDispatcher = createTaskDispatcherService({ logger });\n 50: \n 51:     logChunkRepo = createFirestoreLogChunkRepository({"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeTasks.test.ts","line":49,"message":"Argument of type '{ logger: pino.Logger; }' is not assignable to parameter of type 'TaskDispatcherDeps'.","snippet":"const taskDispatcher = createTaskDispatcherService({ logger });","context":" 47: \n 48:     const workerDiscovery = createWorkerDiscoveryService({ logger });\n>49:     const taskDispatcher = createTaskDispatcherService({ logger });\n 50: \n 51:     const logChunkRepo = createFirestoreLogChunkRepository({"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/webhooks.test.ts","line":64,"message":"Argument of type '{ logger: pino.Logger; }' is not assignable to parameter of type 'TaskDispatcherDeps'.","snippet":"taskDispatcher = createTaskDispatcherService({ logger });","context":" 62: \n 63:     const workerDiscovery = createWorkerDiscoveryService({ logger });\n>64:     taskDispatcher = createTaskDispatcherService({ logger });\n 65: \n 66:     actionsAgentClient = createActionsAgentClient({"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/webhooks.test.ts","line":1149,"message":"Argument of type '{ logger: pino.Logger; }' is not assignable to parameter of type 'TaskDispatcherDeps'.","snippet":"taskDispatcher = createTaskDispatcherService({ logger });","context":" 1147: \n 1148:     const workerDiscovery = createWorkerDiscoveryService({ logger });\n>1149:     taskDispatcher = createTaskDispatcherService({ logger });\n 1150:     const actionsAgentClient = createActionsAgentClient({\n 1151:       baseUrl: 'http://actions-agent',"},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-25T23:57:06.293Z","project":"intexuraos-3","branch":"feature/INT-308-terraform-cloudflare-secrets","runNumber":3,"passed":false,"durationMs":65277,"failureCount":18,"failures":[{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":40,"message":"Unsafe assignment of an error typed value","snippet":"const clientResult = await userServiceClient.getLlmClient(userId);","context":" 38:       log.info({ userId, textLength: text.length }, 'Starting LLM issue extraction');\n 39: \n>40:       const clientResult = await userServiceClient.getLlmClient(userId);\n 41: \n 42:       if (!clientResult.ok) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":40,"message":"Unsafe call of a type that could not be resolved","snippet":"const clientResult = await userServiceClient.getLlmClient(userId);","context":" 38:       log.info({ userId, textLength: text.length }, 'Starting LLM issue extraction');\n 39: \n>40:       const clientResult = await userServiceClient.getLlmClient(userId);\n 41: \n 42:       if (!clientResult.ok) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":40,"message":"Unsafe member access .getLlmClient on a type that cannot be resolved","snippet":"const clientResult = await userServiceClient.getLlmClient(userId);","context":" 38:       log.info({ userId, textLength: text.length }, 'Starting LLM issue extraction');\n 39: \n>40:       const clientResult = await userServiceClient.getLlmClient(userId);\n 41: \n 42:       if (!clientResult.ok) {"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":42,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!clientResult.ok) {","context":" 40:       const clientResult = await userServiceClient.getLlmClient(userId);\n 41: \n>42:       if (!clientResult.ok) {\n 43:         const error = clientResult.error;\n 44:         if (error.code === 'NO_API_KEY') {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":42,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!clientResult.ok) {","context":" 40:       const clientResult = await userServiceClient.getLlmClient(userId);\n 41: \n>42:       if (!clientResult.ok) {\n 43:         const error = clientResult.error;\n 44:         if (error.code === 'NO_API_KEY') {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":43,"message":"Unsafe assignment of an error typed value","snippet":"const error = clientResult.error;","context":" 41: \n 42:       if (!clientResult.ok) {\n>43:         const error = clientResult.error;\n 44:         if (error.code === 'NO_API_KEY') {\n 45:           log.warn({ userId }, 'No API key configured for LLM extraction');"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":43,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"const error = clientResult.error;","context":" 41: \n 42:       if (!clientResult.ok) {\n>43:         const error = clientResult.error;\n 44:         if (error.code === 'NO_API_KEY') {\n 45:           log.warn({ userId }, 'No API key configured for LLM extraction');"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":44,"message":"Unsafe member access .code on a type that cannot be resolved","snippet":"if (error.code === 'NO_API_KEY') {","context":" 42:       if (!clientResult.ok) {\n 43:         const error = clientResult.error;\n>44:         if (error.code === 'NO_API_KEY') {\n 45:           log.warn({ userId }, 'No API key configured for LLM extraction');\n 46:           return err({ code: 'NOT_CONNECTED', message: error.message });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":46,"message":"Unsafe assignment of an error typed value","snippet":"return err({ code: 'NOT_CONNECTED', message: error.message });","context":" 44:         if (error.code === 'NO_API_KEY') {\n 45:           log.warn({ userId }, 'No API key configured for LLM extraction');\n>46:           return err({ code: 'NOT_CONNECTED', message: error.message });\n 47:         }\n 48:         log.error({ userId, error: error.message }, 'Failed to get LLM client');"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":46,"message":"Unsafe member access .message on a type that cannot be resolved","snippet":"return err({ code: 'NOT_CONNECTED', message: error.message });","context":" 44:         if (error.code === 'NO_API_KEY') {\n 45:           log.warn({ userId }, 'No API key configured for LLM extraction');\n>46:           return err({ code: 'NOT_CONNECTED', message: error.message });\n 47:         }\n 48:         log.error({ userId, error: error.message }, 'Failed to get LLM client');"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":48,"message":"Unsafe member access .message on a type that cannot be resolved","snippet":"log.error({ userId, error: error.message }, 'Failed to get LLM client');","context":" 46:           return err({ code: 'NOT_CONNECTED', message: error.message });\n 47:         }\n>48:         log.error({ userId, error: error.message }, 'Failed to get LLM client');\n 49:         return err({ code: 'INTERNAL_ERROR', message: error.message });\n 50:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":49,"message":"Unsafe assignment of an error typed value","snippet":"return err({ code: 'INTERNAL_ERROR', message: error.message });","context":" 47:         }\n 48:         log.error({ userId, error: error.message }, 'Failed to get LLM client');\n>49:         return err({ code: 'INTERNAL_ERROR', message: error.message });\n 50:       }\n 51: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":49,"message":"Unsafe member access .message on a type that cannot be resolved","snippet":"return err({ code: 'INTERNAL_ERROR', message: error.message });","context":" 47:         }\n 48:         log.error({ userId, error: error.message }, 'Failed to get LLM client');\n>49:         return err({ code: 'INTERNAL_ERROR', message: error.message });\n 50:       }\n 51: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":52,"message":"Unsafe assignment of an error typed value","snippet":"const llmClient: LlmGenerateClient = clientResult.value;","context":" 50:       }\n 51: \n>52:       const llmClient: LlmGenerateClient = clientResult.value;\n 53: \n 54:       const prompt = linearActionExtractionPrompt.build("},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/linear-agent/src/infra/llm/linearActionExtractionService.ts","line":52,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"const llmClient: LlmGenerateClient = clientResult.value;","context":" 50:       }\n 51: \n>52:       const llmClient: LlmGenerateClient = clientResult.value;\n 53: \n 54:       const prompt = linearActionExtractionPrompt.build("},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/linear-agent/src/services.ts","line":45,"message":"Unsafe assignment of an error typed value","snippet":"const userServiceClient = createUserServiceClient({","context":" 43: \n 44: export function initServices(config: ServiceConfig): void {\n>45:   const userServiceClient = createUserServiceClient({\n 46:     baseUrl: config.userServiceUrl,\n 47:     internalAuthToken: config.internalAuthToken,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/linear-agent/src/services.ts","line":45,"message":"Unsafe call of a type that could not be resolved","snippet":"const userServiceClient = createUserServiceClient({","context":" 43: \n 44: export function initServices(config: ServiceConfig): void {\n>45:   const userServiceClient = createUserServiceClient({\n 46:     baseUrl: config.userServiceUrl,\n 47:     internalAuthToken: config.internalAuthToken,"},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T00:26:09.255Z","project":"intexuraos-3","branch":"feature/INT-308-terraform-cloudflare-secrets","runNumber":4,"passed":false,"durationMs":56464,"failureCount":2,"failures":[{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/webhooks.test.ts","line":1440,"message":"Argument of type '{ logger: pino.Logger; }' is not assignable to parameter of type 'TaskDispatcherDeps'.","snippet":"taskDispatcher = createTaskDispatcherService({ logger });","context":" 1438: \n 1439:     const workerDiscovery = createWorkerDiscoveryService({ logger });\n>1440:     taskDispatcher = createTaskDispatcherService({ logger });\n 1441:     const whatsappNotifier = createWhatsAppNotifier({\n 1442:       baseUrl: 'http://whatsapp-service',"},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
