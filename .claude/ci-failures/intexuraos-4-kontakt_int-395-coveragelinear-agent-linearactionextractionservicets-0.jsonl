{"ts":"2026-01-26T17:04:17.956Z","project":"intexuraos-4","branch":"kontakt/int-395-coveragelinear-agent-linearactionextractionservicets-0","workspace":"linear-agent","runNumber":1,"passed":false,"durationMs":4283,"failureCount":29,"failures":[{"type":"typecheck","code":"TS6196","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":10,"message":"'LinearError' is declared but never used.","snippet":"LinearError,","context":" 8: import type {\n 9:   ExtractedIssueData,\n>10:   LinearError,\n 11:   LinearPriority,\n 12: } from '../../../domain/index.js';"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":56,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({","context":" 54:   describe('getLlmClient error paths', () => {\n 55:     it('returns NOT_CONNECTED when getLlmClient returns NO_API_KEY error', async () => {\n>56:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({\n 57:         ok: false,\n 58:         error: { code: 'NO_API_KEY', message: 'No API key configured' },"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":72,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({","context":" 70: \n 71:     it('returns INTERNAL_ERROR when getLlmClient returns other error codes', async () => {\n>72:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({\n 73:         ok: false,\n 74:         error: { code: 'NETWORK_ERROR', message: 'Connection failed' },"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":87,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({","context":" 85: \n 86:     it('returns INTERNAL_ERROR for API_ERROR code', async () => {\n>87:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({\n 88:         ok: false,\n 89:         error: { code: 'API_ERROR', message: 'User service unavailable' },"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":103,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({","context":" 101:   describe('LLM generate error paths', () => {\n 102:     beforeEach(() => {\n>103:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({\n 104:         ok: true,\n 105:         value: mockLlmClient as LlmGenerateClient,"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":110,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 108: \n 109:     it('returns EXTRACTION_FAILED when LLM generate fails', async () => {\n>110:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 111:         ok: false,\n 112:         error: { code: 'RATE_LIMIT', message: 'Too many requests' },"},{"type":"typecheck","code":"TS2820","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":112,"message":"Type '\"RATE_LIMIT\"' is not assignable to type 'LLMErrorCode'. Did you mean '\"RATE_LIMITED\"'?","snippet":"error: { code: 'RATE_LIMIT', message: 'Too many requests' },","context":" 110:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 111:         ok: false,\n>112:         error: { code: 'RATE_LIMIT', message: 'Too many requests' },\n 113:       });\n 114: "},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":128,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({","context":" 126:   describe('Response parsing - markdown unwrapping', () => {\n 127:     beforeEach(() => {\n>128:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({\n 129:         ok: true,\n 130:         value: mockLlmClient as LlmGenerateClient,"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":139,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 137: \\`\\`\\``;\n 138: \n>139:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 140:         ok: true,\n 141:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":162,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 160: \\`\\`\\``;\n 161: \n>162:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 163:         ok: true,\n 164:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":181,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 179:       const plainJson = JSON.stringify(VALID_EXTRACTED_JSON);\n 180: \n>181:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 182:         ok: true,\n 183:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":200,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 198:       const whitespaceJson = `   ${JSON.stringify(VALID_EXTRACTED_JSON)}   `;\n 199: \n>200:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 201:         ok: true,\n 202:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":219,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({","context":" 217:   describe('JSON parse failures', () => {\n 218:     beforeEach(() => {\n>219:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({\n 220:         ok: true,\n 221:         value: mockLlmClient as LlmGenerateClient,"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":226,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 224: \n 225:     it('returns EXTRACTION_FAILED for malformed JSON', async () => {\n>226:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 227:         ok: true,\n 228:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":244,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 242: \n 243:     it('returns EXTRACTION_FAILED for empty string', async () => {\n>244:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 245:         ok: true,\n 246:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":261,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 259: \n 260:     it('returns EXTRACTION_FAILED for non-JSON text', async () => {\n>261:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 262:         ok: true,\n 263:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":280,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({","context":" 278:   describe('Zod validation failures', () => {\n 279:     beforeEach(() => {\n>280:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({\n 281:         ok: true,\n 282:         value: mockLlmClient as LlmGenerateClient,"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":294,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 292:       };\n 293: \n>294:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 295:         ok: true,\n 296:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":319,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 317:       };\n 318: \n>319:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 320:         ok: true,\n 321:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":343,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 341:       };\n 342: \n>343:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 344:         ok: true,\n 345:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":362,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({","context":" 360:   describe('Happy path - successful extraction', () => {\n 361:     beforeEach(() => {\n>362:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({\n 363:         ok: true,\n 364:         value: mockLlmClient as LlmGenerateClient,"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":379,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 377:       };\n 378: \n>379:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 380:         ok: true,\n 381:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":413,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 411:       };\n 412: \n>413:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 414:         ok: true,\n 415:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":444,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 442:         };\n 443: \n>444:         vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 445:           ok: true,\n 446:           value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":472,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 470:       };\n 471: \n>472:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 473:         ok: true,\n 474:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":493,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({","context":" 491:   describe('Edge cases', () => {\n 492:     beforeEach(() => {\n>493:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue({\n 494:         ok: true,\n 495:         value: mockLlmClient as LlmGenerateClient,"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":506,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 504:       };\n 505: \n>506:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 507:         ok: true,\n 508:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":528,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 526: \\`\\`\\``;\n 527: \n>528:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 529:         ok: true,\n 530:         value: {"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":546,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue({","context":" 544: ${JSON.stringify(VALID_EXTRACTED_JSON)}`;\n 545: \n>546:       vi.mocked(mockLlmClient.generate).mockResolvedValue({\n 547:         ok: true,\n 548:         value: {"}]}
{"ts":"2026-01-26T17:05:40.464Z","project":"intexuraos-4","branch":"kontakt/int-395-coveragelinear-agent-linearactionextractionservicets-0","workspace":"linear-agent","runNumber":2,"passed":false,"durationMs":4170,"failureCount":27,"failures":[{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":56,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(","context":" 54:   describe('getLlmClient error paths', () => {\n 55:     it('returns NOT_CONNECTED when getLlmClient returns NO_API_KEY error', async () => {\n>56:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(\n 57:         err({ code: 'NO_API_KEY', message: 'No API key configured' })\n 58:       );"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":71,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(","context":" 69: \n 70:     it('returns INTERNAL_ERROR when getLlmClient returns other error codes', async () => {\n>71:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(\n 72:         err({ code: 'NETWORK_ERROR', message: 'Connection failed' })\n 73:       );"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":85,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(","context":" 83: \n 84:     it('returns INTERNAL_ERROR for API_ERROR code', async () => {\n>85:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(\n 86:         err({ code: 'API_ERROR', message: 'User service unavailable' })\n 87:       );"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":100,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(","context":" 98:   describe('LLM generate error paths', () => {\n 99:     beforeEach(() => {\n>100:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(\n 101:         ok(mockLlmClient as LlmGenerateClient)\n 102:       );"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":106,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 104: \n 105:     it('returns EXTRACTION_FAILED when LLM generate fails', async () => {\n>106:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 107:         err({ code: 'RATE_LIMITED', message: 'Too many requests' })\n 108:       );"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":123,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(","context":" 121:   describe('Response parsing - markdown unwrapping', () => {\n 122:     beforeEach(() => {\n>123:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(\n 124:         ok(mockLlmClient as LlmGenerateClient)\n 125:       );"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":133,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 131: \\`\\`\\``;\n 132: \n>133:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 134:         ok({\n 135:           content: markdownWrapped,"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":155,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 153: \\`\\`\\``;\n 154: \n>155:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 156:         ok({\n 157:           content: markdownWrapped,"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":173,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 171:       const plainJson = JSON.stringify(VALID_EXTRACTED_JSON);\n 172: \n>173:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 174:         ok({\n 175:           content: plainJson,"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":191,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 189:       const whitespaceJson = `   ${JSON.stringify(VALID_EXTRACTED_JSON)}   `;\n 190: \n>191:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 192:         ok({\n 193:           content: whitespaceJson,"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":209,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(","context":" 207:   describe('JSON parse failures', () => {\n 208:     beforeEach(() => {\n>209:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(\n 210:         ok(mockLlmClient as LlmGenerateClient)\n 211:       );"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":215,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 213: \n 214:     it('returns EXTRACTION_FAILED for malformed JSON', async () => {\n>215:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 216:         ok({\n 217:           content: '{ this is not valid json }',"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":232,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 230: \n 231:     it('returns EXTRACTION_FAILED for empty string', async () => {\n>232:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 233:         ok({\n 234:           content: '',"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":248,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 246: \n 247:     it('returns EXTRACTION_FAILED for non-JSON text', async () => {\n>248:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 249:         ok({\n 250:           content: 'This is just plain text, not JSON at all',"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":266,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(","context":" 264:   describe('Zod validation failures', () => {\n 265:     beforeEach(() => {\n>266:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(\n 267:         ok(mockLlmClient as LlmGenerateClient)\n 268:       );"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":279,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 277:       };\n 278: \n>279:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 280:         ok({\n 281:           content: JSON.stringify(invalidSchema),"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":303,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 301:       };\n 302: \n>303:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 304:         ok({\n 305:           content: JSON.stringify(invalidPriority),"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":326,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 324:       };\n 325: \n>326:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 327:         ok({\n 328:           content: JSON.stringify(wrongType),"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":344,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(","context":" 342:   describe('Happy path - successful extraction', () => {\n 343:     beforeEach(() => {\n>344:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(\n 345:         ok(mockLlmClient as LlmGenerateClient)\n 346:       );"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":360,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 358:       };\n 359: \n>360:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 361:         ok({\n 362:           content: JSON.stringify(fullData),"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":393,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 391:       };\n 392: \n>393:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 394:         ok({\n 395:           content: JSON.stringify(minimalData),"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":423,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 421:         };\n 422: \n>423:         vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 424:           ok({\n 425:             content: JSON.stringify(data),"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":450,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 448:       };\n 449: \n>450:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 451:         ok({\n 452:           content: JSON.stringify(errorData),"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":470,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(","context":" 468:   describe('Edge cases', () => {\n 469:     beforeEach(() => {\n>470:       vi.mocked(mockUserServiceClient.getLlmClient).mockResolvedValue(\n 471:         ok(mockLlmClient as LlmGenerateClient)\n 472:       );"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":482,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 480:       };\n 481: \n>482:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 483:         ok({\n 484:           content: JSON.stringify(extraFields),"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":503,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 501: \\`\\`\\``;\n 502: \n>503:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 504:         ok({\n 505:           content,"},{"type":"typecheck","code":"TS2532","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":520,"message":"Object is possibly 'undefined'.","snippet":"vi.mocked(mockLlmClient.generate).mockResolvedValue(","context":" 518: ${JSON.stringify(VALID_EXTRACTED_JSON)}`;\n 519: \n>520:       vi.mocked(mockLlmClient.generate).mockResolvedValue(\n 521:         ok({\n 522:           content: partialMarkdown,"}]}
{"ts":"2026-01-26T17:07:41.082Z","project":"intexuraos-4","branch":"kontakt/int-395-coveragelinear-agent-linearactionextractionservicets-0","workspace":"linear-agent","runNumber":3,"passed":false,"durationMs":4135,"failureCount":5,"failures":[{"type":"typecheck","code":"TS6133","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":5,"message":"'afterEach' is declared but its value is never read.","snippet":"import { afterEach, beforeEach, describe, expect, it, vi } from 'vitest';","context":" 3:  * Tests the real implementation using mocked dependencies.\n 4:  */\n>5: import { afterEach, beforeEach, describe, expect, it, vi } from 'vitest';\n 6: import { err, ok, type Result } from '@intexuraos/common-core';\n 7: import pino from 'pino';"},{"type":"typecheck","code":"TS6196","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":12,"message":"'LinearError' is declared but never used.","snippet":"LinearError,","context":" 10:   ExtractedIssueData,\n 11:   LinearPriority,\n>12:   LinearError,\n 13: } from '../../../domain/index.js';\n 14: import type {"},{"type":"typecheck","code":"TS2416","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":69,"message":"Property 'getApiKeys' in type 'FakeUserServiceClient' is not assignable to the same property in base type 'UserServiceClient'.","snippet":"async getApiKeys(_userId: string): Promise<Result<unknown, UserServiceError>> {","context":" 67: \n 68:   // Minimal stubs for other methods\n>69:   async getApiKeys(_userId: string): Promise<Result<unknown, UserServiceError>> {\n 70:     return ok({});\n 71:   }"},{"type":"typecheck","code":"TS2416","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":80,"message":"Property 'getOAuthToken' in type 'FakeUserServiceClient' is not assignable to the same property in base type 'UserServiceClient'.","snippet":"async getOAuthToken(","context":" 78:   }\n 79: \n>80:   async getOAuthToken(\n 81:     _userId: string,\n 82:     _provider: unknown"},{"type":"typecheck","code":"TS2345","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":107,"message":"Argument of type 'FakeUserServiceClient' is not assignable to parameter of type 'UserServiceClient'.","snippet":"service = createLinearActionExtractionService(fakeUserService, mockLogger);","context":" 105:     fakeUserService = new FakeUserServiceClient();\n 106:     fakeLlmClient = fakeUserService.getLlmClientRef() as FakeLlmClient;\n>107:     service = createLinearActionExtractionService(fakeUserService, mockLogger);\n 108:   });\n 109: "}]}
{"ts":"2026-01-26T17:09:31.546Z","project":"intexuraos-4","branch":"kontakt/int-395-coveragelinear-agent-linearactionextractionservicets-0","workspace":"linear-agent","runNumber":4,"passed":true,"durationMs":84300,"failureCount":0,"failures":[]}
{"ts":"2026-01-26T17:12:11.063Z","project":"intexuraos-4","branch":"kontakt/int-395-coveragelinear-agent-linearactionextractionservicets-0","runNumber":5,"passed":false,"durationMs":17705,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T17:13:41.635Z","project":"intexuraos-4","branch":"kontakt/int-395-coveragelinear-agent-linearactionextractionservicets-0","runNumber":6,"passed":false,"durationMs":57321,"failureCount":3,"failures":[{"type":"typecheck","code":"TS6133","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":19,"message":"'LlmProviders' is declared but its value is never read.","snippet":"import { LlmProviders } from '@intexuraos/llm-contract';","context":" 17:   UserServiceError,\n 18: } from '@intexuraos/internal-clients';\n>19: import { LlmProviders } from '@intexuraos/llm-contract';\n 20: import type {\n 21:   LlmGenerateClient,"},{"type":"typecheck","code":"TS2503","file":"apps/linear-agent/src/__tests__/infra/llm/linearActionExtractionService.test.ts","line":84,"message":"Cannot find namespace 'LlmProviders'.","snippet":"_provider: LlmProviders.Google","context":" 82:   async getOAuthToken(\n 83:     _userId: string,\n>84:     _provider: LlmProviders.Google\n 85:   ): Promise<Result<OAuthTokenResult, UserServiceError>> {\n 86:     return ok({} as OAuthTokenResult);"},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
