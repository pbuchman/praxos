{"ts":"2026-01-26T03:16:20.748Z","project":"intexuraos-1","branch":"kontakt/int-312-bug-calendar-date-filters","runNumber":1,"passed":false,"durationMs":57590,"failureCount":28,"failures":[{"type":"typecheck","code":"TS2769","file":"apps/calendar-agent/src/infra/google/googleCalendarClient.ts","line":228,"message":"No overload matches this call.","snippet":"const response = await calendar.events.list(params);","context":" 226:       });\n 227: \n>228:       const response = await calendar.events.list(params);\n 229:       const events = (response.data.items ?? []).map(mapGoogleEventToCalendarEvent);\n 230:       logger.debug({ calendarId, eventCount: events.length }, 'GoogleCalendarClient.listEvents: response');"},{"type":"typecheck","code":"TS2339","file":"apps/calendar-agent/src/infra/google/googleCalendarClient.ts","line":229,"message":"Property 'data' does not exist on type 'GaxiosPromise<Readable> & GaxiosPromise<Schema$Events> & void'.","snippet":"const events = (response.data.items ?? []).map(mapGoogleEventToCalendarEvent);","context":" 227: \n 228:       const response = await calendar.events.list(params);\n>229:       const events = (response.data.items ?? []).map(mapGoogleEventToCalendarEvent);\n 230:       logger.debug({ calendarId, eventCount: events.length }, 'GoogleCalendarClient.listEvents: response');\n 231:       return ok(events);"},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/__tests__/openapi-contract.test.ts","line":2,"message":"Cannot find module 'fastify' or its corresponding type declarations.","snippet":"import type { FastifyInstance } from 'fastify';","context":" 1: import { afterAll, beforeAll, describe, expect, it } from 'vitest';\n>2: import type { FastifyInstance } from 'fastify';\n 3: import { buildServer } from '../server.js';\n 4: "},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/__tests__/testUtils.ts","line":6,"message":"Cannot find module 'fastify' or its corresponding type declarations.","snippet":"import Fastify, { type FastifyInstance } from 'fastify';","context":" 4:  */\n 5: import { afterAll, afterEach, beforeAll, beforeEach, describe, expect, it } from 'vitest';\n>6: import Fastify, { type FastifyInstance } from 'fastify';\n 7: import * as jose from 'jose';\n 8: import { buildServer } from '../server.js';"},{"type":"typecheck","code":"TS7006","file":"apps/promptvault-service/src/__tests__/testUtils.ts","line":61,"message":"Parameter '_req' implicitly has an 'any' type.","snippet":"jwksServer.get('/.well-known/jwks.json', async (_req, reply) => {","context":" 59:   jwksServer = Fastify({ logger: false });\n 60: \n>61:   jwksServer.get('/.well-known/jwks.json', async (_req, reply) => {\n 62:     return await reply.send({ keys: [publicKeyJwk] });\n 63:   });"},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/routes/index.ts","line":6,"message":"Cannot find module 'fastify' or its corresponding type declarations.","snippet":"import type { FastifyPluginCallback } from 'fastify';","context":" 4:  */\n 5: \n>6: import type { FastifyPluginCallback } from 'fastify';\n 7: import { promptRoutes } from './promptRoutes.js';\n 8: "},{"type":"typecheck","code":"TS7006","file":"apps/promptvault-service/src/routes/index.ts","line":9,"message":"Parameter 'fastify' implicitly has an 'any' type.","snippet":"export const promptVaultRoutes: FastifyPluginCallback = (fastify, _opts, done) => {","context":" 7: import { promptRoutes } from './promptRoutes.js';\n 8: \n>9: export const promptVaultRoutes: FastifyPluginCallback = (fastify, _opts, done) => {\n 10:   fastify.register(promptRoutes);\n 11:   done();"},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":11,"message":"Cannot find module 'fastify' or its corresponding type declarations.","snippet":"import type { FastifyPluginCallback } from 'fastify';","context":" 9:  */\n 10: \n>11: import type { FastifyPluginCallback } from 'fastify';\n 12: import { handleValidationError, logIncomingRequest, requireAuth } from '@intexuraos/common-http';\n 13: import { createPrompt, getPrompt, listPrompts, updatePrompt } from '../domain/promptvault/index.js';"},{"type":"typecheck","code":"TS7006","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":18,"message":"Parameter 'fastify' implicitly has an 'any' type.","snippet":"export const promptRoutes: FastifyPluginCallback = (fastify, _opts, done) => {","context":" 16: import { mapDomainErrorCode } from './shared.js';\n 17: \n>18: export const promptRoutes: FastifyPluginCallback = (fastify, _opts, done) => {\n 19:   // GET /prompt-vault/main-page\n 20:   fastify.get("},{"type":"typecheck","code":"TS7006","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":73,"message":"Parameter 'request' implicitly has an 'any' type.","snippet":"async (request, reply) => {","context":" 71:       },\n 72:     },\n>73:     async (request, reply) => {\n 74:       const user = await requireAuth(request, reply);\n 75:       if (user === null) return;"},{"type":"typecheck","code":"TS7006","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":184,"message":"Parameter 'request' implicitly has an 'any' type.","snippet":"async (request, reply) => {","context":" 182:       },\n 183:     },\n>184:     async (request, reply) => {\n 185:       logIncomingRequest(request, {\n 186:         message: 'Received request to GET /prompt-vault/prompts',"},{"type":"typecheck","code":"TS7006","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":278,"message":"Parameter 'request' implicitly has an 'any' type.","snippet":"async (request, reply) => {","context":" 276:       },\n 277:     },\n>278:     async (request, reply) => {\n 279:       logIncomingRequest(request, {\n 280:         message: 'Received request to POST /prompt-vault/prompts',"},{"type":"typecheck","code":"TS2347","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":320,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.get<{ Params: { prompt_id: string } }>(","context":" 318: \n 319:   // GET /prompt-vault/prompts/:prompt_id - Get a single prompt\n>320:   fastify.get<{ Params: { prompt_id: string } }>(\n 321:     '/prompt-vault/prompts/:prompt_id',\n 322:     {"},{"type":"typecheck","code":"TS7006","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":390,"message":"Parameter 'request' implicitly has an 'any' type.","snippet":"async (request, reply) => {","context":" 388:       },\n 389:     },\n>390:     async (request, reply) => {\n 391:       logIncomingRequest(request, {\n 392:         message: 'Received request to GET /prompt-vault/prompts/:prompt_id',"},{"type":"typecheck","code":"TS2347","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":424,"message":"Untyped function calls may not accept type arguments.","snippet":"fastify.patch<{ Params: { prompt_id: string } }>(","context":" 422: \n 423:   // PATCH /prompt-vault/prompts/:prompt_id - Update a prompt\n>424:   fastify.patch<{ Params: { prompt_id: string } }>(\n 425:     '/prompt-vault/prompts/:prompt_id',\n 426:     {"},{"type":"typecheck","code":"TS7006","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":505,"message":"Parameter 'request' implicitly has an 'any' type.","snippet":"async (request, reply) => {","context":" 503:       },\n 504:     },\n>505:     async (request, reply) => {\n 506:       logIncomingRequest(request, {\n 507:         message: 'Received request to PATCH /prompt-vault/prompts/:prompt_id',"},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/routes/schemas.ts","line":1,"message":"Cannot find module 'zod' or its corresponding type declarations.","snippet":"import { z } from 'zod';","context":">1: import { z } from 'zod';\n 2: \n 3: /**"},{"type":"typecheck","code":"TS7006","file":"apps/promptvault-service/src/routes/schemas.ts","line":43,"message":"Parameter 'data' implicitly has an 'any' type.","snippet":".refine((data) => data.title !== undefined || data.prompt !== undefined, {","context":" 41:   })\n 42:   .strict()\n>43:   .refine((data) => data.title !== undefined || data.prompt !== undefined, {\n 44:     message: 'at least one of title or prompt must be provided',\n 45:     path: [],"},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/server.ts","line":1,"message":"Cannot find module 'fastify' or its corresponding type declarations.","snippet":"import Fastify, { type FastifyInstance } from 'fastify';","context":">1: import Fastify, { type FastifyInstance } from 'fastify';\n 2: import pino from 'pino';\n 3: import type { FastifyDynamicSwaggerOptions } from '@fastify/swagger';"},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/server.ts","line":2,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 1: import Fastify, { type FastifyInstance } from 'fastify';\n>2: import pino from 'pino';\n 3: import type { FastifyDynamicSwaggerOptions } from '@fastify/swagger';\n 4: import fastifySwagger from '@fastify/swagger';"},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/server.ts","line":3,"message":"Cannot find module '@fastify/swagger' or its corresponding type declarations.","snippet":"import type { FastifyDynamicSwaggerOptions } from '@fastify/swagger';","context":" 1: import Fastify, { type FastifyInstance } from 'fastify';\n 2: import pino from 'pino';\n>3: import type { FastifyDynamicSwaggerOptions } from '@fastify/swagger';\n 4: import fastifySwagger from '@fastify/swagger';\n 5: import fastifySwaggerUi from '@fastify/swagger-ui';"},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/server.ts","line":4,"message":"Cannot find module '@fastify/swagger' or its corresponding type declarations.","snippet":"import fastifySwagger from '@fastify/swagger';","context":" 2: import pino from 'pino';\n 3: import type { FastifyDynamicSwaggerOptions } from '@fastify/swagger';\n>4: import fastifySwagger from '@fastify/swagger';\n 5: import fastifySwaggerUi from '@fastify/swagger-ui';\n 6: import fastifyCors from '@fastify/cors';"},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/server.ts","line":5,"message":"Cannot find module '@fastify/swagger-ui' or its corresponding type declarations.","snippet":"import fastifySwaggerUi from '@fastify/swagger-ui';","context":" 3: import type { FastifyDynamicSwaggerOptions } from '@fastify/swagger';\n 4: import fastifySwagger from '@fastify/swagger';\n>5: import fastifySwaggerUi from '@fastify/swagger-ui';\n 6: import fastifyCors from '@fastify/cors';\n 7: import {"},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/server.ts","line":6,"message":"Cannot find module '@fastify/cors' or its corresponding type declarations.","snippet":"import fastifyCors from '@fastify/cors';","context":" 4: import fastifySwagger from '@fastify/swagger';\n 5: import fastifySwaggerUi from '@fastify/swagger-ui';\n>6: import fastifyCors from '@fastify/cors';\n 7: import {\n 8:   fastifyAuthPlugin,"},{"type":"typecheck","code":"TS7006","file":"apps/promptvault-service/src/server.ts","line":434,"message":"Parameter '_req' implicitly has an 'any' type.","snippet":"async (_req, reply) => {","context":" 432:       },\n 433:     },\n>434:     async (_req, reply) => {\n 435:       const spec = app.swagger();\n 436:       return await reply.type('application/json').send(spec);"},{"type":"typecheck","code":"TS7006","file":"apps/promptvault-service/src/server.ts","line":477,"message":"Parameter '_req' implicitly has an 'any' type.","snippet":"async (_req, reply) => {","context":" 475:       },\n 476:     },\n>477:     async (_req, reply) => {\n 478:       const started = Date.now();\n 479:       const firestoreCheck = await checkFirestore();"},{"type":"typecheck","code":"TS2307","file":"apps/promptvault-service/src/services.ts","line":6,"message":"Cannot find module 'pino' or its corresponding type declarations.","snippet":"import pino from 'pino';","context":" 4:  */\n 5: import type { Result } from '@intexuraos/common-core';\n>6: import pino from 'pino';\n 7: import {\n 8:   type NotionLogger,"},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T03:16:53.248Z","project":"intexuraos-1","branch":"kontakt/int-312-bug-calendar-date-filters","workspace":"--","runNumber":2,"passed":false,"durationMs":16,"failureCount":0,"failures":[]}
{"ts":"2026-01-26T03:17:13.926Z","project":"intexuraos-1","branch":"kontakt/int-312-bug-calendar-date-filters","workspace":"calendar-agent","runNumber":3,"passed":false,"durationMs":15242,"failureCount":550,"failures":[{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":65,"message":"Unsafe object destructuring of a property with an error typed value","snippet":"const { logger } = deps;","context":" 63:   deps: CreatePromptDeps\n 64: ): Promise<Result<Prompt, PromptVaultError>> {\n>65:   const { logger } = deps;\n 66: \n 67:   logger.debug({ userId: input.userId, title: input.title }, 'Creating prompt');"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":67,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.debug({ userId: input.userId, title: input.title }, 'Creating prompt');","context":" 65:   const { logger } = deps;\n 66: \n>67:   logger.debug({ userId: input.userId, title: input.title }, 'Creating prompt');\n 68: \n 69:   const validationError = validateInput(input);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":67,"message":"Unsafe member access .debug on a type that cannot be resolved","snippet":"logger.debug({ userId: input.userId, title: input.title }, 'Creating prompt');","context":" 65:   const { logger } = deps;\n 66: \n>67:   logger.debug({ userId: input.userId, title: input.title }, 'Creating prompt');\n 68: \n 69:   const validationError = validateInput(input);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":71,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.warn(","context":" 69:   const validationError = validateInput(input);\n 70:   if (validationError !== null) {\n>71:     logger.warn(\n 72:       { userId: input.userId, errorCode: validationError.code },\n 73:       'Prompt validation failed'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":71,"message":"Unsafe member access .warn on a type that cannot be resolved","snippet":"logger.warn(","context":" 69:   const validationError = validateInput(input);\n 70:   if (validationError !== null) {\n>71:     logger.warn(\n 72:       { userId: input.userId, errorCode: validationError.code },\n 73:       'Prompt validation failed'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":75,"message":"Unsafe call of a type that could not be resolved","snippet":"return err(validationError);","context":" 73:       'Prompt validation failed'\n 74:     );\n>75:     return err(validationError);\n 76:   }\n 77: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":78,"message":"Unsafe assignment of an error typed value","snippet":"const result = await repository.createPrompt(input.userId, {","context":" 76:   }\n 77: \n>78:   const result = await repository.createPrompt(input.userId, {\n 79:     title: input.title,\n 80:     content: input.content,"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":83,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!result.ok) {","context":" 81:   });\n 82: \n>83:   if (!result.ok) {\n 84:     logger.error(\n 85:       { userId: input.userId, errorMessage: result.error.message },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":83,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!result.ok) {","context":" 81:   });\n 82: \n>83:   if (!result.ok) {\n 84:     logger.error(\n 85:       { userId: input.userId, errorMessage: result.error.message },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":84,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.error(","context":" 82: \n 83:   if (!result.ok) {\n>84:     logger.error(\n 85:       { userId: input.userId, errorMessage: result.error.message },\n 86:       'Failed to create prompt'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":84,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"logger.error(","context":" 82: \n 83:   if (!result.ok) {\n>84:     logger.error(\n 85:       { userId: input.userId, errorMessage: result.error.message },\n 86:       'Failed to create prompt'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":85,"message":"Unsafe assignment of an error typed value","snippet":"{ userId: input.userId, errorMessage: result.error.message },","context":" 83:   if (!result.ok) {\n 84:     logger.error(\n>85:       { userId: input.userId, errorMessage: result.error.message },\n 86:       'Failed to create prompt'\n 87:     );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":85,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"{ userId: input.userId, errorMessage: result.error.message },","context":" 83:   if (!result.ok) {\n 84:     logger.error(\n>85:       { userId: input.userId, errorMessage: result.error.message },\n 86:       'Failed to create prompt'\n 87:     );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":91,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.info({ userId: input.userId, promptId: result.value.id }, 'Prompt created successfully');","context":" 89:   }\n 90: \n>91:   logger.info({ userId: input.userId, promptId: result.value.id }, 'Prompt created successfully');\n 92:   return result;\n 93: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":91,"message":"Unsafe member access .info on a type that cannot be resolved","snippet":"logger.info({ userId: input.userId, promptId: result.value.id }, 'Prompt created successfully');","context":" 89:   }\n 90: \n>91:   logger.info({ userId: input.userId, promptId: result.value.id }, 'Prompt created successfully');\n 92:   return result;\n 93: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":91,"message":"Unsafe assignment of an error typed value","snippet":"logger.info({ userId: input.userId, promptId: result.value.id }, 'Prompt created successfully');","context":" 89:   }\n 90: \n>91:   logger.info({ userId: input.userId, promptId: result.value.id }, 'Prompt created successfully');\n 92:   return result;\n 93: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":102,"message":"Unsafe return of a value of type error","snippet":"return async (input) => await createPrompt(repository, input, { logger });","context":" 100:   logger: Logger\n 101: ): (input: CreatePromptUseCaseInput) => Promise<Result<Prompt, PromptVaultError>> {\n>102:   return async (input) => await createPrompt(repository, input, { logger });\n 103: }\n 104: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/CreatePromptUseCase.ts","line":102,"message":"Unsafe assignment of an error typed value","snippet":"return async (input) => await createPrompt(repository, input, { logger });","context":" 100:   logger: Logger\n 101: ): (input: CreatePromptUseCaseInput) => Promise<Result<Prompt, PromptVaultError>> {\n>102:   return async (input) => await createPrompt(repository, input, { logger });\n 103: }\n 104: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":43,"message":"Unsafe object destructuring of a property with an error typed value","snippet":"const { logger } = deps;","context":" 41:   deps: GetPromptDeps\n 42: ): Promise<Result<Prompt, PromptVaultError>> {\n>43:   const { logger } = deps;\n 44: \n 45:   logger.debug({ userId: input.userId, promptId: input.promptId }, 'Getting prompt');"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":45,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.debug({ userId: input.userId, promptId: input.promptId }, 'Getting prompt');","context":" 43:   const { logger } = deps;\n 44: \n>45:   logger.debug({ userId: input.userId, promptId: input.promptId }, 'Getting prompt');\n 46: \n 47:   const validationError = validateInput(input);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":45,"message":"Unsafe member access .debug on a type that cannot be resolved","snippet":"logger.debug({ userId: input.userId, promptId: input.promptId }, 'Getting prompt');","context":" 43:   const { logger } = deps;\n 44: \n>45:   logger.debug({ userId: input.userId, promptId: input.promptId }, 'Getting prompt');\n 46: \n 47:   const validationError = validateInput(input);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":49,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.warn(","context":" 47:   const validationError = validateInput(input);\n 48:   if (validationError !== null) {\n>49:     logger.warn(\n 50:       { userId: input.userId, promptId: input.promptId },\n 51:       'Prompt validation failed: promptId is required'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":49,"message":"Unsafe member access .warn on a type that cannot be resolved","snippet":"logger.warn(","context":" 47:   const validationError = validateInput(input);\n 48:   if (validationError !== null) {\n>49:     logger.warn(\n 50:       { userId: input.userId, promptId: input.promptId },\n 51:       'Prompt validation failed: promptId is required'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":53,"message":"Unsafe call of a type that could not be resolved","snippet":"return err(validationError);","context":" 51:       'Prompt validation failed: promptId is required'\n 52:     );\n>53:     return err(validationError);\n 54:   }\n 55: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":56,"message":"Unsafe assignment of an error typed value","snippet":"const result = await repository.getPrompt(input.userId, input.promptId);","context":" 54:   }\n 55: \n>56:   const result = await repository.getPrompt(input.userId, input.promptId);\n 57: \n 58:   if (!result.ok) {"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":58,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!result.ok) {","context":" 56:   const result = await repository.getPrompt(input.userId, input.promptId);\n 57: \n>58:   if (!result.ok) {\n 59:     logger.error(\n 60:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":58,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!result.ok) {","context":" 56:   const result = await repository.getPrompt(input.userId, input.promptId);\n 57: \n>58:   if (!result.ok) {\n 59:     logger.error(\n 60:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":59,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.error(","context":" 57: \n 58:   if (!result.ok) {\n>59:     logger.error(\n 60:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },\n 61:       'Failed to get prompt'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":59,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"logger.error(","context":" 57: \n 58:   if (!result.ok) {\n>59:     logger.error(\n 60:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },\n 61:       'Failed to get prompt'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":60,"message":"Unsafe assignment of an error typed value","snippet":"{ userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },","context":" 58:   if (!result.ok) {\n 59:     logger.error(\n>60:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },\n 61:       'Failed to get prompt'\n 62:     );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":60,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"{ userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },","context":" 58:   if (!result.ok) {\n 59:     logger.error(\n>60:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },\n 61:       'Failed to get prompt'\n 62:     );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":66,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.debug({ userId: input.userId, promptId: input.promptId }, 'Prompt retrieved successfully');","context":" 64:   }\n 65: \n>66:   logger.debug({ userId: input.userId, promptId: input.promptId }, 'Prompt retrieved successfully');\n 67:   return result;\n 68: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":66,"message":"Unsafe member access .debug on a type that cannot be resolved","snippet":"logger.debug({ userId: input.userId, promptId: input.promptId }, 'Prompt retrieved successfully');","context":" 64:   }\n 65: \n>66:   logger.debug({ userId: input.userId, promptId: input.promptId }, 'Prompt retrieved successfully');\n 67:   return result;\n 68: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":77,"message":"Unsafe return of a value of type error","snippet":"return async (input) => await getPrompt(repository, input, { logger });","context":" 75:   logger: Logger\n 76: ): (input: GetPromptUseCaseInput) => Promise<Result<Prompt, PromptVaultError>> {\n>77:   return async (input) => await getPrompt(repository, input, { logger });\n 78: }\n 79: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/GetPromptUseCase.ts","line":77,"message":"Unsafe assignment of an error typed value","snippet":"return async (input) => await getPrompt(repository, input, { logger });","context":" 75:   logger: Logger\n 76: ): (input: GetPromptUseCaseInput) => Promise<Result<Prompt, PromptVaultError>> {\n>77:   return async (input) => await getPrompt(repository, input, { logger });\n 78: }\n 79: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":31,"message":"Unsafe object destructuring of a property with an error typed value","snippet":"const { logger } = deps;","context":" 29:   deps: ListPromptsDeps\n 30: ): Promise<Result<Prompt[], PromptVaultError>> {\n>31:   const { logger } = deps;\n 32: \n 33:   logger.debug({ userId: input.userId }, 'Listing prompts');"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":33,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.debug({ userId: input.userId }, 'Listing prompts');","context":" 31:   const { logger } = deps;\n 32: \n>33:   logger.debug({ userId: input.userId }, 'Listing prompts');\n 34: \n 35:   const result = await repository.listPrompts(input.userId);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":33,"message":"Unsafe member access .debug on a type that cannot be resolved","snippet":"logger.debug({ userId: input.userId }, 'Listing prompts');","context":" 31:   const { logger } = deps;\n 32: \n>33:   logger.debug({ userId: input.userId }, 'Listing prompts');\n 34: \n 35:   const result = await repository.listPrompts(input.userId);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":35,"message":"Unsafe assignment of an error typed value","snippet":"const result = await repository.listPrompts(input.userId);","context":" 33:   logger.debug({ userId: input.userId }, 'Listing prompts');\n 34: \n>35:   const result = await repository.listPrompts(input.userId);\n 36: \n 37:   if (!result.ok) {"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":37,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!result.ok) {","context":" 35:   const result = await repository.listPrompts(input.userId);\n 36: \n>37:   if (!result.ok) {\n 38:     logger.error(\n 39:       { userId: input.userId, errorMessage: result.error.message },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":37,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!result.ok) {","context":" 35:   const result = await repository.listPrompts(input.userId);\n 36: \n>37:   if (!result.ok) {\n 38:     logger.error(\n 39:       { userId: input.userId, errorMessage: result.error.message },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":38,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.error(","context":" 36: \n 37:   if (!result.ok) {\n>38:     logger.error(\n 39:       { userId: input.userId, errorMessage: result.error.message },\n 40:       'Failed to list prompts'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":38,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"logger.error(","context":" 36: \n 37:   if (!result.ok) {\n>38:     logger.error(\n 39:       { userId: input.userId, errorMessage: result.error.message },\n 40:       'Failed to list prompts'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":39,"message":"Unsafe assignment of an error typed value","snippet":"{ userId: input.userId, errorMessage: result.error.message },","context":" 37:   if (!result.ok) {\n 38:     logger.error(\n>39:       { userId: input.userId, errorMessage: result.error.message },\n 40:       'Failed to list prompts'\n 41:     );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":39,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"{ userId: input.userId, errorMessage: result.error.message },","context":" 37:   if (!result.ok) {\n 38:     logger.error(\n>39:       { userId: input.userId, errorMessage: result.error.message },\n 40:       'Failed to list prompts'\n 41:     );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":45,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.debug({ userId: input.userId, count: result.value.length }, 'Prompts listed successfully');","context":" 43:   }\n 44: \n>45:   logger.debug({ userId: input.userId, count: result.value.length }, 'Prompts listed successfully');\n 46:   return result;\n 47: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":45,"message":"Unsafe member access .debug on a type that cannot be resolved","snippet":"logger.debug({ userId: input.userId, count: result.value.length }, 'Prompts listed successfully');","context":" 43:   }\n 44: \n>45:   logger.debug({ userId: input.userId, count: result.value.length }, 'Prompts listed successfully');\n 46:   return result;\n 47: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":45,"message":"Unsafe assignment of an error typed value","snippet":"logger.debug({ userId: input.userId, count: result.value.length }, 'Prompts listed successfully');","context":" 43:   }\n 44: \n>45:   logger.debug({ userId: input.userId, count: result.value.length }, 'Prompts listed successfully');\n 46:   return result;\n 47: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":56,"message":"Unsafe return of a value of type error","snippet":"return async (input) => await listPrompts(repository, input, { logger });","context":" 54:   logger: Logger\n 55: ): (input: ListPromptsUseCaseInput) => Promise<Result<Prompt[], PromptVaultError>> {\n>56:   return async (input) => await listPrompts(repository, input, { logger });\n 57: }\n 58: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/ListPromptsUseCase.ts","line":56,"message":"Unsafe assignment of an error typed value","snippet":"return async (input) => await listPrompts(repository, input, { logger });","context":" 54:   logger: Logger\n 55: ): (input: ListPromptsUseCaseInput) => Promise<Result<Prompt[], PromptVaultError>> {\n>56:   return async (input) => await listPrompts(repository, input, { logger });\n 57: }\n 58: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":86,"message":"Unsafe object destructuring of a property with an error typed value","snippet":"const { logger } = deps;","context":" 84:   deps: UpdatePromptDeps\n 85: ): Promise<Result<Prompt, PromptVaultError>> {\n>86:   const { logger } = deps;\n 87: \n 88:   logger.debug({ userId: input.userId, promptId: input.promptId }, 'Updating prompt');"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":88,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.debug({ userId: input.userId, promptId: input.promptId }, 'Updating prompt');","context":" 86:   const { logger } = deps;\n 87: \n>88:   logger.debug({ userId: input.userId, promptId: input.promptId }, 'Updating prompt');\n 89: \n 90:   const validationError = validateInput(input);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":88,"message":"Unsafe member access .debug on a type that cannot be resolved","snippet":"logger.debug({ userId: input.userId, promptId: input.promptId }, 'Updating prompt');","context":" 86:   const { logger } = deps;\n 87: \n>88:   logger.debug({ userId: input.userId, promptId: input.promptId }, 'Updating prompt');\n 89: \n 90:   const validationError = validateInput(input);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":92,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.warn(","context":" 90:   const validationError = validateInput(input);\n 91:   if (validationError !== null) {\n>92:     logger.warn(\n 93:       { userId: input.userId, promptId: input.promptId, errorCode: validationError.code },\n 94:       'Prompt validation failed'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":92,"message":"Unsafe member access .warn on a type that cannot be resolved","snippet":"logger.warn(","context":" 90:   const validationError = validateInput(input);\n 91:   if (validationError !== null) {\n>92:     logger.warn(\n 93:       { userId: input.userId, promptId: input.promptId, errorCode: validationError.code },\n 94:       'Prompt validation failed'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":96,"message":"Unsafe call of a type that could not be resolved","snippet":"return err(validationError);","context":" 94:       'Prompt validation failed'\n 95:     );\n>96:     return err(validationError);\n 97:   }\n 98: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":99,"message":"Unsafe assignment of an error typed value","snippet":"const result = await repository.updatePrompt(input.userId, input.promptId, {","context":" 97:   }\n 98: \n>99:   const result = await repository.updatePrompt(input.userId, input.promptId, {\n 100:     title: input.title,\n 101:     content: input.content,"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":104,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!result.ok) {","context":" 102:   });\n 103: \n>104:   if (!result.ok) {\n 105:     logger.error(\n 106:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":104,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!result.ok) {","context":" 102:   });\n 103: \n>104:   if (!result.ok) {\n 105:     logger.error(\n 106:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":105,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.error(","context":" 103: \n 104:   if (!result.ok) {\n>105:     logger.error(\n 106:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },\n 107:       'Failed to update prompt'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":105,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"logger.error(","context":" 103: \n 104:   if (!result.ok) {\n>105:     logger.error(\n 106:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },\n 107:       'Failed to update prompt'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":106,"message":"Unsafe assignment of an error typed value","snippet":"{ userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },","context":" 104:   if (!result.ok) {\n 105:     logger.error(\n>106:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },\n 107:       'Failed to update prompt'\n 108:     );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":106,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"{ userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },","context":" 104:   if (!result.ok) {\n 105:     logger.error(\n>106:       { userId: input.userId, promptId: input.promptId, errorMessage: result.error.message },\n 107:       'Failed to update prompt'\n 108:     );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":112,"message":"Unsafe call of a type that could not be resolved","snippet":"logger.info({ userId: input.userId, promptId: input.promptId }, 'Prompt updated successfully');","context":" 110:   }\n 111: \n>112:   logger.info({ userId: input.userId, promptId: input.promptId }, 'Prompt updated successfully');\n 113:   return result;\n 114: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":112,"message":"Unsafe member access .info on a type that cannot be resolved","snippet":"logger.info({ userId: input.userId, promptId: input.promptId }, 'Prompt updated successfully');","context":" 110:   }\n 111: \n>112:   logger.info({ userId: input.userId, promptId: input.promptId }, 'Prompt updated successfully');\n 113:   return result;\n 114: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":123,"message":"Unsafe return of a value of type error","snippet":"return async (input) => await updatePrompt(repository, input, { logger });","context":" 121:   logger: Logger\n 122: ): (input: UpdatePromptUseCaseInput) => Promise<Result<Prompt, PromptVaultError>> {\n>123:   return async (input) => await updatePrompt(repository, input, { logger });\n 124: }\n 125: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/domain/promptvault/usecases/UpdatePromptUseCase.ts","line":123,"message":"Unsafe assignment of an error typed value","snippet":"return async (input) => await updatePrompt(repository, input, { logger });","context":" 121:   logger: Logger\n 122: ): (input: UpdatePromptUseCaseInput) => Promise<Result<Prompt, PromptVaultError>> {\n>123:   return async (input) => await updatePrompt(repository, input, { logger });\n 124: }\n 125: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/index.ts","line":13,"message":"Unsafe call of a type that could not be resolved","snippet":"validateRequiredEnv(REQUIRED_ENV);","context":" 11: ];\n 12: \n>13: validateRequiredEnv(REQUIRED_ENV);\n 14: \n 15: const sentryDsn = process.env['INTEXURAOS_SENTRY_DSN'];"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/index.ts","line":17,"message":"Unsafe call of a type that could not be resolved","snippet":"initSentry({","context":" 15: const sentryDsn = process.env['INTEXURAOS_SENTRY_DSN'];\n 16: \n>17: initSentry({\n 18:   ...(sentryDsn !== undefined && { dsn: sentryDsn }),\n 19:   environment: process.env['INTEXURAOS_ENVIRONMENT'] ?? 'development',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/index.ts","line":27,"message":"Unsafe assignment of an error typed value","snippet":"const app = await buildServer();","context":" 25: \n 26: async function main(): Promise<void> {\n>27:   const app = await buildServer();\n 28: \n 29:   const close = (): void => {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/index.ts","line":30,"message":"Unsafe call of a type that could not be resolved","snippet":"app.close().then(","context":" 28: \n 29:   const close = (): void => {\n>30:     app.close().then(\n 31:       () => {\n 32:         process.exit(0);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/index.ts","line":30,"message":"Unsafe member access .close on a type that cannot be resolved","snippet":"app.close().then(","context":" 28: \n 29:   const close = (): void => {\n>30:     app.close().then(\n 31:       () => {\n 32:         process.exit(0);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/index.ts","line":43,"message":"Unsafe call of a type that could not be resolved","snippet":"await app.listen({ port: PORT, host: HOST });","context":" 41:   process.on('SIGINT', close);\n 42: \n>43:   await app.listen({ port: PORT, host: HOST });\n 44: }\n 45: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/index.ts","line":43,"message":"Unsafe member access .listen on a type that cannot be resolved","snippet":"await app.listen({ port: PORT, host: HOST });","context":" 41:   process.on('SIGINT', close);\n 42: \n>43:   await app.listen({ port: PORT, host: HOST });\n 44: }\n 45: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":36,"message":"Unsafe assignment of an error typed value","snippet":"const db = getFirestore();","context":" 34: ): Promise<Result<string | null, PromptVaultError>> {\n 35:   try {\n>36:     const db = getFirestore();\n 37:     const doc = await db.collection(COLLECTION_NAME).doc(userId).get();\n 38: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":36,"message":"Unsafe call of a type that could not be resolved","snippet":"const db = getFirestore();","context":" 34: ): Promise<Result<string | null, PromptVaultError>> {\n 35:   try {\n>36:     const db = getFirestore();\n 37:     const doc = await db.collection(COLLECTION_NAME).doc(userId).get();\n 38: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":37,"message":"Unsafe assignment of an error typed value","snippet":"const doc = await db.collection(COLLECTION_NAME).doc(userId).get();","context":" 35:   try {\n 36:     const db = getFirestore();\n>37:     const doc = await db.collection(COLLECTION_NAME).doc(userId).get();\n 38: \n 39:     if (!doc.exists) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":37,"message":"Unsafe call of a type that could not be resolved","snippet":"const doc = await db.collection(COLLECTION_NAME).doc(userId).get();","context":" 35:   try {\n 36:     const db = getFirestore();\n>37:     const doc = await db.collection(COLLECTION_NAME).doc(userId).get();\n 38: \n 39:     if (!doc.exists) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":37,"message":"Unsafe member access .collection on a type that cannot be resolved","snippet":"const doc = await db.collection(COLLECTION_NAME).doc(userId).get();","context":" 35:   try {\n 36:     const db = getFirestore();\n>37:     const doc = await db.collection(COLLECTION_NAME).doc(userId).get();\n 38: \n 39:     if (!doc.exists) {"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":39,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!doc.exists) {","context":" 37:     const doc = await db.collection(COLLECTION_NAME).doc(userId).get();\n 38: \n>39:     if (!doc.exists) {\n 40:       return ok(null);\n 41:     }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":39,"message":"Unsafe member access .exists on a type that cannot be resolved","snippet":"if (!doc.exists) {","context":" 37:     const doc = await db.collection(COLLECTION_NAME).doc(userId).get();\n 38: \n>39:     if (!doc.exists) {\n 40:       return ok(null);\n 41:     }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":40,"message":"Unsafe call of a type that could not be resolved","snippet":"return ok(null);","context":" 38: \n 39:     if (!doc.exists) {\n>40:       return ok(null);\n 41:     }\n 42: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":43,"message":"Unsafe call of a type that could not be resolved","snippet":"const data = doc.data() as PromptVaultSettingsDoc | undefined;","context":" 41:     }\n 42: \n>43:     const data = doc.data() as PromptVaultSettingsDoc | undefined;\n 44:     return ok(data?.promptVaultPageId ?? null);\n 45:   } catch (error) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":43,"message":"Unsafe member access .data on a type that cannot be resolved","snippet":"const data = doc.data() as PromptVaultSettingsDoc | undefined;","context":" 41:     }\n 42: \n>43:     const data = doc.data() as PromptVaultSettingsDoc | undefined;\n 44:     return ok(data?.promptVaultPageId ?? null);\n 45:   } catch (error) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":44,"message":"Unsafe call of a type that could not be resolved","snippet":"return ok(data?.promptVaultPageId ?? null);","context":" 42: \n 43:     const data = doc.data() as PromptVaultSettingsDoc | undefined;\n>44:     return ok(data?.promptVaultPageId ?? null);\n 45:   } catch (error) {\n 46:     return err({"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":46,"message":"Unsafe call of a type that could not be resolved","snippet":"return err({","context":" 44:     return ok(data?.promptVaultPageId ?? null);\n 45:   } catch (error) {\n>46:     return err({\n 47:       code: 'INTERNAL_ERROR',\n 48:       message: `Failed to get prompt vault page ID: ${getErrorMessage(error)}`,"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":48,"message":"Invalid type \"any\" of template literal expression","snippet":"message: `Failed to get prompt vault page ID: ${getErrorMessage(error)}`,","context":" 46:     return err({\n 47:       code: 'INTERNAL_ERROR',\n>48:       message: `Failed to get prompt vault page ID: ${getErrorMessage(error)}`,\n 49:     });\n 50:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":48,"message":"Unsafe call of a type that could not be resolved","snippet":"message: `Failed to get prompt vault page ID: ${getErrorMessage(error)}`,","context":" 46:     return err({\n 47:       code: 'INTERNAL_ERROR',\n>48:       message: `Failed to get prompt vault page ID: ${getErrorMessage(error)}`,\n 49:     });\n 50:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":61,"message":"Unsafe assignment of an error typed value","snippet":"const db = getFirestore();","context":" 59: ): Promise<Result<PromptVaultSettings, PromptVaultError>> {\n 60:   try {\n>61:     const db = getFirestore();\n 62:     const docRef = db.collection(COLLECTION_NAME).doc(userId);\n 63:     const now = new Date().toISOString();"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":61,"message":"Unsafe call of a type that could not be resolved","snippet":"const db = getFirestore();","context":" 59: ): Promise<Result<PromptVaultSettings, PromptVaultError>> {\n 60:   try {\n>61:     const db = getFirestore();\n 62:     const docRef = db.collection(COLLECTION_NAME).doc(userId);\n 63:     const now = new Date().toISOString();"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":62,"message":"Unsafe assignment of an error typed value","snippet":"const docRef = db.collection(COLLECTION_NAME).doc(userId);","context":" 60:   try {\n 61:     const db = getFirestore();\n>62:     const docRef = db.collection(COLLECTION_NAME).doc(userId);\n 63:     const now = new Date().toISOString();\n 64: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":62,"message":"Unsafe call of a type that could not be resolved","snippet":"const docRef = db.collection(COLLECTION_NAME).doc(userId);","context":" 60:   try {\n 61:     const db = getFirestore();\n>62:     const docRef = db.collection(COLLECTION_NAME).doc(userId);\n 63:     const now = new Date().toISOString();\n 64: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":62,"message":"Unsafe member access .collection on a type that cannot be resolved","snippet":"const docRef = db.collection(COLLECTION_NAME).doc(userId);","context":" 60:   try {\n 61:     const db = getFirestore();\n>62:     const docRef = db.collection(COLLECTION_NAME).doc(userId);\n 63:     const now = new Date().toISOString();\n 64: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":65,"message":"Unsafe assignment of an error typed value","snippet":"const existing = await docRef.get();","context":" 63:     const now = new Date().toISOString();\n 64: \n>65:     const existing = await docRef.get();\n 66:     const createdAt = existing.exists\n 67:       ? ((existing.data() as PromptVaultSettingsDoc | undefined)?.createdAt ?? now)"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":65,"message":"Unsafe call of a type that could not be resolved","snippet":"const existing = await docRef.get();","context":" 63:     const now = new Date().toISOString();\n 64: \n>65:     const existing = await docRef.get();\n 66:     const createdAt = existing.exists\n 67:       ? ((existing.data() as PromptVaultSettingsDoc | undefined)?.createdAt ?? now)"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":65,"message":"Unsafe member access .get on a type that cannot be resolved","snippet":"const existing = await docRef.get();","context":" 63:     const now = new Date().toISOString();\n 64: \n>65:     const existing = await docRef.get();\n 66:     const createdAt = existing.exists\n 67:       ? ((existing.data() as PromptVaultSettingsDoc | undefined)?.createdAt ?? now)"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":66,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"const createdAt = existing.exists","context":" 64: \n 65:     const existing = await docRef.get();\n>66:     const createdAt = existing.exists\n 67:       ? ((existing.data() as PromptVaultSettingsDoc | undefined)?.createdAt ?? now)\n 68:       : now;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":66,"message":"Unsafe member access .exists on a type that cannot be resolved","snippet":"const createdAt = existing.exists","context":" 64: \n 65:     const existing = await docRef.get();\n>66:     const createdAt = existing.exists\n 67:       ? ((existing.data() as PromptVaultSettingsDoc | undefined)?.createdAt ?? now)\n 68:       : now;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":67,"message":"Unsafe call of a type that could not be resolved","snippet":"? ((existing.data() as PromptVaultSettingsDoc | undefined)?.createdAt ?? now)","context":" 65:     const existing = await docRef.get();\n 66:     const createdAt = existing.exists\n>67:       ? ((existing.data() as PromptVaultSettingsDoc | undefined)?.createdAt ?? now)\n 68:       : now;\n 69: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":67,"message":"Unsafe member access .data on a type that cannot be resolved","snippet":"? ((existing.data() as PromptVaultSettingsDoc | undefined)?.createdAt ?? now)","context":" 65:     const existing = await docRef.get();\n 66:     const createdAt = existing.exists\n>67:       ? ((existing.data() as PromptVaultSettingsDoc | undefined)?.createdAt ?? now)\n 68:       : now;\n 69: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":77,"message":"Unsafe call of a type that could not be resolved","snippet":"await docRef.set(settingsDoc);","context":" 75:     };\n 76: \n>77:     await docRef.set(settingsDoc);\n 78: \n 79:     return ok({"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":77,"message":"Unsafe member access .set on a type that cannot be resolved","snippet":"await docRef.set(settingsDoc);","context":" 75:     };\n 76: \n>77:     await docRef.set(settingsDoc);\n 78: \n 79:     return ok({"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":79,"message":"Unsafe call of a type that could not be resolved","snippet":"return ok({","context":" 77:     await docRef.set(settingsDoc);\n 78: \n>79:     return ok({\n 80:       promptVaultPageId,\n 81:       createdAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":85,"message":"Unsafe call of a type that could not be resolved","snippet":"return err({","context":" 83:     });\n 84:   } catch (error) {\n>85:     return err({\n 86:       code: 'INTERNAL_ERROR',\n 87:       message: `Failed to save prompt vault page ID: ${getErrorMessage(error)}`,"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":87,"message":"Invalid type \"any\" of template literal expression","snippet":"message: `Failed to save prompt vault page ID: ${getErrorMessage(error)}`,","context":" 85:     return err({\n 86:       code: 'INTERNAL_ERROR',\n>87:       message: `Failed to save prompt vault page ID: ${getErrorMessage(error)}`,\n 88:     });\n 89:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/firestore/promptVaultSettingsRepository.ts","line":87,"message":"Unsafe call of a type that could not be resolved","snippet":"message: `Failed to save prompt vault page ID: ${getErrorMessage(error)}`,","context":" 85:     return err({\n 86:       code: 'INTERNAL_ERROR',\n>87:       message: `Failed to save prompt vault page ID: ${getErrorMessage(error)}`,\n 88:     });\n 89:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/notionServiceClient.ts","line":43,"message":"Unsafe call of a type that could not be resolved","snippet":"return err({","context":" 41: \n 42:         if (response.status === 401) {\n>43:           return err({\n 44:             code: 'UNAUTHORIZED',\n 45:             message: 'Internal auth failed when calling notion-service',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/notionServiceClient.ts","line":50,"message":"Unsafe call of a type that could not be resolved","snippet":"return err({","context":" 48: \n 49:         if (!response.ok) {\n>50:           return err({\n 51:             code: 'DOWNSTREAM_ERROR',\n 52:             message: `notion-service returned ${String(response.status)}: ${response.statusText}`,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/notionServiceClient.ts","line":57,"message":"Unsafe call of a type that could not be resolved","snippet":"return ok(data);","context":" 55: \n 56:         const data = (await response.json()) as NotionTokenContext;\n>57:         return ok(data);\n 58:       } catch (error) {\n 59:         return err({"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/notionServiceClient.ts","line":59,"message":"Unsafe call of a type that could not be resolved","snippet":"return err({","context":" 57:         return ok(data);\n 58:       } catch (error) {\n>59:         return err({\n 60:           code: 'INTERNAL_ERROR',\n 61:           message: `Failed to fetch Notion token from notion-service: ${getErrorMessage(error)}`,"},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"apps/promptvault-service/src/infra/notion/notionServiceClient.ts","line":61,"message":"Invalid type \"any\" of template literal expression","snippet":"message: `Failed to fetch Notion token from notion-service: ${getErrorMessage(error)}`,","context":" 59:         return err({\n 60:           code: 'INTERNAL_ERROR',\n>61:           message: `Failed to fetch Notion token from notion-service: ${getErrorMessage(error)}`,\n 62:         });\n 63:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/notionServiceClient.ts","line":61,"message":"Unsafe call of a type that could not be resolved","snippet":"message: `Failed to fetch Notion token from notion-service: ${getErrorMessage(error)}`,","context":" 59:         return err({\n 60:           code: 'INTERNAL_ERROR',\n>61:           message: `Failed to fetch Notion token from notion-service: ${getErrorMessage(error)}`,\n 62:         });\n 63:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":90,"message":"Unsafe assignment of an error typed value","snippet":"const [tokenContextResult, pageIdResult] = await Promise.all([","context":" 88: ): Promise<Result<{ token: string; promptVaultPageId: string }, PromptVaultError>> {\n 89:   // Fetch token from notion-service and promptVaultPageId from local Firestore in parallel\n>90:   const [tokenContextResult, pageIdResult] = await Promise.all([\n 91:     notionServiceClient.getNotionToken(userId),\n 92:     promptVaultSettings.getPromptVaultPageId(userId),"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":96,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!tokenContextResult.ok) {","context":" 94: \n 95:   // Check token context\n>96:   if (!tokenContextResult.ok) {\n 97:     const errorCode =\n 98:       tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":96,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!tokenContextResult.ok) {","context":" 94: \n 95:   // Check token context\n>96:   if (!tokenContextResult.ok) {\n 97:     const errorCode =\n 98:       tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":98,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';","context":" 96:   if (!tokenContextResult.ok) {\n 97:     const errorCode =\n>98:       tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';\n 99:     return err({ code: errorCode, message: tokenContextResult.error.message });\n 100:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":99,"message":"Unsafe call of a type that could not be resolved","snippet":"return err({ code: errorCode, message: tokenContextResult.error.message });","context":" 97:     const errorCode =\n 98:       tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';\n>99:     return err({ code: errorCode, message: tokenContextResult.error.message });\n 100:   }\n 101: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":99,"message":"Unsafe assignment of an error typed value","snippet":"return err({ code: errorCode, message: tokenContextResult.error.message });","context":" 97:     const errorCode =\n 98:       tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';\n>99:     return err({ code: errorCode, message: tokenContextResult.error.message });\n 100:   }\n 101: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":99,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"return err({ code: errorCode, message: tokenContextResult.error.message });","context":" 97:     const errorCode =\n 98:       tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';\n>99:     return err({ code: errorCode, message: tokenContextResult.error.message });\n 100:   }\n 101: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":102,"message":"Unsafe assignment of an error typed value","snippet":"const { connected, token } = tokenContextResult.value;","context":" 100:   }\n 101: \n>102:   const { connected, token } = tokenContextResult.value;\n 103:   if (!connected || token === null) {\n 104:     return err({ code: 'NOT_CONNECTED', message: 'Notion integration is not configured' });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":102,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"const { connected, token } = tokenContextResult.value;","context":" 100:   }\n 101: \n>102:   const { connected, token } = tokenContextResult.value;\n 103:   if (!connected || token === null) {\n 104:     return err({ code: 'NOT_CONNECTED', message: 'Notion integration is not configured' });"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":103,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!connected || token === null) {","context":" 101: \n 102:   const { connected, token } = tokenContextResult.value;\n>103:   if (!connected || token === null) {\n 104:     return err({ code: 'NOT_CONNECTED', message: 'Notion integration is not configured' });\n 105:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":104,"message":"Unsafe call of a type that could not be resolved","snippet":"return err({ code: 'NOT_CONNECTED', message: 'Notion integration is not configured' });","context":" 102:   const { connected, token } = tokenContextResult.value;\n 103:   if (!connected || token === null) {\n>104:     return err({ code: 'NOT_CONNECTED', message: 'Notion integration is not configured' });\n 105:   }\n 106: "},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":108,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!pageIdResult.ok) {","context":" 106: \n 107:   // Check promptVaultPageId\n>108:   if (!pageIdResult.ok) {\n 109:     return err({ code: 'DOWNSTREAM_ERROR', message: pageIdResult.error.message });\n 110:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":108,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!pageIdResult.ok) {","context":" 106: \n 107:   // Check promptVaultPageId\n>108:   if (!pageIdResult.ok) {\n 109:     return err({ code: 'DOWNSTREAM_ERROR', message: pageIdResult.error.message });\n 110:   }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":109,"message":"Unsafe call of a type that could not be resolved","snippet":"return err({ code: 'DOWNSTREAM_ERROR', message: pageIdResult.error.message });","context":" 107:   // Check promptVaultPageId\n 108:   if (!pageIdResult.ok) {\n>109:     return err({ code: 'DOWNSTREAM_ERROR', message: pageIdResult.error.message });\n 110:   }\n 111: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":109,"message":"Unsafe assignment of an error typed value","snippet":"return err({ code: 'DOWNSTREAM_ERROR', message: pageIdResult.error.message });","context":" 107:   // Check promptVaultPageId\n 108:   if (!pageIdResult.ok) {\n>109:     return err({ code: 'DOWNSTREAM_ERROR', message: pageIdResult.error.message });\n 110:   }\n 111: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":109,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"return err({ code: 'DOWNSTREAM_ERROR', message: pageIdResult.error.message });","context":" 107:   // Check promptVaultPageId\n 108:   if (!pageIdResult.ok) {\n>109:     return err({ code: 'DOWNSTREAM_ERROR', message: pageIdResult.error.message });\n 110:   }\n 111: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":112,"message":"Unsafe assignment of an error typed value","snippet":"const promptVaultPageId = pageIdResult.value;","context":" 110:   }\n 111: \n>112:   const promptVaultPageId = pageIdResult.value;\n 113:   if (promptVaultPageId === null) {\n 114:     return err({ code: 'NOT_CONNECTED', message: 'PromptVault page ID not configured' });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":112,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"const promptVaultPageId = pageIdResult.value;","context":" 110:   }\n 111: \n>112:   const promptVaultPageId = pageIdResult.value;\n 113:   if (promptVaultPageId === null) {\n 114:     return err({ code: 'NOT_CONNECTED', message: 'PromptVault page ID not configured' });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":114,"message":"Unsafe call of a type that could not be resolved","snippet":"return err({ code: 'NOT_CONNECTED', message: 'PromptVault page ID not configured' });","context":" 112:   const promptVaultPageId = pageIdResult.value;\n 113:   if (promptVaultPageId === null) {\n>114:     return err({ code: 'NOT_CONNECTED', message: 'PromptVault page ID not configured' });\n 115:   }\n 116: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":117,"message":"Unsafe call of a type that could not be resolved","snippet":"return ok({ token, promptVaultPageId });","context":" 115:   }\n 116: \n>117:   return ok({ token, promptVaultPageId });\n 118: }\n 119: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":117,"message":"Unsafe assignment of an error typed value","snippet":"return ok({ token, promptVaultPageId });","context":" 115:   }\n 116: \n>117:   return ok({ token, promptVaultPageId });\n 118: }\n 119: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":121,"message":"Unsafe member access .code on a type that cannot be resolved","snippet":"switch (e.code) {","context":" 119: \n 120: function mapError(e: NotionError): PromptVaultError {\n>121:   switch (e.code) {\n 122:     case 'NOT_FOUND':\n 123:       return { code: 'NOT_FOUND', message: e.message };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":123,"message":"Unsafe assignment of an error typed value","snippet":"return { code: 'NOT_FOUND', message: e.message };","context":" 121:   switch (e.code) {\n 122:     case 'NOT_FOUND':\n>123:       return { code: 'NOT_FOUND', message: e.message };\n 124:     case 'UNAUTHORIZED':\n 125:       return { code: 'UNAUTHORIZED', message: e.message };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":123,"message":"Unsafe member access .message on a type that cannot be resolved","snippet":"return { code: 'NOT_FOUND', message: e.message };","context":" 121:   switch (e.code) {\n 122:     case 'NOT_FOUND':\n>123:       return { code: 'NOT_FOUND', message: e.message };\n 124:     case 'UNAUTHORIZED':\n 125:       return { code: 'UNAUTHORIZED', message: e.message };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":125,"message":"Unsafe assignment of an error typed value","snippet":"return { code: 'UNAUTHORIZED', message: e.message };","context":" 123:       return { code: 'NOT_FOUND', message: e.message };\n 124:     case 'UNAUTHORIZED':\n>125:       return { code: 'UNAUTHORIZED', message: e.message };\n 126:     default:\n 127:       return { code: 'DOWNSTREAM_ERROR', message: e.message };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":125,"message":"Unsafe member access .message on a type that cannot be resolved","snippet":"return { code: 'UNAUTHORIZED', message: e.message };","context":" 123:       return { code: 'NOT_FOUND', message: e.message };\n 124:     case 'UNAUTHORIZED':\n>125:       return { code: 'UNAUTHORIZED', message: e.message };\n 126:     default:\n 127:       return { code: 'DOWNSTREAM_ERROR', message: e.message };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":127,"message":"Unsafe assignment of an error typed value","snippet":"return { code: 'DOWNSTREAM_ERROR', message: e.message };","context":" 125:       return { code: 'UNAUTHORIZED', message: e.message };\n 126:     default:\n>127:       return { code: 'DOWNSTREAM_ERROR', message: e.message };\n 128:   }\n 129: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":127,"message":"Unsafe member access .message on a type that cannot be resolved","snippet":"return { code: 'DOWNSTREAM_ERROR', message: e.message };","context":" 125:       return { code: 'UNAUTHORIZED', message: e.message };\n 126:     default:\n>127:       return { code: 'DOWNSTREAM_ERROR', message: e.message };\n 128:   }\n 129: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":146,"message":"Unsafe assignment of an error typed value","snippet":"const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);","context":" 144:   logger: NotionLogger\n 145: ): Promise<Result<Prompt, PromptVaultError>> {\n>146:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n 147:   if (!ctx.ok) return err(ctx.error);\n 148: "},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":147,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 145: ): Promise<Result<Prompt, PromptVaultError>> {\n 146:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>147:   if (!ctx.ok) return err(ctx.error);\n 148: \n 149:   const { token, promptVaultPageId } = ctx.value;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":147,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 145: ): Promise<Result<Prompt, PromptVaultError>> {\n 146:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>147:   if (!ctx.ok) return err(ctx.error);\n 148: \n 149:   const { token, promptVaultPageId } = ctx.value;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":147,"message":"Unsafe call of a type that could not be resolved","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 145: ): Promise<Result<Prompt, PromptVaultError>> {\n 146:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>147:   if (!ctx.ok) return err(ctx.error);\n 148: \n 149:   const { token, promptVaultPageId } = ctx.value;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":149,"message":"Unsafe assignment of an error typed value","snippet":"const { token, promptVaultPageId } = ctx.value;","context":" 147:   if (!ctx.ok) return err(ctx.error);\n 148: \n>149:   const { token, promptVaultPageId } = ctx.value;\n 150: \n 151:   try {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":149,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"const { token, promptVaultPageId } = ctx.value;","context":" 147:   if (!ctx.ok) return err(ctx.error);\n 148: \n>149:   const { token, promptVaultPageId } = ctx.value;\n 150: \n 151:   try {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":152,"message":"Unsafe assignment of an error typed value","snippet":"const client = createNotionClient(token, logger);","context":" 150: \n 151:   try {\n>152:     const client = createNotionClient(token, logger);\n 153:     const chunks = splitTextIntoChunks(content);\n 154: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":152,"message":"Unsafe call of a type that could not be resolved","snippet":"const client = createNotionClient(token, logger);","context":" 150: \n 151:   try {\n>152:     const client = createNotionClient(token, logger);\n 153:     const chunks = splitTextIntoChunks(content);\n 154: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":164,"message":"Unsafe assignment of an error typed value","snippet":"const response = await client.pages.create({","context":" 162:     }));\n 163: \n>164:     const response = await client.pages.create({\n 165:       parent: { page_id: promptVaultPageId },\n 166:       properties: {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":164,"message":"Unsafe call of a type that could not be resolved","snippet":"const response = await client.pages.create({","context":" 162:     }));\n 163: \n>164:     const response = await client.pages.create({\n 165:       parent: { page_id: promptVaultPageId },\n 166:       properties: {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":164,"message":"Unsafe member access .pages on a type that cannot be resolved","snippet":"const response = await client.pages.create({","context":" 162:     }));\n 163: \n>164:     const response = await client.pages.create({\n 165:       parent: { page_id: promptVaultPageId },\n 166:       properties: {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":165,"message":"Unsafe assignment of an error typed value","snippet":"parent: { page_id: promptVaultPageId },","context":" 163: \n 164:     const response = await client.pages.create({\n>165:       parent: { page_id: promptVaultPageId },\n 166:       properties: {\n 167:         title: { title: [{ text: { content: title } }] },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":198,"message":"Unsafe assignment of an error typed value","snippet":"const url = 'url' in response ? response.url : `https://notion.so/${response.id}`;","context":" 196:     });\n 197: \n>198:     const url = 'url' in response ? response.url : `https://notion.so/${response.id}`;\n 199:     const now = new Date().toISOString();\n 200: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":198,"message":"Unsafe member access .url on a type that cannot be resolved","snippet":"const url = 'url' in response ? response.url : `https://notion.so/${response.id}`;","context":" 196:     });\n 197: \n>198:     const url = 'url' in response ? response.url : `https://notion.so/${response.id}`;\n 199:     const now = new Date().toISOString();\n 200: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":198,"message":"Invalid type \"any\" of template literal expression","snippet":"const url = 'url' in response ? response.url : `https://notion.so/${response.id}`;","context":" 196:     });\n 197: \n>198:     const url = 'url' in response ? response.url : `https://notion.so/${response.id}`;\n 199:     const now = new Date().toISOString();\n 200: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":201,"message":"Unsafe call of a type that could not be resolved","snippet":"return ok({ id: response.id, title, content, url, createdAt: now, updatedAt: now });","context":" 199:     const now = new Date().toISOString();\n 200: \n>201:     return ok({ id: response.id, title, content, url, createdAt: now, updatedAt: now });\n 202:   } catch (error) {\n 203:     return err(mapError(mapNotionError(error)));"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":201,"message":"Unsafe assignment of an error typed value","snippet":"return ok({ id: response.id, title, content, url, createdAt: now, updatedAt: now });","context":" 199:     const now = new Date().toISOString();\n 200: \n>201:     return ok({ id: response.id, title, content, url, createdAt: now, updatedAt: now });\n 202:   } catch (error) {\n 203:     return err(mapError(mapNotionError(error)));"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":201,"message":"Unsafe member access .id on a type that cannot be resolved","snippet":"return ok({ id: response.id, title, content, url, createdAt: now, updatedAt: now });","context":" 199:     const now = new Date().toISOString();\n 200: \n>201:     return ok({ id: response.id, title, content, url, createdAt: now, updatedAt: now });\n 202:   } catch (error) {\n 203:     return err(mapError(mapNotionError(error)));"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":203,"message":"Unsafe call of a type that could not be resolved","snippet":"return err(mapError(mapNotionError(error)));","context":" 201:     return ok({ id: response.id, title, content, url, createdAt: now, updatedAt: now });\n 202:   } catch (error) {\n>203:     return err(mapError(mapNotionError(error)));\n 204:   }\n 205: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":216,"message":"Unsafe assignment of an error typed value","snippet":"const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);","context":" 214:   logger: NotionLogger\n 215: ): Promise<Result<Prompt[], PromptVaultError>> {\n>216:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n 217:   if (!ctx.ok) return err(ctx.error);\n 218: "},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":217,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 215: ): Promise<Result<Prompt[], PromptVaultError>> {\n 216:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>217:   if (!ctx.ok) return err(ctx.error);\n 218: \n 219:   const { token, promptVaultPageId } = ctx.value;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":217,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 215: ): Promise<Result<Prompt[], PromptVaultError>> {\n 216:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>217:   if (!ctx.ok) return err(ctx.error);\n 218: \n 219:   const { token, promptVaultPageId } = ctx.value;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":217,"message":"Unsafe call of a type that could not be resolved","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 215: ): Promise<Result<Prompt[], PromptVaultError>> {\n 216:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>217:   if (!ctx.ok) return err(ctx.error);\n 218: \n 219:   const { token, promptVaultPageId } = ctx.value;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":219,"message":"Unsafe assignment of an error typed value","snippet":"const { token, promptVaultPageId } = ctx.value;","context":" 217:   if (!ctx.ok) return err(ctx.error);\n 218: \n>219:   const { token, promptVaultPageId } = ctx.value;\n 220: \n 221:   try {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":219,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"const { token, promptVaultPageId } = ctx.value;","context":" 217:   if (!ctx.ok) return err(ctx.error);\n 218: \n>219:   const { token, promptVaultPageId } = ctx.value;\n 220: \n 221:   try {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":222,"message":"Unsafe assignment of an error typed value","snippet":"const client = createNotionClient(token, logger);","context":" 220: \n 221:   try {\n>222:     const client = createNotionClient(token, logger);\n 223: \n 224:     // List child pages"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":222,"message":"Unsafe call of a type that could not be resolved","snippet":"const client = createNotionClient(token, logger);","context":" 220: \n 221:   try {\n>222:     const client = createNotionClient(token, logger);\n 223: \n 224:     // List child pages"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":225,"message":"Unsafe assignment of an error typed value","snippet":"const blocksResponse = await client.blocks.children.list({","context":" 223: \n 224:     // List child pages\n>225:     const blocksResponse = await client.blocks.children.list({\n 226:       block_id: promptVaultPageId,\n 227:       page_size: 100,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":225,"message":"Unsafe call of a type that could not be resolved","snippet":"const blocksResponse = await client.blocks.children.list({","context":" 223: \n 224:     // List child pages\n>225:     const blocksResponse = await client.blocks.children.list({\n 226:       block_id: promptVaultPageId,\n 227:       page_size: 100,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":225,"message":"Unsafe member access .blocks on a type that cannot be resolved","snippet":"const blocksResponse = await client.blocks.children.list({","context":" 223: \n 224:     // List child pages\n>225:     const blocksResponse = await client.blocks.children.list({\n 226:       block_id: promptVaultPageId,\n 227:       page_size: 100,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":226,"message":"Unsafe assignment of an error typed value","snippet":"block_id: promptVaultPageId,","context":" 224:     // List child pages\n 225:     const blocksResponse = await client.blocks.children.list({\n>226:       block_id: promptVaultPageId,\n 227:       page_size: 100,\n 228:     });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":232,"message":"Unsafe member access .results on a type that cannot be resolved","snippet":"for (const block of blocksResponse.results) {","context":" 230:     const prompts: Prompt[] = [];\n 231: \n>232:     for (const block of blocksResponse.results) {\n 233:       if ('type' in block && block.type === 'child_page') {\n 234:         const childPage = block as { id: string; child_page: { title: string } };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":233,"message":"Unsafe member access .type on a type that cannot be resolved","snippet":"if ('type' in block && block.type === 'child_page') {","context":" 231: \n 232:     for (const block of blocksResponse.results) {\n>233:       if ('type' in block && block.type === 'child_page') {\n 234:         const childPage = block as { id: string; child_page: { title: string } };\n 235: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":237,"message":"Unsafe assignment of an error typed value","snippet":"const pageResult = await getPromptById(token, childPage.id, logger);","context":" 235: \n 236:         // Get page details\n>237:         const pageResult = await getPromptById(token, childPage.id, logger);\n 238:         if (pageResult.ok) {\n 239:           prompts.push(pageResult.value);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":237,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`","snippet":"const pageResult = await getPromptById(token, childPage.id, logger);","context":" 235: \n 236:         // Get page details\n>237:         const pageResult = await getPromptById(token, childPage.id, logger);\n 238:         if (pageResult.ok) {\n 239:           prompts.push(pageResult.value);"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":238,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (pageResult.ok) {","context":" 236:         // Get page details\n 237:         const pageResult = await getPromptById(token, childPage.id, logger);\n>238:         if (pageResult.ok) {\n 239:           prompts.push(pageResult.value);\n 240:         }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":238,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (pageResult.ok) {","context":" 236:         // Get page details\n 237:         const pageResult = await getPromptById(token, childPage.id, logger);\n>238:         if (pageResult.ok) {\n 239:           prompts.push(pageResult.value);\n 240:         }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":239,"message":"Unsafe argument of type error typed assigned to a parameter of type `Prompt`","snippet":"prompts.push(pageResult.value);","context":" 237:         const pageResult = await getPromptById(token, childPage.id, logger);\n 238:         if (pageResult.ok) {\n>239:           prompts.push(pageResult.value);\n 240:         }\n 241:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":239,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"prompts.push(pageResult.value);","context":" 237:         const pageResult = await getPromptById(token, childPage.id, logger);\n 238:         if (pageResult.ok) {\n>239:           prompts.push(pageResult.value);\n 240:         }\n 241:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":244,"message":"Unsafe call of a type that could not be resolved","snippet":"return ok(prompts);","context":" 242:     }\n 243: \n>244:     return ok(prompts);\n 245:   } catch (error) {\n 246:     return err(mapError(mapNotionError(error)));"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":246,"message":"Unsafe call of a type that could not be resolved","snippet":"return err(mapError(mapNotionError(error)));","context":" 244:     return ok(prompts);\n 245:   } catch (error) {\n>246:     return err(mapError(mapNotionError(error)));\n 247:   }\n 248: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":260,"message":"Unsafe assignment of an error typed value","snippet":"const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);","context":" 258:   logger: NotionLogger\n 259: ): Promise<Result<Prompt, PromptVaultError>> {\n>260:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n 261:   if (!ctx.ok) return err(ctx.error);\n 262: "},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":261,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 259: ): Promise<Result<Prompt, PromptVaultError>> {\n 260:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>261:   if (!ctx.ok) return err(ctx.error);\n 262: \n 263:   return await getPromptById(ctx.value.token, promptId, logger);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":261,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 259: ): Promise<Result<Prompt, PromptVaultError>> {\n 260:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>261:   if (!ctx.ok) return err(ctx.error);\n 262: \n 263:   return await getPromptById(ctx.value.token, promptId, logger);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":261,"message":"Unsafe call of a type that could not be resolved","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 259: ): Promise<Result<Prompt, PromptVaultError>> {\n 260:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>261:   if (!ctx.ok) return err(ctx.error);\n 262: \n 263:   return await getPromptById(ctx.value.token, promptId, logger);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":263,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`","snippet":"return await getPromptById(ctx.value.token, promptId, logger);","context":" 261:   if (!ctx.ok) return err(ctx.error);\n 262: \n>263:   return await getPromptById(ctx.value.token, promptId, logger);\n 264: }\n 265: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":263,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"return await getPromptById(ctx.value.token, promptId, logger);","context":" 261:   if (!ctx.ok) return err(ctx.error);\n 262: \n>263:   return await getPromptById(ctx.value.token, promptId, logger);\n 264: }\n 265: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":272,"message":"Unsafe assignment of an error typed value","snippet":"const client = createNotionClient(token, logger);","context":" 270: ): Promise<Result<Prompt, PromptVaultError>> {\n 271:   try {\n>272:     const client = createNotionClient(token, logger);\n 273: \n 274:     const pageResponse = await client.pages.retrieve({ page_id: pageId });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":272,"message":"Unsafe call of a type that could not be resolved","snippet":"const client = createNotionClient(token, logger);","context":" 270: ): Promise<Result<Prompt, PromptVaultError>> {\n 271:   try {\n>272:     const client = createNotionClient(token, logger);\n 273: \n 274:     const pageResponse = await client.pages.retrieve({ page_id: pageId });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":274,"message":"Unsafe assignment of an error typed value","snippet":"const pageResponse = await client.pages.retrieve({ page_id: pageId });","context":" 272:     const client = createNotionClient(token, logger);\n 273: \n>274:     const pageResponse = await client.pages.retrieve({ page_id: pageId });\n 275: \n 276:     if (!('properties' in pageResponse)) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":274,"message":"Unsafe call of a type that could not be resolved","snippet":"const pageResponse = await client.pages.retrieve({ page_id: pageId });","context":" 272:     const client = createNotionClient(token, logger);\n 273: \n>274:     const pageResponse = await client.pages.retrieve({ page_id: pageId });\n 275: \n 276:     if (!('properties' in pageResponse)) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":274,"message":"Unsafe member access .pages on a type that cannot be resolved","snippet":"const pageResponse = await client.pages.retrieve({ page_id: pageId });","context":" 272:     const client = createNotionClient(token, logger);\n 273: \n>274:     const pageResponse = await client.pages.retrieve({ page_id: pageId });\n 275: \n 276:     if (!('properties' in pageResponse)) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":277,"message":"Unsafe call of a type that could not be resolved","snippet":"return err({ code: 'INTERNAL_ERROR', message: 'Unexpected page response format' });","context":" 275: \n 276:     if (!('properties' in pageResponse)) {\n>277:       return err({ code: 'INTERNAL_ERROR', message: 'Unexpected page response format' });\n 278:     }\n 279: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":280,"message":"Unsafe assignment of an error typed value","snippet":"const title = extractPageTitle(pageResponse.properties);","context":" 278:     }\n 279: \n>280:     const title = extractPageTitle(pageResponse.properties);\n 281:     const url = 'url' in pageResponse ? pageResponse.url : `https://notion.so/${pageId}`;\n 282:     const createdAt = 'created_time' in pageResponse ? pageResponse.created_time : undefined;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":280,"message":"Unsafe call of a type that could not be resolved","snippet":"const title = extractPageTitle(pageResponse.properties);","context":" 278:     }\n 279: \n>280:     const title = extractPageTitle(pageResponse.properties);\n 281:     const url = 'url' in pageResponse ? pageResponse.url : `https://notion.so/${pageId}`;\n 282:     const createdAt = 'created_time' in pageResponse ? pageResponse.created_time : undefined;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":280,"message":"Unsafe member access .properties on a type that cannot be resolved","snippet":"const title = extractPageTitle(pageResponse.properties);","context":" 278:     }\n 279: \n>280:     const title = extractPageTitle(pageResponse.properties);\n 281:     const url = 'url' in pageResponse ? pageResponse.url : `https://notion.so/${pageId}`;\n 282:     const createdAt = 'created_time' in pageResponse ? pageResponse.created_time : undefined;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":281,"message":"Unsafe assignment of an error typed value","snippet":"const url = 'url' in pageResponse ? pageResponse.url : `https://notion.so/${pageId}`;","context":" 279: \n 280:     const title = extractPageTitle(pageResponse.properties);\n>281:     const url = 'url' in pageResponse ? pageResponse.url : `https://notion.so/${pageId}`;\n 282:     const createdAt = 'created_time' in pageResponse ? pageResponse.created_time : undefined;\n 283:     const updatedAt ="},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":281,"message":"Unsafe member access .url on a type that cannot be resolved","snippet":"const url = 'url' in pageResponse ? pageResponse.url : `https://notion.so/${pageId}`;","context":" 279: \n 280:     const title = extractPageTitle(pageResponse.properties);\n>281:     const url = 'url' in pageResponse ? pageResponse.url : `https://notion.so/${pageId}`;\n 282:     const createdAt = 'created_time' in pageResponse ? pageResponse.created_time : undefined;\n 283:     const updatedAt ="},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":282,"message":"Unsafe assignment of an error typed value","snippet":"const createdAt = 'created_time' in pageResponse ? pageResponse.created_time : undefined;","context":" 280:     const title = extractPageTitle(pageResponse.properties);\n 281:     const url = 'url' in pageResponse ? pageResponse.url : `https://notion.so/${pageId}`;\n>282:     const createdAt = 'created_time' in pageResponse ? pageResponse.created_time : undefined;\n 283:     const updatedAt =\n 284:       'last_edited_time' in pageResponse ? pageResponse.last_edited_time : undefined;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":282,"message":"Unsafe member access .created_time on a type that cannot be resolved","snippet":"const createdAt = 'created_time' in pageResponse ? pageResponse.created_time : undefined;","context":" 280:     const title = extractPageTitle(pageResponse.properties);\n 281:     const url = 'url' in pageResponse ? pageResponse.url : `https://notion.so/${pageId}`;\n>282:     const createdAt = 'created_time' in pageResponse ? pageResponse.created_time : undefined;\n 283:     const updatedAt =\n 284:       'last_edited_time' in pageResponse ? pageResponse.last_edited_time : undefined;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":283,"message":"Unsafe assignment of an error typed value","snippet":"const updatedAt =","context":" 281:     const url = 'url' in pageResponse ? pageResponse.url : `https://notion.so/${pageId}`;\n 282:     const createdAt = 'created_time' in pageResponse ? pageResponse.created_time : undefined;\n>283:     const updatedAt =\n 284:       'last_edited_time' in pageResponse ? pageResponse.last_edited_time : undefined;\n 285: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":284,"message":"Unsafe member access .last_edited_time on a type that cannot be resolved","snippet":"'last_edited_time' in pageResponse ? pageResponse.last_edited_time : undefined;","context":" 282:     const createdAt = 'created_time' in pageResponse ? pageResponse.created_time : undefined;\n 283:     const updatedAt =\n>284:       'last_edited_time' in pageResponse ? pageResponse.last_edited_time : undefined;\n 285: \n 286:     // Get blocks for content"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":287,"message":"Unsafe assignment of an error typed value","snippet":"const blocksResponse = await client.blocks.children.list({ block_id: pageId, page_size: 50 });","context":" 285: \n 286:     // Get blocks for content\n>287:     const blocksResponse = await client.blocks.children.list({ block_id: pageId, page_size: 50 });\n 288: \n 289:     const codeBlocks: string[] = [];"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":287,"message":"Unsafe call of a type that could not be resolved","snippet":"const blocksResponse = await client.blocks.children.list({ block_id: pageId, page_size: 50 });","context":" 285: \n 286:     // Get blocks for content\n>287:     const blocksResponse = await client.blocks.children.list({ block_id: pageId, page_size: 50 });\n 288: \n 289:     const codeBlocks: string[] = [];"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":287,"message":"Unsafe member access .blocks on a type that cannot be resolved","snippet":"const blocksResponse = await client.blocks.children.list({ block_id: pageId, page_size: 50 });","context":" 285: \n 286:     // Get blocks for content\n>287:     const blocksResponse = await client.blocks.children.list({ block_id: pageId, page_size: 50 });\n 288: \n 289:     const codeBlocks: string[] = [];"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":290,"message":"Unsafe member access .results on a type that cannot be resolved","snippet":"for (const block of blocksResponse.results) {","context":" 288: \n 289:     const codeBlocks: string[] = [];\n>290:     for (const block of blocksResponse.results) {\n 291:       if ('type' in block && block.type === 'code') {\n 292:         const codeBlock = block as unknown as {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":291,"message":"Unsafe member access .type on a type that cannot be resolved","snippet":"if ('type' in block && block.type === 'code') {","context":" 289:     const codeBlocks: string[] = [];\n 290:     for (const block of blocksResponse.results) {\n>291:       if ('type' in block && block.type === 'code') {\n 292:         const codeBlock = block as unknown as {\n 293:           code: { rich_text?: { plain_text?: string }[] };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":304,"message":"Unsafe call of a type that could not be resolved","snippet":"return ok({","context":" 302:     const content = joinTextChunks(codeBlocks);\n 303: \n>304:     return ok({\n 305:       id: pageId,\n 306:       title,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":306,"message":"Unsafe assignment of an error typed value","snippet":"title,","context":" 304:     return ok({\n 305:       id: pageId,\n>306:       title,\n 307:       content,\n 308:       url,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":308,"message":"Unsafe assignment of an error typed value","snippet":"url,","context":" 306:       title,\n 307:       content,\n>308:       url,\n 309:       ...(createdAt !== undefined && createdAt !== '' ? { createdAt } : {}),\n 310:       ...(updatedAt !== undefined && updatedAt !== '' ? { updatedAt } : {}),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":309,"message":"Unsafe assignment of an error typed value","snippet":"...(createdAt !== undefined && createdAt !== '' ? { createdAt } : {}),","context":" 307:       content,\n 308:       url,\n>309:       ...(createdAt !== undefined && createdAt !== '' ? { createdAt } : {}),\n 310:       ...(updatedAt !== undefined && updatedAt !== '' ? { updatedAt } : {}),\n 311:     });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":310,"message":"Unsafe assignment of an error typed value","snippet":"...(updatedAt !== undefined && updatedAt !== '' ? { updatedAt } : {}),","context":" 308:       url,\n 309:       ...(createdAt !== undefined && createdAt !== '' ? { createdAt } : {}),\n>310:       ...(updatedAt !== undefined && updatedAt !== '' ? { updatedAt } : {}),\n 311:     });\n 312:   } catch (error) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":313,"message":"Unsafe call of a type that could not be resolved","snippet":"return err(mapError(mapNotionError(error)));","context":" 311:     });\n 312:   } catch (error) {\n>313:     return err(mapError(mapNotionError(error)));\n 314:   }\n 315: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":328,"message":"Unsafe assignment of an error typed value","snippet":"const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);","context":" 326:   logger: NotionLogger\n 327: ): Promise<Result<Prompt, PromptVaultError>> {\n>328:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n 329:   if (!ctx.ok) return err(ctx.error);\n 330: "},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":329,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 327: ): Promise<Result<Prompt, PromptVaultError>> {\n 328:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>329:   if (!ctx.ok) return err(ctx.error);\n 330: \n 331:   const { token } = ctx.value;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":329,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 327: ): Promise<Result<Prompt, PromptVaultError>> {\n 328:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>329:   if (!ctx.ok) return err(ctx.error);\n 330: \n 331:   const { token } = ctx.value;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":329,"message":"Unsafe call of a type that could not be resolved","snippet":"if (!ctx.ok) return err(ctx.error);","context":" 327: ): Promise<Result<Prompt, PromptVaultError>> {\n 328:   const ctx = await getUserContext(userId, notionServiceClient, promptVaultSettings);\n>329:   if (!ctx.ok) return err(ctx.error);\n 330: \n 331:   const { token } = ctx.value;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":331,"message":"Unsafe assignment of an error typed value","snippet":"const { token } = ctx.value;","context":" 329:   if (!ctx.ok) return err(ctx.error);\n 330: \n>331:   const { token } = ctx.value;\n 332: \n 333:   try {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":331,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"const { token } = ctx.value;","context":" 329:   if (!ctx.ok) return err(ctx.error);\n 330: \n>331:   const { token } = ctx.value;\n 332: \n 333:   try {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":334,"message":"Unsafe assignment of an error typed value","snippet":"const client = createNotionClient(token, logger);","context":" 332: \n 333:   try {\n>334:     const client = createNotionClient(token, logger);\n 335: \n 336:     // Update title if provided"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":334,"message":"Unsafe call of a type that could not be resolved","snippet":"const client = createNotionClient(token, logger);","context":" 332: \n 333:   try {\n>334:     const client = createNotionClient(token, logger);\n 335: \n 336:     // Update title if provided"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":338,"message":"Unsafe call of a type that could not be resolved","snippet":"await client.pages.update({","context":" 336:     // Update title if provided\n 337:     if (update.title !== undefined) {\n>338:       await client.pages.update({\n 339:         page_id: promptId,\n 340:         properties: { title: { title: [{ text: { content: update.title } }] } },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":338,"message":"Unsafe member access .pages on a type that cannot be resolved","snippet":"await client.pages.update({","context":" 336:     // Update title if provided\n 337:     if (update.title !== undefined) {\n>338:       await client.pages.update({\n 339:         page_id: promptId,\n 340:         properties: { title: { title: [{ text: { content: update.title } }] } },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":346,"message":"Unsafe assignment of an error typed value","snippet":"const blocksResponse = await client.blocks.children.list({","context":" 344:     // Update content if provided\n 345:     if (update.content !== undefined) {\n>346:       const blocksResponse = await client.blocks.children.list({\n 347:         block_id: promptId,\n 348:         page_size: 50,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":346,"message":"Unsafe call of a type that could not be resolved","snippet":"const blocksResponse = await client.blocks.children.list({","context":" 344:     // Update content if provided\n 345:     if (update.content !== undefined) {\n>346:       const blocksResponse = await client.blocks.children.list({\n 347:         block_id: promptId,\n 348:         page_size: 50,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":346,"message":"Unsafe member access .blocks on a type that cannot be resolved","snippet":"const blocksResponse = await client.blocks.children.list({","context":" 344:     // Update content if provided\n 345:     if (update.content !== undefined) {\n>346:       const blocksResponse = await client.blocks.children.list({\n 347:         block_id: promptId,\n 348:         page_size: 50,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":352,"message":"Unsafe member access .results on a type that cannot be resolved","snippet":"for (const block of blocksResponse.results) {","context":" 350: \n 351:       const codeBlockIds: string[] = [];\n>352:       for (const block of blocksResponse.results) {\n 353:         if ('type' in block && block.type === 'code') {\n 354:           codeBlockIds.push(block.id);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":353,"message":"Unsafe member access .type on a type that cannot be resolved","snippet":"if ('type' in block && block.type === 'code') {","context":" 351:       const codeBlockIds: string[] = [];\n 352:       for (const block of blocksResponse.results) {\n>353:         if ('type' in block && block.type === 'code') {\n 354:           codeBlockIds.push(block.id);\n 355:         }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":354,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`","snippet":"codeBlockIds.push(block.id);","context":" 352:       for (const block of blocksResponse.results) {\n 353:         if ('type' in block && block.type === 'code') {\n>354:           codeBlockIds.push(block.id);\n 355:         }\n 356:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":354,"message":"Unsafe member access .id on a type that cannot be resolved","snippet":"codeBlockIds.push(block.id);","context":" 352:       for (const block of blocksResponse.results) {\n 353:         if ('type' in block && block.type === 'code') {\n>354:           codeBlockIds.push(block.id);\n 355:         }\n 356:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":368,"message":"Unsafe call of a type that could not be resolved","snippet":"await client.blocks.delete({ block_id: blockId });","context":" 366: \n 367:         if (i >= newChunks.length) {\n>368:           await client.blocks.delete({ block_id: blockId });\n 369:         } else {\n 370:           await client.blocks.update({"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":368,"message":"Unsafe member access .blocks on a type that cannot be resolved","snippet":"await client.blocks.delete({ block_id: blockId });","context":" 366: \n 367:         if (i >= newChunks.length) {\n>368:           await client.blocks.delete({ block_id: blockId });\n 369:         } else {\n 370:           await client.blocks.update({"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":370,"message":"Unsafe call of a type that could not be resolved","snippet":"await client.blocks.update({","context":" 368:           await client.blocks.delete({ block_id: blockId });\n 369:         } else {\n>370:           await client.blocks.update({\n 371:             block_id: blockId,\n 372:             code: {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":370,"message":"Unsafe member access .blocks on a type that cannot be resolved","snippet":"await client.blocks.update({","context":" 368:           await client.blocks.delete({ block_id: blockId });\n 369:         } else {\n>370:           await client.blocks.update({\n 371:             block_id: blockId,\n 372:             code: {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":383,"message":"Unsafe call of a type that could not be resolved","snippet":"await client.blocks.children.append({","context":" 381:       // Append new blocks if needed\n 382:       for (let i = codeBlockIds.length; i < newChunks.length; i++) {\n>383:         await client.blocks.children.append({\n 384:           block_id: promptId,\n 385:           children: ["},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":383,"message":"Unsafe member access .blocks on a type that cannot be resolved","snippet":"await client.blocks.children.append({","context":" 381:       // Append new blocks if needed\n 382:       for (let i = codeBlockIds.length; i < newChunks.length; i++) {\n>383:         await client.blocks.children.append({\n 384:           block_id: promptId,\n 385:           children: ["},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":401,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`","snippet":"return await getPromptById(token, promptId, logger);","context":" 399: \n 400:     // Return updated prompt\n>401:     return await getPromptById(token, promptId, logger);\n 402:   } catch (error) {\n 403:     return err(mapError(mapNotionError(error)));"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/infra/notion/promptApi.ts","line":403,"message":"Unsafe call of a type that could not be resolved","snippet":"return err(mapError(mapNotionError(error)));","context":" 401:     return await getPromptById(token, promptId, logger);\n 402:   } catch (error) {\n>403:     return err(mapError(mapNotionError(error)));\n 404:   }\n 405: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/index.ts","line":10,"message":"Unsafe call of an `any` typed value","snippet":"fastify.register(promptRoutes);","context":" 8: \n 9: export const promptVaultRoutes: FastifyPluginCallback = (fastify, _opts, done) => {\n>10:   fastify.register(promptRoutes);\n 11:   done();\n 12: };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/index.ts","line":10,"message":"Unsafe member access .register on an `any` value","snippet":"fastify.register(promptRoutes);","context":" 8: \n 9: export const promptVaultRoutes: FastifyPluginCallback = (fastify, _opts, done) => {\n>10:   fastify.register(promptRoutes);\n 11:   done();\n 12: };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/index.ts","line":11,"message":"Unsafe call of an `any` typed value","snippet":"done();","context":" 9: export const promptVaultRoutes: FastifyPluginCallback = (fastify, _opts, done) => {\n 10:   fastify.register(promptRoutes);\n>11:   done();\n 12: };\n 13: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":20,"message":"Unsafe call of an `any` typed value","snippet":"fastify.get(","context":" 18: export const promptRoutes: FastifyPluginCallback = (fastify, _opts, done) => {\n 19:   // GET /prompt-vault/main-page\n>20:   fastify.get(\n 21:     '/prompt-vault/main-page',\n 22:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":20,"message":"Unsafe member access .get on an `any` value","snippet":"fastify.get(","context":" 18: export const promptRoutes: FastifyPluginCallback = (fastify, _opts, done) => {\n 19:   // GET /prompt-vault/main-page\n>20:   fastify.get(\n 21:     '/prompt-vault/main-page',\n 22:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":74,"message":"Unsafe assignment of an error typed value","snippet":"const user = await requireAuth(request, reply);","context":" 72:     },\n 73:     async (request, reply) => {\n>74:       const user = await requireAuth(request, reply);\n 75:       if (user === null) return;\n 76: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":74,"message":"Unsafe call of a type that could not be resolved","snippet":"const user = await requireAuth(request, reply);","context":" 72:     },\n 73:     async (request, reply) => {\n>74:       const user = await requireAuth(request, reply);\n 75:       if (user === null) return;\n 76: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":80,"message":"Unsafe assignment of an error typed value","snippet":"const [tokenContextResult, pageIdResult] = await Promise.all([","context":" 78: \n 79:       // Get token and pageId in parallel\n>80:       const [tokenContextResult, pageIdResult] = await Promise.all([\n 81:         notionServiceClient.getNotionToken(user.userId),\n 82:         promptVaultSettings.getPromptVaultPageId(user.userId),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":81,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`","snippet":"notionServiceClient.getNotionToken(user.userId),","context":" 79:       // Get token and pageId in parallel\n 80:       const [tokenContextResult, pageIdResult] = await Promise.all([\n>81:         notionServiceClient.getNotionToken(user.userId),\n 82:         promptVaultSettings.getPromptVaultPageId(user.userId),\n 83:       ]);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":81,"message":"Unsafe member access .userId on a type that cannot be resolved","snippet":"notionServiceClient.getNotionToken(user.userId),","context":" 79:       // Get token and pageId in parallel\n 80:       const [tokenContextResult, pageIdResult] = await Promise.all([\n>81:         notionServiceClient.getNotionToken(user.userId),\n 82:         promptVaultSettings.getPromptVaultPageId(user.userId),\n 83:       ]);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":82,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`","snippet":"promptVaultSettings.getPromptVaultPageId(user.userId),","context":" 80:       const [tokenContextResult, pageIdResult] = await Promise.all([\n 81:         notionServiceClient.getNotionToken(user.userId),\n>82:         promptVaultSettings.getPromptVaultPageId(user.userId),\n 83:       ]);\n 84: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":82,"message":"Unsafe member access .userId on a type that cannot be resolved","snippet":"promptVaultSettings.getPromptVaultPageId(user.userId),","context":" 80:       const [tokenContextResult, pageIdResult] = await Promise.all([\n 81:         notionServiceClient.getNotionToken(user.userId),\n>82:         promptVaultSettings.getPromptVaultPageId(user.userId),\n 83:       ]);\n 84: "},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":86,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!tokenContextResult.ok) {","context":" 84: \n 85:       // Check token context\n>86:       if (!tokenContextResult.ok) {\n 87:         const errorCode =\n 88:           tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":86,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!tokenContextResult.ok) {","context":" 84: \n 85:       // Check token context\n>86:       if (!tokenContextResult.ok) {\n 87:         const errorCode =\n 88:           tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":88,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';","context":" 86:       if (!tokenContextResult.ok) {\n 87:         const errorCode =\n>88:           tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';\n 89:         return await reply.fail(errorCode, tokenContextResult.error.message);\n 90:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":89,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.fail(errorCode, tokenContextResult.error.message);","context":" 87:         const errorCode =\n 88:           tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';\n>89:         return await reply.fail(errorCode, tokenContextResult.error.message);\n 90:       }\n 91: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":89,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.fail(errorCode, tokenContextResult.error.message);","context":" 87:         const errorCode =\n 88:           tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';\n>89:         return await reply.fail(errorCode, tokenContextResult.error.message);\n 90:       }\n 91: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":89,"message":"Unsafe member access .fail on an `any` value","snippet":"return await reply.fail(errorCode, tokenContextResult.error.message);","context":" 87:         const errorCode =\n 88:           tokenContextResult.error.code === 'UNAUTHORIZED' ? 'UNAUTHORIZED' : 'DOWNSTREAM_ERROR';\n>89:         return await reply.fail(errorCode, tokenContextResult.error.message);\n 90:       }\n 91: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":92,"message":"Unsafe assignment of an error typed value","snippet":"const { connected, token } = tokenContextResult.value;","context":" 90:       }\n 91: \n>92:       const { connected, token } = tokenContextResult.value;\n 93:       if (!connected || token === null) {\n 94:         return await reply.fail("},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":92,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"const { connected, token } = tokenContextResult.value;","context":" 90:       }\n 91: \n>92:       const { connected, token } = tokenContextResult.value;\n 93:       if (!connected || token === null) {\n 94:         return await reply.fail("},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":93,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!connected || token === null) {","context":" 91: \n 92:       const { connected, token } = tokenContextResult.value;\n>93:       if (!connected || token === null) {\n 94:         return await reply.fail(\n 95:           'MISCONFIGURED',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":94,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.fail(","context":" 92:       const { connected, token } = tokenContextResult.value;\n 93:       if (!connected || token === null) {\n>94:         return await reply.fail(\n 95:           'MISCONFIGURED',\n 96:           'Notion integration is not configured. Call POST /notion/connect first.'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":94,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.fail(","context":" 92:       const { connected, token } = tokenContextResult.value;\n 93:       if (!connected || token === null) {\n>94:         return await reply.fail(\n 95:           'MISCONFIGURED',\n 96:           'Notion integration is not configured. Call POST /notion/connect first.'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":94,"message":"Unsafe member access .fail on an `any` value","snippet":"return await reply.fail(","context":" 92:       const { connected, token } = tokenContextResult.value;\n 93:       if (!connected || token === null) {\n>94:         return await reply.fail(\n 95:           'MISCONFIGURED',\n 96:           'Notion integration is not configured. Call POST /notion/connect first.'"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":101,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!pageIdResult.ok) {","context":" 99: \n 100:       // Check promptVaultPageId\n>101:       if (!pageIdResult.ok) {\n 102:         return await reply.fail('DOWNSTREAM_ERROR', pageIdResult.error.message);\n 103:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":101,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!pageIdResult.ok) {","context":" 99: \n 100:       // Check promptVaultPageId\n>101:       if (!pageIdResult.ok) {\n 102:         return await reply.fail('DOWNSTREAM_ERROR', pageIdResult.error.message);\n 103:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":102,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.fail('DOWNSTREAM_ERROR', pageIdResult.error.message);","context":" 100:       // Check promptVaultPageId\n 101:       if (!pageIdResult.ok) {\n>102:         return await reply.fail('DOWNSTREAM_ERROR', pageIdResult.error.message);\n 103:       }\n 104: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":102,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.fail('DOWNSTREAM_ERROR', pageIdResult.error.message);","context":" 100:       // Check promptVaultPageId\n 101:       if (!pageIdResult.ok) {\n>102:         return await reply.fail('DOWNSTREAM_ERROR', pageIdResult.error.message);\n 103:       }\n 104: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":102,"message":"Unsafe member access .fail on an `any` value","snippet":"return await reply.fail('DOWNSTREAM_ERROR', pageIdResult.error.message);","context":" 100:       // Check promptVaultPageId\n 101:       if (!pageIdResult.ok) {\n>102:         return await reply.fail('DOWNSTREAM_ERROR', pageIdResult.error.message);\n 103:       }\n 104: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":105,"message":"Unsafe assignment of an error typed value","snippet":"const promptVaultPageId = pageIdResult.value;","context":" 103:       }\n 104: \n>105:       const promptVaultPageId = pageIdResult.value;\n 106:       if (promptVaultPageId === null) {\n 107:         return await reply.fail('MISCONFIGURED', 'PromptVault page ID not configured');"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":105,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"const promptVaultPageId = pageIdResult.value;","context":" 103:       }\n 104: \n>105:       const promptVaultPageId = pageIdResult.value;\n 106:       if (promptVaultPageId === null) {\n 107:         return await reply.fail('MISCONFIGURED', 'PromptVault page ID not configured');"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":107,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.fail('MISCONFIGURED', 'PromptVault page ID not configured');","context":" 105:       const promptVaultPageId = pageIdResult.value;\n 106:       if (promptVaultPageId === null) {\n>107:         return await reply.fail('MISCONFIGURED', 'PromptVault page ID not configured');\n 108:       }\n 109: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":107,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.fail('MISCONFIGURED', 'PromptVault page ID not configured');","context":" 105:       const promptVaultPageId = pageIdResult.value;\n 106:       if (promptVaultPageId === null) {\n>107:         return await reply.fail('MISCONFIGURED', 'PromptVault page ID not configured');\n 108:       }\n 109: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":107,"message":"Unsafe member access .fail on an `any` value","snippet":"return await reply.fail('MISCONFIGURED', 'PromptVault page ID not configured');","context":" 105:       const promptVaultPageId = pageIdResult.value;\n 106:       if (promptVaultPageId === null) {\n>107:         return await reply.fail('MISCONFIGURED', 'PromptVault page ID not configured');\n 108:       }\n 109: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":111,"message":"Unsafe assignment of an error typed value","snippet":"const pageResult = await notionPageClient.getPageWithPreview(token, promptVaultPageId);","context":" 109: \n 110:       // Fetch page from Notion\n>111:       const pageResult = await notionPageClient.getPageWithPreview(token, promptVaultPageId);\n 112:       if (!pageResult.ok) {\n 113:         return await reply.fail('DOWNSTREAM_ERROR', pageResult.error.message);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":111,"message":"Unsafe argument of type error typed assigned to a parameter of type `string`","snippet":"const pageResult = await notionPageClient.getPageWithPreview(token, promptVaultPageId);","context":" 109: \n 110:       // Fetch page from Notion\n>111:       const pageResult = await notionPageClient.getPageWithPreview(token, promptVaultPageId);\n 112:       if (!pageResult.ok) {\n 113:         return await reply.fail('DOWNSTREAM_ERROR', pageResult.error.message);"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":112,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!pageResult.ok) {","context":" 110:       // Fetch page from Notion\n 111:       const pageResult = await notionPageClient.getPageWithPreview(token, promptVaultPageId);\n>112:       if (!pageResult.ok) {\n 113:         return await reply.fail('DOWNSTREAM_ERROR', pageResult.error.message);\n 114:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":112,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!pageResult.ok) {","context":" 110:       // Fetch page from Notion\n 111:       const pageResult = await notionPageClient.getPageWithPreview(token, promptVaultPageId);\n>112:       if (!pageResult.ok) {\n 113:         return await reply.fail('DOWNSTREAM_ERROR', pageResult.error.message);\n 114:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":113,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.fail('DOWNSTREAM_ERROR', pageResult.error.message);","context":" 111:       const pageResult = await notionPageClient.getPageWithPreview(token, promptVaultPageId);\n 112:       if (!pageResult.ok) {\n>113:         return await reply.fail('DOWNSTREAM_ERROR', pageResult.error.message);\n 114:       }\n 115: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":113,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.fail('DOWNSTREAM_ERROR', pageResult.error.message);","context":" 111:       const pageResult = await notionPageClient.getPageWithPreview(token, promptVaultPageId);\n 112:       if (!pageResult.ok) {\n>113:         return await reply.fail('DOWNSTREAM_ERROR', pageResult.error.message);\n 114:       }\n 115: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":113,"message":"Unsafe member access .fail on an `any` value","snippet":"return await reply.fail('DOWNSTREAM_ERROR', pageResult.error.message);","context":" 111:       const pageResult = await notionPageClient.getPageWithPreview(token, promptVaultPageId);\n 112:       if (!pageResult.ok) {\n>113:         return await reply.fail('DOWNSTREAM_ERROR', pageResult.error.message);\n 114:       }\n 115: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":116,"message":"Unsafe assignment of an error typed value","snippet":"const pageData = pageResult.value;","context":" 114:       }\n 115: \n>116:       const pageData = pageResult.value;\n 117:       return await reply.ok({\n 118:         page: {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":116,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"const pageData = pageResult.value;","context":" 114:       }\n 115: \n>116:       const pageData = pageResult.value;\n 117:       return await reply.ok({\n 118:         page: {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":117,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.ok({","context":" 115: \n 116:       const pageData = pageResult.value;\n>117:       return await reply.ok({\n 118:         page: {\n 119:           id: pageData.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":117,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.ok({","context":" 115: \n 116:       const pageData = pageResult.value;\n>117:       return await reply.ok({\n 118:         page: {\n 119:           id: pageData.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":117,"message":"Unsafe member access .ok on an `any` value","snippet":"return await reply.ok({","context":" 115: \n 116:       const pageData = pageResult.value;\n>117:       return await reply.ok({\n 118:         page: {\n 119:           id: pageData.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":119,"message":"Unsafe assignment of an error typed value","snippet":"id: pageData.id,","context":" 117:       return await reply.ok({\n 118:         page: {\n>119:           id: pageData.id,\n 120:           title: pageData.title,\n 121:           url: pageData.url,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":119,"message":"Unsafe member access .id on a type that cannot be resolved","snippet":"id: pageData.id,","context":" 117:       return await reply.ok({\n 118:         page: {\n>119:           id: pageData.id,\n 120:           title: pageData.title,\n 121:           url: pageData.url,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":120,"message":"Unsafe assignment of an error typed value","snippet":"title: pageData.title,","context":" 118:         page: {\n 119:           id: pageData.id,\n>120:           title: pageData.title,\n 121:           url: pageData.url,\n 122:         },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":120,"message":"Unsafe member access .title on a type that cannot be resolved","snippet":"title: pageData.title,","context":" 118:         page: {\n 119:           id: pageData.id,\n>120:           title: pageData.title,\n 121:           url: pageData.url,\n 122:         },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":121,"message":"Unsafe assignment of an error typed value","snippet":"url: pageData.url,","context":" 119:           id: pageData.id,\n 120:           title: pageData.title,\n>121:           url: pageData.url,\n 122:         },\n 123:         preview: {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":121,"message":"Unsafe member access .url on a type that cannot be resolved","snippet":"url: pageData.url,","context":" 119:           id: pageData.id,\n 120:           title: pageData.title,\n>121:           url: pageData.url,\n 122:         },\n 123:         preview: {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":124,"message":"Unsafe assignment of an error typed value","snippet":"blocks: pageData.blocks,","context":" 122:         },\n 123:         preview: {\n>124:           blocks: pageData.blocks,\n 125:         },\n 126:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":124,"message":"Unsafe member access .blocks on a type that cannot be resolved","snippet":"blocks: pageData.blocks,","context":" 122:         },\n 123:         preview: {\n>124:           blocks: pageData.blocks,\n 125:         },\n 126:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":131,"message":"Unsafe call of an `any` typed value","snippet":"fastify.get(","context":" 129: \n 130:   // GET /prompt-vault/prompts - List all prompts\n>131:   fastify.get(\n 132:     '/prompt-vault/prompts',\n 133:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":131,"message":"Unsafe member access .get on an `any` value","snippet":"fastify.get(","context":" 129: \n 130:   // GET /prompt-vault/prompts - List all prompts\n>131:   fastify.get(\n 132:     '/prompt-vault/prompts',\n 133:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":185,"message":"Unsafe call of a type that could not be resolved","snippet":"logIncomingRequest(request, {","context":" 183:     },\n 184:     async (request, reply) => {\n>185:       logIncomingRequest(request, {\n 186:         message: 'Received request to GET /prompt-vault/prompts',\n 187:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":189,"message":"Unsafe assignment of an error typed value","snippet":"const user = await requireAuth(request, reply);","context":" 187:       });\n 188: \n>189:       const user = await requireAuth(request, reply);\n 190:       if (user === null) return;\n 191: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":189,"message":"Unsafe call of a type that could not be resolved","snippet":"const user = await requireAuth(request, reply);","context":" 187:       });\n 188: \n>189:       const user = await requireAuth(request, reply);\n 190:       if (user === null) return;\n 191: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":194,"message":"Unsafe assignment of an error typed value","snippet":"const result = await listPrompts(promptRepository, { userId: user.userId }, { logger: request.log });","context":" 192:       const { promptRepository } = getServices();\n 193: \n>194:       const result = await listPrompts(promptRepository, { userId: user.userId }, { logger: request.log });\n 195: \n 196:       if (!result.ok) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":194,"message":"Unsafe member access .userId on a type that cannot be resolved","snippet":"const result = await listPrompts(promptRepository, { userId: user.userId }, { logger: request.log });","context":" 192:       const { promptRepository } = getServices();\n 193: \n>194:       const result = await listPrompts(promptRepository, { userId: user.userId }, { logger: request.log });\n 195: \n 196:       if (!result.ok) {"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":196,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!result.ok) {","context":" 194:       const result = await listPrompts(promptRepository, { userId: user.userId }, { logger: request.log });\n 195: \n>196:       if (!result.ok) {\n 197:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 198:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":196,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!result.ok) {","context":" 194:       const result = await listPrompts(promptRepository, { userId: user.userId }, { logger: request.log });\n 195: \n>196:       if (!result.ok) {\n 197:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 198:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":197,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 195: \n 196:       if (!result.ok) {\n>197:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 198:       }\n 199: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":197,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 195: \n 196:       if (!result.ok) {\n>197:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 198:       }\n 199: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":197,"message":"Unsafe member access .fail on an `any` value","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 195: \n 196:       if (!result.ok) {\n>197:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 198:       }\n 199: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":197,"message":"Unsafe argument of type error typed assigned to a parameter of type `PromptVaultErrorCode`","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 195: \n 196:       if (!result.ok) {\n>197:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 198:       }\n 199: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":200,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.ok({","context":" 198:       }\n 199: \n>200:       return await reply.ok({\n 201:         prompts: result.value.map((p) => ({\n 202:           id: p.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":200,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.ok({","context":" 198:       }\n 199: \n>200:       return await reply.ok({\n 201:         prompts: result.value.map((p) => ({\n 202:           id: p.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":200,"message":"Unsafe member access .ok on an `any` value","snippet":"return await reply.ok({","context":" 198:       }\n 199: \n>200:       return await reply.ok({\n 201:         prompts: result.value.map((p) => ({\n 202:           id: p.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":201,"message":"Unsafe assignment of an error typed value","snippet":"prompts: result.value.map((p) => ({","context":" 199: \n 200:       return await reply.ok({\n>201:         prompts: result.value.map((p) => ({\n 202:           id: p.id,\n 203:           title: p.title,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":201,"message":"Unsafe call of a type that could not be resolved","snippet":"prompts: result.value.map((p) => ({","context":" 199: \n 200:       return await reply.ok({\n>201:         prompts: result.value.map((p) => ({\n 202:           id: p.id,\n 203:           title: p.title,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":201,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"prompts: result.value.map((p) => ({","context":" 199: \n 200:       return await reply.ok({\n>201:         prompts: result.value.map((p) => ({\n 202:           id: p.id,\n 203:           title: p.title,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":202,"message":"Unsafe assignment of an `any` value","snippet":"id: p.id,","context":" 200:       return await reply.ok({\n 201:         prompts: result.value.map((p) => ({\n>202:           id: p.id,\n 203:           title: p.title,\n 204:           prompt: p.content,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":202,"message":"Unsafe member access .id on an `any` value","snippet":"id: p.id,","context":" 200:       return await reply.ok({\n 201:         prompts: result.value.map((p) => ({\n>202:           id: p.id,\n 203:           title: p.title,\n 204:           prompt: p.content,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":203,"message":"Unsafe assignment of an `any` value","snippet":"title: p.title,","context":" 201:         prompts: result.value.map((p) => ({\n 202:           id: p.id,\n>203:           title: p.title,\n 204:           prompt: p.content,\n 205:           url: p.url,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":203,"message":"Unsafe member access .title on an `any` value","snippet":"title: p.title,","context":" 201:         prompts: result.value.map((p) => ({\n 202:           id: p.id,\n>203:           title: p.title,\n 204:           prompt: p.content,\n 205:           url: p.url,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":204,"message":"Unsafe assignment of an `any` value","snippet":"prompt: p.content,","context":" 202:           id: p.id,\n 203:           title: p.title,\n>204:           prompt: p.content,\n 205:           url: p.url,\n 206:           createdAt: p.createdAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":204,"message":"Unsafe member access .content on an `any` value","snippet":"prompt: p.content,","context":" 202:           id: p.id,\n 203:           title: p.title,\n>204:           prompt: p.content,\n 205:           url: p.url,\n 206:           createdAt: p.createdAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":205,"message":"Unsafe assignment of an `any` value","snippet":"url: p.url,","context":" 203:           title: p.title,\n 204:           prompt: p.content,\n>205:           url: p.url,\n 206:           createdAt: p.createdAt,\n 207:           updatedAt: p.updatedAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":205,"message":"Unsafe member access .url on an `any` value","snippet":"url: p.url,","context":" 203:           title: p.title,\n 204:           prompt: p.content,\n>205:           url: p.url,\n 206:           createdAt: p.createdAt,\n 207:           updatedAt: p.updatedAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":206,"message":"Unsafe assignment of an `any` value","snippet":"createdAt: p.createdAt,","context":" 204:           prompt: p.content,\n 205:           url: p.url,\n>206:           createdAt: p.createdAt,\n 207:           updatedAt: p.updatedAt,\n 208:         })),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":206,"message":"Unsafe member access .createdAt on an `any` value","snippet":"createdAt: p.createdAt,","context":" 204:           prompt: p.content,\n 205:           url: p.url,\n>206:           createdAt: p.createdAt,\n 207:           updatedAt: p.updatedAt,\n 208:         })),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":207,"message":"Unsafe assignment of an `any` value","snippet":"updatedAt: p.updatedAt,","context":" 205:           url: p.url,\n 206:           createdAt: p.createdAt,\n>207:           updatedAt: p.updatedAt,\n 208:         })),\n 209:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":207,"message":"Unsafe member access .updatedAt on an `any` value","snippet":"updatedAt: p.updatedAt,","context":" 205:           url: p.url,\n 206:           createdAt: p.createdAt,\n>207:           updatedAt: p.updatedAt,\n 208:         })),\n 209:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":214,"message":"Unsafe call of an `any` typed value","snippet":"fastify.post(","context":" 212: \n 213:   // POST /prompt-vault/prompts - Create a new prompt\n>214:   fastify.post(\n 215:     '/prompt-vault/prompts',\n 216:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":214,"message":"Unsafe member access .post on an `any` value","snippet":"fastify.post(","context":" 212: \n 213:   // POST /prompt-vault/prompts - Create a new prompt\n>214:   fastify.post(\n 215:     '/prompt-vault/prompts',\n 216:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":279,"message":"Unsafe call of a type that could not be resolved","snippet":"logIncomingRequest(request, {","context":" 277:     },\n 278:     async (request, reply) => {\n>279:       logIncomingRequest(request, {\n 280:         message: 'Received request to POST /prompt-vault/prompts',\n 281:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":283,"message":"Unsafe assignment of an error typed value","snippet":"const user = await requireAuth(request, reply);","context":" 281:       });\n 282: \n>283:       const user = await requireAuth(request, reply);\n 284:       if (user === null) return;\n 285: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":283,"message":"Unsafe call of a type that could not be resolved","snippet":"const user = await requireAuth(request, reply);","context":" 281:       });\n 282: \n>283:       const user = await requireAuth(request, reply);\n 284:       if (user === null) return;\n 285: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":286,"message":"Unsafe assignment of an error typed value","snippet":"const parseResult = createPromptRequestSchema.safeParse(request.body);","context":" 284:       if (user === null) return;\n 285: \n>286:       const parseResult = createPromptRequestSchema.safeParse(request.body);\n 287:       /* v8 ignore start - Defensive: Fastify schema validation catches most errors first */\n 288:       if (!parseResult.success) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":286,"message":"Unsafe call of a type that could not be resolved","snippet":"const parseResult = createPromptRequestSchema.safeParse(request.body);","context":" 284:       if (user === null) return;\n 285: \n>286:       const parseResult = createPromptRequestSchema.safeParse(request.body);\n 287:       /* v8 ignore start - Defensive: Fastify schema validation catches most errors first */\n 288:       if (!parseResult.success) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":286,"message":"Unsafe member access .safeParse on a type that cannot be resolved","snippet":"const parseResult = createPromptRequestSchema.safeParse(request.body);","context":" 284:       if (user === null) return;\n 285: \n>286:       const parseResult = createPromptRequestSchema.safeParse(request.body);\n 287:       /* v8 ignore start - Defensive: Fastify schema validation catches most errors first */\n 288:       if (!parseResult.success) {"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":288,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!parseResult.success) {","context":" 286:       const parseResult = createPromptRequestSchema.safeParse(request.body);\n 287:       /* v8 ignore start - Defensive: Fastify schema validation catches most errors first */\n>288:       if (!parseResult.success) {\n 289:         return await handleValidationError(parseResult.error, reply);\n 290:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":288,"message":"Unsafe member access .success on a type that cannot be resolved","snippet":"if (!parseResult.success) {","context":" 286:       const parseResult = createPromptRequestSchema.safeParse(request.body);\n 287:       /* v8 ignore start - Defensive: Fastify schema validation catches most errors first */\n>288:       if (!parseResult.success) {\n 289:         return await handleValidationError(parseResult.error, reply);\n 290:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":289,"message":"Unsafe return of a value of type error","snippet":"return await handleValidationError(parseResult.error, reply);","context":" 287:       /* v8 ignore start - Defensive: Fastify schema validation catches most errors first */\n 288:       if (!parseResult.success) {\n>289:         return await handleValidationError(parseResult.error, reply);\n 290:       }\n 291:       /* v8 ignore stop */"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":289,"message":"Unsafe call of a type that could not be resolved","snippet":"return await handleValidationError(parseResult.error, reply);","context":" 287:       /* v8 ignore start - Defensive: Fastify schema validation catches most errors first */\n 288:       if (!parseResult.success) {\n>289:         return await handleValidationError(parseResult.error, reply);\n 290:       }\n 291:       /* v8 ignore stop */"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":289,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"return await handleValidationError(parseResult.error, reply);","context":" 287:       /* v8 ignore start - Defensive: Fastify schema validation catches most errors first */\n 288:       if (!parseResult.success) {\n>289:         return await handleValidationError(parseResult.error, reply);\n 290:       }\n 291:       /* v8 ignore stop */"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":293,"message":"Unsafe assignment of an error typed value","snippet":"const { title, prompt: promptContent } = parseResult.data;","context":" 291:       /* v8 ignore stop */\n 292: \n>293:       const { title, prompt: promptContent } = parseResult.data;\n 294:       const { promptRepository } = getServices();\n 295: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":293,"message":"Unsafe member access .data on a type that cannot be resolved","snippet":"const { title, prompt: promptContent } = parseResult.data;","context":" 291:       /* v8 ignore stop */\n 292: \n>293:       const { title, prompt: promptContent } = parseResult.data;\n 294:       const { promptRepository } = getServices();\n 295: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":296,"message":"Unsafe assignment of an error typed value","snippet":"const result = await createPrompt(promptRepository, {","context":" 294:       const { promptRepository } = getServices();\n 295: \n>296:       const result = await createPrompt(promptRepository, {\n 297:         userId: user.userId,\n 298:         title,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":297,"message":"Unsafe assignment of an error typed value","snippet":"userId: user.userId,","context":" 295: \n 296:       const result = await createPrompt(promptRepository, {\n>297:         userId: user.userId,\n 298:         title,\n 299:         content: promptContent,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":297,"message":"Unsafe member access .userId on a type that cannot be resolved","snippet":"userId: user.userId,","context":" 295: \n 296:       const result = await createPrompt(promptRepository, {\n>297:         userId: user.userId,\n 298:         title,\n 299:         content: promptContent,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":298,"message":"Unsafe assignment of an error typed value","snippet":"title,","context":" 296:       const result = await createPrompt(promptRepository, {\n 297:         userId: user.userId,\n>298:         title,\n 299:         content: promptContent,\n 300:       }, { logger: request.log });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":299,"message":"Unsafe assignment of an error typed value","snippet":"content: promptContent,","context":" 297:         userId: user.userId,\n 298:         title,\n>299:         content: promptContent,\n 300:       }, { logger: request.log });\n 301: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":300,"message":"Unsafe assignment of an `any` value","snippet":"}, { logger: request.log });","context":" 298:         title,\n 299:         content: promptContent,\n>300:       }, { logger: request.log });\n 301: \n 302:       if (!result.ok) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":300,"message":"Unsafe member access .log on an `any` value","snippet":"}, { logger: request.log });","context":" 298:         title,\n 299:         content: promptContent,\n>300:       }, { logger: request.log });\n 301: \n 302:       if (!result.ok) {"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":302,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!result.ok) {","context":" 300:       }, { logger: request.log });\n 301: \n>302:       if (!result.ok) {\n 303:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 304:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":302,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!result.ok) {","context":" 300:       }, { logger: request.log });\n 301: \n>302:       if (!result.ok) {\n 303:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 304:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":303,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 301: \n 302:       if (!result.ok) {\n>303:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 304:       }\n 305: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":303,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 301: \n 302:       if (!result.ok) {\n>303:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 304:       }\n 305: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":303,"message":"Unsafe member access .fail on an `any` value","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 301: \n 302:       if (!result.ok) {\n>303:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 304:       }\n 305: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":303,"message":"Unsafe argument of type error typed assigned to a parameter of type `PromptVaultErrorCode`","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 301: \n 302:       if (!result.ok) {\n>303:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 304:       }\n 305: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":306,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.ok({","context":" 304:       }\n 305: \n>306:       return await reply.ok({\n 307:         prompt: {\n 308:           id: result.value.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":306,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.ok({","context":" 304:       }\n 305: \n>306:       return await reply.ok({\n 307:         prompt: {\n 308:           id: result.value.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":306,"message":"Unsafe member access .ok on an `any` value","snippet":"return await reply.ok({","context":" 304:       }\n 305: \n>306:       return await reply.ok({\n 307:         prompt: {\n 308:           id: result.value.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":308,"message":"Unsafe assignment of an error typed value","snippet":"id: result.value.id,","context":" 306:       return await reply.ok({\n 307:         prompt: {\n>308:           id: result.value.id,\n 309:           title: result.value.title,\n 310:           prompt: result.value.content,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":308,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"id: result.value.id,","context":" 306:       return await reply.ok({\n 307:         prompt: {\n>308:           id: result.value.id,\n 309:           title: result.value.title,\n 310:           prompt: result.value.content,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":309,"message":"Unsafe assignment of an error typed value","snippet":"title: result.value.title,","context":" 307:         prompt: {\n 308:           id: result.value.id,\n>309:           title: result.value.title,\n 310:           prompt: result.value.content,\n 311:           url: result.value.url,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":309,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"title: result.value.title,","context":" 307:         prompt: {\n 308:           id: result.value.id,\n>309:           title: result.value.title,\n 310:           prompt: result.value.content,\n 311:           url: result.value.url,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":310,"message":"Unsafe assignment of an error typed value","snippet":"prompt: result.value.content,","context":" 308:           id: result.value.id,\n 309:           title: result.value.title,\n>310:           prompt: result.value.content,\n 311:           url: result.value.url,\n 312:           createdAt: result.value.createdAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":310,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"prompt: result.value.content,","context":" 308:           id: result.value.id,\n 309:           title: result.value.title,\n>310:           prompt: result.value.content,\n 311:           url: result.value.url,\n 312:           createdAt: result.value.createdAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":311,"message":"Unsafe assignment of an error typed value","snippet":"url: result.value.url,","context":" 309:           title: result.value.title,\n 310:           prompt: result.value.content,\n>311:           url: result.value.url,\n 312:           createdAt: result.value.createdAt,\n 313:           updatedAt: result.value.updatedAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":311,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"url: result.value.url,","context":" 309:           title: result.value.title,\n 310:           prompt: result.value.content,\n>311:           url: result.value.url,\n 312:           createdAt: result.value.createdAt,\n 313:           updatedAt: result.value.updatedAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":312,"message":"Unsafe assignment of an error typed value","snippet":"createdAt: result.value.createdAt,","context":" 310:           prompt: result.value.content,\n 311:           url: result.value.url,\n>312:           createdAt: result.value.createdAt,\n 313:           updatedAt: result.value.updatedAt,\n 314:         },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":312,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"createdAt: result.value.createdAt,","context":" 310:           prompt: result.value.content,\n 311:           url: result.value.url,\n>312:           createdAt: result.value.createdAt,\n 313:           updatedAt: result.value.updatedAt,\n 314:         },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":313,"message":"Unsafe assignment of an error typed value","snippet":"updatedAt: result.value.updatedAt,","context":" 311:           url: result.value.url,\n 312:           createdAt: result.value.createdAt,\n>313:           updatedAt: result.value.updatedAt,\n 314:         },\n 315:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":313,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"updatedAt: result.value.updatedAt,","context":" 311:           url: result.value.url,\n 312:           createdAt: result.value.createdAt,\n>313:           updatedAt: result.value.updatedAt,\n 314:         },\n 315:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":320,"message":"Unsafe call of an `any` typed value","snippet":"fastify.get<{ Params: { prompt_id: string } }>(","context":" 318: \n 319:   // GET /prompt-vault/prompts/:prompt_id - Get a single prompt\n>320:   fastify.get<{ Params: { prompt_id: string } }>(\n 321:     '/prompt-vault/prompts/:prompt_id',\n 322:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":320,"message":"Unsafe member access .get on an `any` value","snippet":"fastify.get<{ Params: { prompt_id: string } }>(","context":" 318: \n 319:   // GET /prompt-vault/prompts/:prompt_id - Get a single prompt\n>320:   fastify.get<{ Params: { prompt_id: string } }>(\n 321:     '/prompt-vault/prompts/:prompt_id',\n 322:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":391,"message":"Unsafe call of a type that could not be resolved","snippet":"logIncomingRequest(request, {","context":" 389:     },\n 390:     async (request, reply) => {\n>391:       logIncomingRequest(request, {\n 392:         message: 'Received request to GET /prompt-vault/prompts/:prompt_id',\n 393:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":395,"message":"Unsafe assignment of an error typed value","snippet":"const user = await requireAuth(request, reply);","context":" 393:       });\n 394: \n>395:       const user = await requireAuth(request, reply);\n 396:       if (user === null) return;\n 397: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":395,"message":"Unsafe call of a type that could not be resolved","snippet":"const user = await requireAuth(request, reply);","context":" 393:       });\n 394: \n>395:       const user = await requireAuth(request, reply);\n 396:       if (user === null) return;\n 397: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":398,"message":"Unsafe assignment of an `any` value","snippet":"const { prompt_id: promptId } = request.params;","context":" 396:       if (user === null) return;\n 397: \n>398:       const { prompt_id: promptId } = request.params;\n 399:       const { promptRepository } = getServices();\n 400: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":398,"message":"Unsafe member access .params on an `any` value","snippet":"const { prompt_id: promptId } = request.params;","context":" 396:       if (user === null) return;\n 397: \n>398:       const { prompt_id: promptId } = request.params;\n 399:       const { promptRepository } = getServices();\n 400: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":401,"message":"Unsafe assignment of an error typed value","snippet":"const result = await getPrompt(promptRepository, {","context":" 399:       const { promptRepository } = getServices();\n 400: \n>401:       const result = await getPrompt(promptRepository, {\n 402:         userId: user.userId,\n 403:         promptId,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":402,"message":"Unsafe assignment of an error typed value","snippet":"userId: user.userId,","context":" 400: \n 401:       const result = await getPrompt(promptRepository, {\n>402:         userId: user.userId,\n 403:         promptId,\n 404:       }, { logger: request.log });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":402,"message":"Unsafe member access .userId on a type that cannot be resolved","snippet":"userId: user.userId,","context":" 400: \n 401:       const result = await getPrompt(promptRepository, {\n>402:         userId: user.userId,\n 403:         promptId,\n 404:       }, { logger: request.log });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":403,"message":"Unsafe assignment of an `any` value","snippet":"promptId,","context":" 401:       const result = await getPrompt(promptRepository, {\n 402:         userId: user.userId,\n>403:         promptId,\n 404:       }, { logger: request.log });\n 405: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":404,"message":"Unsafe assignment of an `any` value","snippet":"}, { logger: request.log });","context":" 402:         userId: user.userId,\n 403:         promptId,\n>404:       }, { logger: request.log });\n 405: \n 406:       if (!result.ok) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":404,"message":"Unsafe member access .log on an `any` value","snippet":"}, { logger: request.log });","context":" 402:         userId: user.userId,\n 403:         promptId,\n>404:       }, { logger: request.log });\n 405: \n 406:       if (!result.ok) {"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":406,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!result.ok) {","context":" 404:       }, { logger: request.log });\n 405: \n>406:       if (!result.ok) {\n 407:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 408:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":406,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!result.ok) {","context":" 404:       }, { logger: request.log });\n 405: \n>406:       if (!result.ok) {\n 407:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 408:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":407,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 405: \n 406:       if (!result.ok) {\n>407:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 408:       }\n 409: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":407,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 405: \n 406:       if (!result.ok) {\n>407:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 408:       }\n 409: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":407,"message":"Unsafe member access .fail on an `any` value","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 405: \n 406:       if (!result.ok) {\n>407:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 408:       }\n 409: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":407,"message":"Unsafe argument of type error typed assigned to a parameter of type `PromptVaultErrorCode`","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 405: \n 406:       if (!result.ok) {\n>407:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 408:       }\n 409: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":410,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.ok({","context":" 408:       }\n 409: \n>410:       return await reply.ok({\n 411:         prompt: {\n 412:           id: result.value.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":410,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.ok({","context":" 408:       }\n 409: \n>410:       return await reply.ok({\n 411:         prompt: {\n 412:           id: result.value.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":410,"message":"Unsafe member access .ok on an `any` value","snippet":"return await reply.ok({","context":" 408:       }\n 409: \n>410:       return await reply.ok({\n 411:         prompt: {\n 412:           id: result.value.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":412,"message":"Unsafe assignment of an error typed value","snippet":"id: result.value.id,","context":" 410:       return await reply.ok({\n 411:         prompt: {\n>412:           id: result.value.id,\n 413:           title: result.value.title,\n 414:           prompt: result.value.content,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":412,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"id: result.value.id,","context":" 410:       return await reply.ok({\n 411:         prompt: {\n>412:           id: result.value.id,\n 413:           title: result.value.title,\n 414:           prompt: result.value.content,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":413,"message":"Unsafe assignment of an error typed value","snippet":"title: result.value.title,","context":" 411:         prompt: {\n 412:           id: result.value.id,\n>413:           title: result.value.title,\n 414:           prompt: result.value.content,\n 415:           url: result.value.url,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":413,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"title: result.value.title,","context":" 411:         prompt: {\n 412:           id: result.value.id,\n>413:           title: result.value.title,\n 414:           prompt: result.value.content,\n 415:           url: result.value.url,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":414,"message":"Unsafe assignment of an error typed value","snippet":"prompt: result.value.content,","context":" 412:           id: result.value.id,\n 413:           title: result.value.title,\n>414:           prompt: result.value.content,\n 415:           url: result.value.url,\n 416:           createdAt: result.value.createdAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":414,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"prompt: result.value.content,","context":" 412:           id: result.value.id,\n 413:           title: result.value.title,\n>414:           prompt: result.value.content,\n 415:           url: result.value.url,\n 416:           createdAt: result.value.createdAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":415,"message":"Unsafe assignment of an error typed value","snippet":"url: result.value.url,","context":" 413:           title: result.value.title,\n 414:           prompt: result.value.content,\n>415:           url: result.value.url,\n 416:           createdAt: result.value.createdAt,\n 417:           updatedAt: result.value.updatedAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":415,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"url: result.value.url,","context":" 413:           title: result.value.title,\n 414:           prompt: result.value.content,\n>415:           url: result.value.url,\n 416:           createdAt: result.value.createdAt,\n 417:           updatedAt: result.value.updatedAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":416,"message":"Unsafe assignment of an error typed value","snippet":"createdAt: result.value.createdAt,","context":" 414:           prompt: result.value.content,\n 415:           url: result.value.url,\n>416:           createdAt: result.value.createdAt,\n 417:           updatedAt: result.value.updatedAt,\n 418:         },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":416,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"createdAt: result.value.createdAt,","context":" 414:           prompt: result.value.content,\n 415:           url: result.value.url,\n>416:           createdAt: result.value.createdAt,\n 417:           updatedAt: result.value.updatedAt,\n 418:         },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":417,"message":"Unsafe assignment of an error typed value","snippet":"updatedAt: result.value.updatedAt,","context":" 415:           url: result.value.url,\n 416:           createdAt: result.value.createdAt,\n>417:           updatedAt: result.value.updatedAt,\n 418:         },\n 419:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":417,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"updatedAt: result.value.updatedAt,","context":" 415:           url: result.value.url,\n 416:           createdAt: result.value.createdAt,\n>417:           updatedAt: result.value.updatedAt,\n 418:         },\n 419:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":424,"message":"Unsafe call of an `any` typed value","snippet":"fastify.patch<{ Params: { prompt_id: string } }>(","context":" 422: \n 423:   // PATCH /prompt-vault/prompts/:prompt_id - Update a prompt\n>424:   fastify.patch<{ Params: { prompt_id: string } }>(\n 425:     '/prompt-vault/prompts/:prompt_id',\n 426:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":424,"message":"Unsafe member access .patch on an `any` value","snippet":"fastify.patch<{ Params: { prompt_id: string } }>(","context":" 422: \n 423:   // PATCH /prompt-vault/prompts/:prompt_id - Update a prompt\n>424:   fastify.patch<{ Params: { prompt_id: string } }>(\n 425:     '/prompt-vault/prompts/:prompt_id',\n 426:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":506,"message":"Unsafe call of a type that could not be resolved","snippet":"logIncomingRequest(request, {","context":" 504:     },\n 505:     async (request, reply) => {\n>506:       logIncomingRequest(request, {\n 507:         message: 'Received request to PATCH /prompt-vault/prompts/:prompt_id',\n 508:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":510,"message":"Unsafe assignment of an error typed value","snippet":"const user = await requireAuth(request, reply);","context":" 508:       });\n 509: \n>510:       const user = await requireAuth(request, reply);\n 511:       if (user === null) return;\n 512: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":510,"message":"Unsafe call of a type that could not be resolved","snippet":"const user = await requireAuth(request, reply);","context":" 508:       });\n 509: \n>510:       const user = await requireAuth(request, reply);\n 511:       if (user === null) return;\n 512: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":513,"message":"Unsafe assignment of an `any` value","snippet":"const { prompt_id: promptId } = request.params;","context":" 511:       if (user === null) return;\n 512: \n>513:       const { prompt_id: promptId } = request.params;\n 514: \n 515:       const parseResult = updatePromptRequestSchema.safeParse(request.body);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":513,"message":"Unsafe member access .params on an `any` value","snippet":"const { prompt_id: promptId } = request.params;","context":" 511:       if (user === null) return;\n 512: \n>513:       const { prompt_id: promptId } = request.params;\n 514: \n 515:       const parseResult = updatePromptRequestSchema.safeParse(request.body);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":515,"message":"Unsafe assignment of an error typed value","snippet":"const parseResult = updatePromptRequestSchema.safeParse(request.body);","context":" 513:       const { prompt_id: promptId } = request.params;\n 514: \n>515:       const parseResult = updatePromptRequestSchema.safeParse(request.body);\n 516:       if (!parseResult.success) {\n 517:         return await handleValidationError(parseResult.error, reply);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":515,"message":"Unsafe call of a type that could not be resolved","snippet":"const parseResult = updatePromptRequestSchema.safeParse(request.body);","context":" 513:       const { prompt_id: promptId } = request.params;\n 514: \n>515:       const parseResult = updatePromptRequestSchema.safeParse(request.body);\n 516:       if (!parseResult.success) {\n 517:         return await handleValidationError(parseResult.error, reply);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":515,"message":"Unsafe member access .safeParse on a type that cannot be resolved","snippet":"const parseResult = updatePromptRequestSchema.safeParse(request.body);","context":" 513:       const { prompt_id: promptId } = request.params;\n 514: \n>515:       const parseResult = updatePromptRequestSchema.safeParse(request.body);\n 516:       if (!parseResult.success) {\n 517:         return await handleValidationError(parseResult.error, reply);"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":516,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!parseResult.success) {","context":" 514: \n 515:       const parseResult = updatePromptRequestSchema.safeParse(request.body);\n>516:       if (!parseResult.success) {\n 517:         return await handleValidationError(parseResult.error, reply);\n 518:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":516,"message":"Unsafe member access .success on a type that cannot be resolved","snippet":"if (!parseResult.success) {","context":" 514: \n 515:       const parseResult = updatePromptRequestSchema.safeParse(request.body);\n>516:       if (!parseResult.success) {\n 517:         return await handleValidationError(parseResult.error, reply);\n 518:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":517,"message":"Unsafe return of a value of type error","snippet":"return await handleValidationError(parseResult.error, reply);","context":" 515:       const parseResult = updatePromptRequestSchema.safeParse(request.body);\n 516:       if (!parseResult.success) {\n>517:         return await handleValidationError(parseResult.error, reply);\n 518:       }\n 519: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":517,"message":"Unsafe call of a type that could not be resolved","snippet":"return await handleValidationError(parseResult.error, reply);","context":" 515:       const parseResult = updatePromptRequestSchema.safeParse(request.body);\n 516:       if (!parseResult.success) {\n>517:         return await handleValidationError(parseResult.error, reply);\n 518:       }\n 519: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":517,"message":"Unsafe member access .error on a type that cannot be resolved","snippet":"return await handleValidationError(parseResult.error, reply);","context":" 515:       const parseResult = updatePromptRequestSchema.safeParse(request.body);\n 516:       if (!parseResult.success) {\n>517:         return await handleValidationError(parseResult.error, reply);\n 518:       }\n 519: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":520,"message":"Unsafe assignment of an error typed value","snippet":"const { title, prompt: promptContent } = parseResult.data;","context":" 518:       }\n 519: \n>520:       const { title, prompt: promptContent } = parseResult.data;\n 521:       const { promptRepository } = getServices();\n 522: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":520,"message":"Unsafe member access .data on a type that cannot be resolved","snippet":"const { title, prompt: promptContent } = parseResult.data;","context":" 518:       }\n 519: \n>520:       const { title, prompt: promptContent } = parseResult.data;\n 521:       const { promptRepository } = getServices();\n 522: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":523,"message":"Unsafe assignment of an error typed value","snippet":"const result = await updatePrompt(promptRepository, {","context":" 521:       const { promptRepository } = getServices();\n 522: \n>523:       const result = await updatePrompt(promptRepository, {\n 524:         userId: user.userId,\n 525:         promptId,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":524,"message":"Unsafe assignment of an error typed value","snippet":"userId: user.userId,","context":" 522: \n 523:       const result = await updatePrompt(promptRepository, {\n>524:         userId: user.userId,\n 525:         promptId,\n 526:         title,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":524,"message":"Unsafe member access .userId on a type that cannot be resolved","snippet":"userId: user.userId,","context":" 522: \n 523:       const result = await updatePrompt(promptRepository, {\n>524:         userId: user.userId,\n 525:         promptId,\n 526:         title,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":525,"message":"Unsafe assignment of an `any` value","snippet":"promptId,","context":" 523:       const result = await updatePrompt(promptRepository, {\n 524:         userId: user.userId,\n>525:         promptId,\n 526:         title,\n 527:         content: promptContent,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":526,"message":"Unsafe assignment of an error typed value","snippet":"title,","context":" 524:         userId: user.userId,\n 525:         promptId,\n>526:         title,\n 527:         content: promptContent,\n 528:       }, { logger: request.log });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":527,"message":"Unsafe assignment of an error typed value","snippet":"content: promptContent,","context":" 525:         promptId,\n 526:         title,\n>527:         content: promptContent,\n 528:       }, { logger: request.log });\n 529: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":528,"message":"Unsafe assignment of an `any` value","snippet":"}, { logger: request.log });","context":" 526:         title,\n 527:         content: promptContent,\n>528:       }, { logger: request.log });\n 529: \n 530:       if (!result.ok) {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":528,"message":"Unsafe member access .log on an `any` value","snippet":"}, { logger: request.log });","context":" 526:         title,\n 527:         content: promptContent,\n>528:       }, { logger: request.log });\n 529: \n 530:       if (!result.ok) {"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":530,"message":"Unexpected any value in conditional. An explicit comparison or type conversion is required","snippet":"if (!result.ok) {","context":" 528:       }, { logger: request.log });\n 529: \n>530:       if (!result.ok) {\n 531:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 532:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":530,"message":"Unsafe member access .ok on a type that cannot be resolved","snippet":"if (!result.ok) {","context":" 528:       }, { logger: request.log });\n 529: \n>530:       if (!result.ok) {\n 531:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 532:       }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":531,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 529: \n 530:       if (!result.ok) {\n>531:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 532:       }\n 533: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":531,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 529: \n 530:       if (!result.ok) {\n>531:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 532:       }\n 533: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":531,"message":"Unsafe member access .fail on an `any` value","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 529: \n 530:       if (!result.ok) {\n>531:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 532:       }\n 533: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-argument","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":531,"message":"Unsafe argument of type error typed assigned to a parameter of type `PromptVaultErrorCode`","snippet":"return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);","context":" 529: \n 530:       if (!result.ok) {\n>531:         return await reply.fail(mapDomainErrorCode(result.error.code), result.error.message);\n 532:       }\n 533: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":534,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.ok({","context":" 532:       }\n 533: \n>534:       return await reply.ok({\n 535:         prompt: {\n 536:           id: result.value.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":534,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.ok({","context":" 532:       }\n 533: \n>534:       return await reply.ok({\n 535:         prompt: {\n 536:           id: result.value.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":534,"message":"Unsafe member access .ok on an `any` value","snippet":"return await reply.ok({","context":" 532:       }\n 533: \n>534:       return await reply.ok({\n 535:         prompt: {\n 536:           id: result.value.id,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":536,"message":"Unsafe assignment of an error typed value","snippet":"id: result.value.id,","context":" 534:       return await reply.ok({\n 535:         prompt: {\n>536:           id: result.value.id,\n 537:           title: result.value.title,\n 538:           prompt: result.value.content,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":536,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"id: result.value.id,","context":" 534:       return await reply.ok({\n 535:         prompt: {\n>536:           id: result.value.id,\n 537:           title: result.value.title,\n 538:           prompt: result.value.content,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":537,"message":"Unsafe assignment of an error typed value","snippet":"title: result.value.title,","context":" 535:         prompt: {\n 536:           id: result.value.id,\n>537:           title: result.value.title,\n 538:           prompt: result.value.content,\n 539:           url: result.value.url,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":537,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"title: result.value.title,","context":" 535:         prompt: {\n 536:           id: result.value.id,\n>537:           title: result.value.title,\n 538:           prompt: result.value.content,\n 539:           url: result.value.url,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":538,"message":"Unsafe assignment of an error typed value","snippet":"prompt: result.value.content,","context":" 536:           id: result.value.id,\n 537:           title: result.value.title,\n>538:           prompt: result.value.content,\n 539:           url: result.value.url,\n 540:           createdAt: result.value.createdAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":538,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"prompt: result.value.content,","context":" 536:           id: result.value.id,\n 537:           title: result.value.title,\n>538:           prompt: result.value.content,\n 539:           url: result.value.url,\n 540:           createdAt: result.value.createdAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":539,"message":"Unsafe assignment of an error typed value","snippet":"url: result.value.url,","context":" 537:           title: result.value.title,\n 538:           prompt: result.value.content,\n>539:           url: result.value.url,\n 540:           createdAt: result.value.createdAt,\n 541:           updatedAt: result.value.updatedAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":539,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"url: result.value.url,","context":" 537:           title: result.value.title,\n 538:           prompt: result.value.content,\n>539:           url: result.value.url,\n 540:           createdAt: result.value.createdAt,\n 541:           updatedAt: result.value.updatedAt,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":540,"message":"Unsafe assignment of an error typed value","snippet":"createdAt: result.value.createdAt,","context":" 538:           prompt: result.value.content,\n 539:           url: result.value.url,\n>540:           createdAt: result.value.createdAt,\n 541:           updatedAt: result.value.updatedAt,\n 542:         },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":540,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"createdAt: result.value.createdAt,","context":" 538:           prompt: result.value.content,\n 539:           url: result.value.url,\n>540:           createdAt: result.value.createdAt,\n 541:           updatedAt: result.value.updatedAt,\n 542:         },"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":541,"message":"Unsafe assignment of an error typed value","snippet":"updatedAt: result.value.updatedAt,","context":" 539:           url: result.value.url,\n 540:           createdAt: result.value.createdAt,\n>541:           updatedAt: result.value.updatedAt,\n 542:         },\n 543:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":541,"message":"Unsafe member access .value on a type that cannot be resolved","snippet":"updatedAt: result.value.updatedAt,","context":" 539:           url: result.value.url,\n 540:           createdAt: result.value.createdAt,\n>541:           updatedAt: result.value.updatedAt,\n 542:         },\n 543:       });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/promptRoutes.ts","line":547,"message":"Unsafe call of an `any` typed value","snippet":"done();","context":" 545:   );\n 546: \n>547:   done();\n 548: };\n 549: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/schemas.ts","line":12,"message":"Unsafe assignment of an error typed value","snippet":"export const createPromptRequestSchema = z","context":" 10:  * - strict: rejects any additional fields not in the schema\n 11:  */\n>12: export const createPromptRequestSchema = z\n 13:   .object({\n 14:     title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/schemas.ts","line":12,"message":"Unsafe call of a type that could not be resolved","snippet":"export const createPromptRequestSchema = z","context":" 10:  * - strict: rejects any additional fields not in the schema\n 11:  */\n>12: export const createPromptRequestSchema = z\n 13:   .object({\n 14:     title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":13,"message":"Unsafe member access .object on a type that cannot be resolved","snippet":".object({","context":" 11:  */\n 12: export const createPromptRequestSchema = z\n>13:   .object({\n 14:     title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),\n 15:     prompt: z"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/schemas.ts","line":14,"message":"Unsafe assignment of an error typed value","snippet":"title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),","context":" 12: export const createPromptRequestSchema = z\n 13:   .object({\n>14:     title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),\n 15:     prompt: z\n 16:       .string()"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/schemas.ts","line":14,"message":"Unsafe call of a type that could not be resolved","snippet":"title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),","context":" 12: export const createPromptRequestSchema = z\n 13:   .object({\n>14:     title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),\n 15:     prompt: z\n 16:       .string()"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":14,"message":"Unsafe member access .string on a type that cannot be resolved","snippet":"title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),","context":" 12: export const createPromptRequestSchema = z\n 13:   .object({\n>14:     title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),\n 15:     prompt: z\n 16:       .string()"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/schemas.ts","line":15,"message":"Unsafe assignment of an error typed value","snippet":"prompt: z","context":" 13:   .object({\n 14:     title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),\n>15:     prompt: z\n 16:       .string()\n 17:       .min(1, 'prompt is required')"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/schemas.ts","line":15,"message":"Unsafe call of a type that could not be resolved","snippet":"prompt: z","context":" 13:   .object({\n 14:     title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),\n>15:     prompt: z\n 16:       .string()\n 17:       .min(1, 'prompt is required')"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":16,"message":"Unsafe member access .string on a type that cannot be resolved","snippet":".string()","context":" 14:     title: z.string().min(1, 'title is required').max(200, 'title must be at most 200 characters'),\n 15:     prompt: z\n>16:       .string()\n 17:       .min(1, 'prompt is required')\n 18:       .max(100000, 'prompt must be at most 100,000 characters'),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":17,"message":"Unsafe member access .min on a type that cannot be resolved","snippet":".min(1, 'prompt is required')","context":" 15:     prompt: z\n 16:       .string()\n>17:       .min(1, 'prompt is required')\n 18:       .max(100000, 'prompt must be at most 100,000 characters'),\n 19:   })"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":18,"message":"Unsafe member access .max on a type that cannot be resolved","snippet":".max(100000, 'prompt must be at most 100,000 characters'),","context":" 16:       .string()\n 17:       .min(1, 'prompt is required')\n>18:       .max(100000, 'prompt must be at most 100,000 characters'),\n 19:   })\n 20:   .strict();"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":20,"message":"Unsafe member access .strict on a type that cannot be resolved","snippet":".strict();","context":" 18:       .max(100000, 'prompt must be at most 100,000 characters'),\n 19:   })\n>20:   .strict();\n 21: \n 22: export type CreatePromptRequest = z.infer<typeof createPromptRequestSchema>;"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/schemas.ts","line":29,"message":"Unsafe assignment of an error typed value","snippet":"export const updatePromptRequestSchema = z","context":" 27:  * At least one of title or prompt must be provided.\n 28:  */\n>29: export const updatePromptRequestSchema = z\n 30:   .object({\n 31:     title: z"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/schemas.ts","line":29,"message":"Unsafe call of a type that could not be resolved","snippet":"export const updatePromptRequestSchema = z","context":" 27:  * At least one of title or prompt must be provided.\n 28:  */\n>29: export const updatePromptRequestSchema = z\n 30:   .object({\n 31:     title: z"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":30,"message":"Unsafe member access .object on a type that cannot be resolved","snippet":".object({","context":" 28:  */\n 29: export const updatePromptRequestSchema = z\n>30:   .object({\n 31:     title: z\n 32:       .string()"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/schemas.ts","line":31,"message":"Unsafe assignment of an error typed value","snippet":"title: z","context":" 29: export const updatePromptRequestSchema = z\n 30:   .object({\n>31:     title: z\n 32:       .string()\n 33:       .min(1, 'title cannot be empty')"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/schemas.ts","line":31,"message":"Unsafe call of a type that could not be resolved","snippet":"title: z","context":" 29: export const updatePromptRequestSchema = z\n 30:   .object({\n>31:     title: z\n 32:       .string()\n 33:       .min(1, 'title cannot be empty')"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":32,"message":"Unsafe member access .string on a type that cannot be resolved","snippet":".string()","context":" 30:   .object({\n 31:     title: z\n>32:       .string()\n 33:       .min(1, 'title cannot be empty')\n 34:       .max(200, 'title must be at most 200 characters')"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":33,"message":"Unsafe member access .min on a type that cannot be resolved","snippet":".min(1, 'title cannot be empty')","context":" 31:     title: z\n 32:       .string()\n>33:       .min(1, 'title cannot be empty')\n 34:       .max(200, 'title must be at most 200 characters')\n 35:       .optional(),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":34,"message":"Unsafe member access .max on a type that cannot be resolved","snippet":".max(200, 'title must be at most 200 characters')","context":" 32:       .string()\n 33:       .min(1, 'title cannot be empty')\n>34:       .max(200, 'title must be at most 200 characters')\n 35:       .optional(),\n 36:     prompt: z"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":35,"message":"Unsafe member access .optional on a type that cannot be resolved","snippet":".optional(),","context":" 33:       .min(1, 'title cannot be empty')\n 34:       .max(200, 'title must be at most 200 characters')\n>35:       .optional(),\n 36:     prompt: z\n 37:       .string()"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/routes/schemas.ts","line":36,"message":"Unsafe assignment of an error typed value","snippet":"prompt: z","context":" 34:       .max(200, 'title must be at most 200 characters')\n 35:       .optional(),\n>36:     prompt: z\n 37:       .string()\n 38:       .min(1, 'prompt cannot be empty')"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/routes/schemas.ts","line":36,"message":"Unsafe call of a type that could not be resolved","snippet":"prompt: z","context":" 34:       .max(200, 'title must be at most 200 characters')\n 35:       .optional(),\n>36:     prompt: z\n 37:       .string()\n 38:       .min(1, 'prompt cannot be empty')"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":37,"message":"Unsafe member access .string on a type that cannot be resolved","snippet":".string()","context":" 35:       .optional(),\n 36:     prompt: z\n>37:       .string()\n 38:       .min(1, 'prompt cannot be empty')\n 39:       .max(100000, 'prompt must be at most 100,000 characters')"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":38,"message":"Unsafe member access .min on a type that cannot be resolved","snippet":".min(1, 'prompt cannot be empty')","context":" 36:     prompt: z\n 37:       .string()\n>38:       .min(1, 'prompt cannot be empty')\n 39:       .max(100000, 'prompt must be at most 100,000 characters')\n 40:       .optional(),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":39,"message":"Unsafe member access .max on a type that cannot be resolved","snippet":".max(100000, 'prompt must be at most 100,000 characters')","context":" 37:       .string()\n 38:       .min(1, 'prompt cannot be empty')\n>39:       .max(100000, 'prompt must be at most 100,000 characters')\n 40:       .optional(),\n 41:   })"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":40,"message":"Unsafe member access .optional on a type that cannot be resolved","snippet":".optional(),","context":" 38:       .min(1, 'prompt cannot be empty')\n 39:       .max(100000, 'prompt must be at most 100,000 characters')\n>40:       .optional(),\n 41:   })\n 42:   .strict()"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":42,"message":"Unsafe member access .strict on a type that cannot be resolved","snippet":".strict()","context":" 40:       .optional(),\n 41:   })\n>42:   .strict()\n 43:   .refine((data) => data.title !== undefined || data.prompt !== undefined, {\n 44:     message: 'at least one of title or prompt must be provided',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/routes/schemas.ts","line":43,"message":"Unsafe member access .refine on a type that cannot be resolved","snippet":".refine((data) => data.title !== undefined || data.prompt !== undefined, {","context":" 41:   })\n 42:   .strict()\n>43:   .refine((data) => data.title !== undefined || data.prompt !== undefined, {\n 44:     message: 'at least one of title or prompt must be provided',\n 45:     path: [],"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/server.ts","line":254,"message":"Unsafe assignment of an error typed value","snippet":"const app = Fastify({","context":" 252: \n 253: export async function buildServer(): Promise<FastifyInstance> {\n>254:   const app = Fastify({\n 255:     logger:\n 256:       process.env['NODE_ENV'] === 'test'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":254,"message":"Unsafe call of a type that could not be resolved","snippet":"const app = Fastify({","context":" 252: \n 253: export async function buildServer(): Promise<FastifyInstance> {\n>254:   const app = Fastify({\n 255:     logger:\n 256:       process.env['NODE_ENV'] === 'test'"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/server.ts","line":260,"message":"Unsafe assignment of an error typed value","snippet":"stream: createSentryStream(","context":" 258:         : {\n 259:             level: process.env['LOG_LEVEL'] ?? 'info',\n>260:             stream: createSentryStream(\n 261:               pino.multistream([\n 262:                 pino.destination({ dest: 1, sync: false }),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":260,"message":"Unsafe call of a type that could not be resolved","snippet":"stream: createSentryStream(","context":" 258:         : {\n 259:             level: process.env['LOG_LEVEL'] ?? 'info',\n>260:             stream: createSentryStream(\n 261:               pino.multistream([\n 262:                 pino.destination({ dest: 1, sync: false }),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":261,"message":"Unsafe call of a type that could not be resolved","snippet":"pino.multistream([","context":" 259:             level: process.env['LOG_LEVEL'] ?? 'info',\n 260:             stream: createSentryStream(\n>261:               pino.multistream([\n 262:                 pino.destination({ dest: 1, sync: false }),\n 263:               ])"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":261,"message":"Unsafe member access .multistream on a type that cannot be resolved","snippet":"pino.multistream([","context":" 259:             level: process.env['LOG_LEVEL'] ?? 'info',\n 260:             stream: createSentryStream(\n>261:               pino.multistream([\n 262:                 pino.destination({ dest: 1, sync: false }),\n 263:               ])"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":262,"message":"Unsafe call of a type that could not be resolved","snippet":"pino.destination({ dest: 1, sync: false }),","context":" 260:             stream: createSentryStream(\n 261:               pino.multistream([\n>262:                 pino.destination({ dest: 1, sync: false }),\n 263:               ])\n 264:             ),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":262,"message":"Unsafe member access .destination on a type that cannot be resolved","snippet":"pino.destination({ dest: 1, sync: false }),","context":" 260:             stream: createSentryStream(\n 261:               pino.multistream([\n>262:                 pino.destination({ dest: 1, sync: false }),\n 263:               ])\n 264:             ),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":275,"message":"Unsafe call of a type that could not be resolved","snippet":"registerQuietHealthCheckLogging(app);","context":" 273: \n 274:   // Register quiet health check logging (skips /health endpoint logs)\n>275:   registerQuietHealthCheckLogging(app);\n 276: \n 277:   // Create NotionLogger adapter from Fastify logger"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":280,"message":"Unsafe call of a type that could not be resolved","snippet":"app.log.info({ notionApi: true, ...data }, msg);","context":" 278:   const notionLogger: NotionLogger = {\n 279:     info: (msg, data) => {\n>280:       app.log.info({ notionApi: true, ...data }, msg);\n 281:     },\n 282:     warn: (msg, data) => {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":280,"message":"Unsafe member access .log on a type that cannot be resolved","snippet":"app.log.info({ notionApi: true, ...data }, msg);","context":" 278:   const notionLogger: NotionLogger = {\n 279:     info: (msg, data) => {\n>280:       app.log.info({ notionApi: true, ...data }, msg);\n 281:     },\n 282:     warn: (msg, data) => {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":283,"message":"Unsafe call of a type that could not be resolved","snippet":"app.log.warn({ notionApi: true, ...data }, msg);","context":" 281:     },\n 282:     warn: (msg, data) => {\n>283:       app.log.warn({ notionApi: true, ...data }, msg);\n 284:     },\n 285:     error: (msg, data) => {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":283,"message":"Unsafe member access .log on a type that cannot be resolved","snippet":"app.log.warn({ notionApi: true, ...data }, msg);","context":" 281:     },\n 282:     warn: (msg, data) => {\n>283:       app.log.warn({ notionApi: true, ...data }, msg);\n 284:     },\n 285:     error: (msg, data) => {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":286,"message":"Unsafe call of a type that could not be resolved","snippet":"app.log.error({ notionApi: true, ...data }, msg);","context":" 284:     },\n 285:     error: (msg, data) => {\n>286:       app.log.error({ notionApi: true, ...data }, msg);\n 287:     },\n 288:   };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":286,"message":"Unsafe member access .log on a type that cannot be resolved","snippet":"app.log.error({ notionApi: true, ...data }, msg);","context":" 284:     },\n 285:     error: (msg, data) => {\n>286:       app.log.error({ notionApi: true, ...data }, msg);\n 287:     },\n 288:   };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":294,"message":"Unsafe call of a type that could not be resolved","snippet":"await app.register(fastifyCors, {","context":" 292: \n 293:   // CORS for cross-origin API access (api-docs-hub, Swagger UI)\n>294:   await app.register(fastifyCors, {\n 295:     origin: true,\n 296:     methods: ['GET', 'POST', 'PATCH', 'PUT', 'DELETE', 'HEAD', 'OPTIONS'],"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":294,"message":"Unsafe member access .register on a type that cannot be resolved","snippet":"await app.register(fastifyCors, {","context":" 292: \n 293:   // CORS for cross-origin API access (api-docs-hub, Swagger UI)\n>294:   await app.register(fastifyCors, {\n 295:     origin: true,\n 296:     methods: ['GET', 'POST', 'PATCH', 'PUT', 'DELETE', 'HEAD', 'OPTIONS'],"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":299,"message":"Unsafe call of a type that could not be resolved","snippet":"await app.register(intexuraFastifyPlugin);","context":" 297:   });\n 298: \n>299:   await app.register(intexuraFastifyPlugin);\n 300:   await app.register(fastifyAuthPlugin);\n 301: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":299,"message":"Unsafe member access .register on a type that cannot be resolved","snippet":"await app.register(intexuraFastifyPlugin);","context":" 297:   });\n 298: \n>299:   await app.register(intexuraFastifyPlugin);\n 300:   await app.register(fastifyAuthPlugin);\n 301: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":300,"message":"Unsafe call of a type that could not be resolved","snippet":"await app.register(fastifyAuthPlugin);","context":" 298: \n 299:   await app.register(intexuraFastifyPlugin);\n>300:   await app.register(fastifyAuthPlugin);\n 301: \n 302:   setupSentryErrorHandler(app as unknown as FastifyInstance);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":300,"message":"Unsafe member access .register on a type that cannot be resolved","snippet":"await app.register(fastifyAuthPlugin);","context":" 298: \n 299:   await app.register(intexuraFastifyPlugin);\n>300:   await app.register(fastifyAuthPlugin);\n 301: \n 302:   setupSentryErrorHandler(app as unknown as FastifyInstance);"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":302,"message":"Unsafe call of a type that could not be resolved","snippet":"setupSentryErrorHandler(app as unknown as FastifyInstance);","context":" 300:   await app.register(fastifyAuthPlugin);\n 301: \n>302:   setupSentryErrorHandler(app as unknown as FastifyInstance);\n 303: \n 304:   // Register core schemas for $ref usage in routes (Diagnostics, ErrorCode, ErrorBody)"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":305,"message":"Unsafe call of a type that could not be resolved","snippet":"registerCoreSchemas(app);","context":" 303: \n 304:   // Register core schemas for $ref usage in routes (Diagnostics, ErrorCode, ErrorBody)\n>305:   registerCoreSchemas(app);\n 306: \n 307:   // Register service-specific schemas"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":308,"message":"Unsafe call of a type that could not be resolved","snippet":"app.addSchema({","context":" 306: \n 307:   // Register service-specific schemas\n>308:   app.addSchema({\n 309:     $id: 'MainPageResponse',\n 310:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":308,"message":"Unsafe member access .addSchema on a type that cannot be resolved","snippet":"app.addSchema({","context":" 306: \n 307:   // Register service-specific schemas\n>308:   app.addSchema({\n 309:     $id: 'MainPageResponse',\n 310:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":339,"message":"Unsafe call of a type that could not be resolved","snippet":"app.addSchema({","context":" 337: \n 338:   // Prompt API schemas\n>339:   app.addSchema({\n 340:     $id: 'Prompt',\n 341:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":339,"message":"Unsafe member access .addSchema on a type that cannot be resolved","snippet":"app.addSchema({","context":" 337: \n 338:   // Prompt API schemas\n>339:   app.addSchema({\n 340:     $id: 'Prompt',\n 341:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":353,"message":"Unsafe call of a type that could not be resolved","snippet":"app.addSchema({","context":" 351:   });\n 352: \n>353:   app.addSchema({\n 354:     $id: 'CreatePromptRequest',\n 355:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":353,"message":"Unsafe member access .addSchema on a type that cannot be resolved","snippet":"app.addSchema({","context":" 351:   });\n 352: \n>353:   app.addSchema({\n 354:     $id: 'CreatePromptRequest',\n 355:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":374,"message":"Unsafe call of a type that could not be resolved","snippet":"app.addSchema({","context":" 372:   });\n 373: \n>374:   app.addSchema({\n 375:     $id: 'UpdatePromptRequest',\n 376:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":374,"message":"Unsafe member access .addSchema on a type that cannot be resolved","snippet":"app.addSchema({","context":" 372:   });\n 373: \n>374:   app.addSchema({\n 375:     $id: 'UpdatePromptRequest',\n 376:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":395,"message":"Unsafe call of a type that could not be resolved","snippet":"app.addSchema({","context":" 393:   });\n 394: \n>395:   app.addSchema({\n 396:     $id: 'PromptResponse',\n 397:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":395,"message":"Unsafe member access .addSchema on a type that cannot be resolved","snippet":"app.addSchema({","context":" 393:   });\n 394: \n>395:   app.addSchema({\n 396:     $id: 'PromptResponse',\n 397:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":404,"message":"Unsafe call of a type that could not be resolved","snippet":"app.addSchema({","context":" 402:   });\n 403: \n>404:   app.addSchema({\n 405:     $id: 'PromptsListResponse',\n 406:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":404,"message":"Unsafe member access .addSchema on a type that cannot be resolved","snippet":"app.addSchema({","context":" 402:   });\n 403: \n>404:   app.addSchema({\n 405:     $id: 'PromptsListResponse',\n 406:     type: 'object',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":416,"message":"Unsafe call of a type that could not be resolved","snippet":"await app.register(fastifySwagger, buildOpenApiOptions());","context":" 414:   });\n 415: \n>416:   await app.register(fastifySwagger, buildOpenApiOptions());\n 417:   await app.register(fastifySwaggerUi, {\n 418:     routePrefix: '/docs',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":416,"message":"Unsafe member access .register on a type that cannot be resolved","snippet":"await app.register(fastifySwagger, buildOpenApiOptions());","context":" 414:   });\n 415: \n>416:   await app.register(fastifySwagger, buildOpenApiOptions());\n 417:   await app.register(fastifySwaggerUi, {\n 418:     routePrefix: '/docs',"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":417,"message":"Unsafe call of a type that could not be resolved","snippet":"await app.register(fastifySwaggerUi, {","context":" 415: \n 416:   await app.register(fastifySwagger, buildOpenApiOptions());\n>417:   await app.register(fastifySwaggerUi, {\n 418:     routePrefix: '/docs',\n 419:   });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":417,"message":"Unsafe member access .register on a type that cannot be resolved","snippet":"await app.register(fastifySwaggerUi, {","context":" 415: \n 416:   await app.register(fastifySwagger, buildOpenApiOptions());\n>417:   await app.register(fastifySwaggerUi, {\n 418:     routePrefix: '/docs',\n 419:   });"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":422,"message":"Unsafe call of a type that could not be resolved","snippet":"await app.register(promptVaultRoutes);","context":" 420: \n 421:   // Register prompt vault routes\n>422:   await app.register(promptVaultRoutes);\n 423: \n 424:   // OpenAPI JSON endpoint"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":422,"message":"Unsafe member access .register on a type that cannot be resolved","snippet":"await app.register(promptVaultRoutes);","context":" 420: \n 421:   // Register prompt vault routes\n>422:   await app.register(promptVaultRoutes);\n 423: \n 424:   // OpenAPI JSON endpoint"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":425,"message":"Unsafe call of a type that could not be resolved","snippet":"app.get(","context":" 423: \n 424:   // OpenAPI JSON endpoint\n>425:   app.get(\n 426:     '/openapi.json',\n 427:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":425,"message":"Unsafe member access .get on a type that cannot be resolved","snippet":"app.get(","context":" 423: \n 424:   // OpenAPI JSON endpoint\n>425:   app.get(\n 426:     '/openapi.json',\n 427:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/server.ts","line":435,"message":"Unsafe assignment of an error typed value","snippet":"const spec = app.swagger();","context":" 433:     },\n 434:     async (_req, reply) => {\n>435:       const spec = app.swagger();\n 436:       return await reply.type('application/json').send(spec);\n 437:     }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":435,"message":"Unsafe call of a type that could not be resolved","snippet":"const spec = app.swagger();","context":" 433:     },\n 434:     async (_req, reply) => {\n>435:       const spec = app.swagger();\n 436:       return await reply.type('application/json').send(spec);\n 437:     }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":435,"message":"Unsafe member access .swagger on a type that cannot be resolved","snippet":"const spec = app.swagger();","context":" 433:     },\n 434:     async (_req, reply) => {\n>435:       const spec = app.swagger();\n 436:       return await reply.type('application/json').send(spec);\n 437:     }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/server.ts","line":436,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.type('application/json').send(spec);","context":" 434:     async (_req, reply) => {\n 435:       const spec = app.swagger();\n>436:       return await reply.type('application/json').send(spec);\n 437:     }\n 438:   );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":436,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.type('application/json').send(spec);","context":" 434:     async (_req, reply) => {\n 435:       const spec = app.swagger();\n>436:       return await reply.type('application/json').send(spec);\n 437:     }\n 438:   );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":436,"message":"Unsafe member access .type on an `any` value","snippet":"return await reply.type('application/json').send(spec);","context":" 434:     async (_req, reply) => {\n 435:       const spec = app.swagger();\n>436:       return await reply.type('application/json').send(spec);\n 437:     }\n 438:   );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":441,"message":"Unsafe call of a type that could not be resolved","snippet":"app.get(","context":" 439: \n 440:   // Health endpoint (NOT wrapped in envelope per api-contracts.md)\n>441:   app.get(\n 442:     '/health',\n 443:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":441,"message":"Unsafe member access .get on a type that cannot be resolved","snippet":"app.get(","context":" 439: \n 440:   // Health endpoint (NOT wrapped in envelope per api-contracts.md)\n>441:   app.get(\n 442:     '/health',\n 443:     {"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/server.ts","line":479,"message":"Unsafe assignment of an error typed value","snippet":"const firestoreCheck = await checkFirestore();","context":" 477:     async (_req, reply) => {\n 478:       const started = Date.now();\n>479:       const firestoreCheck = await checkFirestore();\n 480:       const checks: HealthCheck[] = [\n 481:         checkSecrets(REQUIRED_SECRETS),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":479,"message":"Unsafe call of a type that could not be resolved","snippet":"const firestoreCheck = await checkFirestore();","context":" 477:     async (_req, reply) => {\n 478:       const started = Date.now();\n>479:       const firestoreCheck = await checkFirestore();\n 480:       const checks: HealthCheck[] = [\n 481:         checkSecrets(REQUIRED_SECRETS),"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":481,"message":"Unsafe call of a type that could not be resolved","snippet":"checkSecrets(REQUIRED_SECRETS),","context":" 479:       const firestoreCheck = await checkFirestore();\n 480:       const checks: HealthCheck[] = [\n>481:         checkSecrets(REQUIRED_SECRETS),\n 482:         checkNotionSdk(),\n 483:         firestoreCheck,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":482,"message":"Unsafe call of a type that could not be resolved","snippet":"checkNotionSdk(),","context":" 480:       const checks: HealthCheck[] = [\n 481:         checkSecrets(REQUIRED_SECRETS),\n>482:         checkNotionSdk(),\n 483:         firestoreCheck,\n 484:       ];"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/server.ts","line":486,"message":"Unsafe assignment of an error typed value","snippet":"const response = buildHealthResponse(SERVICE_NAME, SERVICE_VERSION, checks);","context":" 484:       ];\n 485: \n>486:       const response = buildHealthResponse(SERVICE_NAME, SERVICE_VERSION, checks);\n 487: \n 488:       void reply.header('x-health-duration-ms', String(Date.now() - started));"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":486,"message":"Unsafe call of a type that could not be resolved","snippet":"const response = buildHealthResponse(SERVICE_NAME, SERVICE_VERSION, checks);","context":" 484:       ];\n 485: \n>486:       const response = buildHealthResponse(SERVICE_NAME, SERVICE_VERSION, checks);\n 487: \n 488:       void reply.header('x-health-duration-ms', String(Date.now() - started));"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":488,"message":"Unsafe call of an `any` typed value","snippet":"void reply.header('x-health-duration-ms', String(Date.now() - started));","context":" 486:       const response = buildHealthResponse(SERVICE_NAME, SERVICE_VERSION, checks);\n 487: \n>488:       void reply.header('x-health-duration-ms', String(Date.now() - started));\n 489:       return await reply.type('application/json').send(response);\n 490:     }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":488,"message":"Unsafe member access .header on an `any` value","snippet":"void reply.header('x-health-duration-ms', String(Date.now() - started));","context":" 486:       const response = buildHealthResponse(SERVICE_NAME, SERVICE_VERSION, checks);\n 487: \n>488:       void reply.header('x-health-duration-ms', String(Date.now() - started));\n 489:       return await reply.type('application/json').send(response);\n 490:     }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/server.ts","line":489,"message":"Unsafe return of a value of type `any`","snippet":"return await reply.type('application/json').send(response);","context":" 487: \n 488:       void reply.header('x-health-duration-ms', String(Date.now() - started));\n>489:       return await reply.type('application/json').send(response);\n 490:     }\n 491:   );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/server.ts","line":489,"message":"Unsafe call of an `any` typed value","snippet":"return await reply.type('application/json').send(response);","context":" 487: \n 488:       void reply.header('x-health-duration-ms', String(Date.now() - started));\n>489:       return await reply.type('application/json').send(response);\n 490:     }\n 491:   );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-member-access","file":"apps/promptvault-service/src/server.ts","line":489,"message":"Unsafe member access .type on an `any` value","snippet":"return await reply.type('application/json').send(response);","context":" 487: \n 488:       void reply.header('x-health-duration-ms', String(Date.now() - started));\n>489:       return await reply.type('application/json').send(response);\n 490:     }\n 491:   );"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/services.ts","line":13,"message":"Unsafe assignment of an error typed value","snippet":"const defaultNotionLogger: NotionLogger = pino({ level: 'silent' });","context":" 11: } from '@intexuraos/infra-notion';\n 12: \n>13: const defaultNotionLogger: NotionLogger = pino({ level: 'silent' });\n 14: import {\n 15:   createNotionServiceClient,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/services.ts","line":13,"message":"Unsafe call of a type that could not be resolved","snippet":"const defaultNotionLogger: NotionLogger = pino({ level: 'silent' });","context":" 11: } from '@intexuraos/infra-notion';\n 12: \n>13: const defaultNotionLogger: NotionLogger = pino({ level: 'silent' });\n 14: import {\n 15:   createNotionServiceClient,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/services.ts","line":109,"message":"Unsafe return of a value of type error","snippet":"getPromptVaultPageId: async (userId) => await getPromptVaultPageId(userId),","context":" 107: function createPromptVaultSettingsAdapter(): PromptVaultSettingsPort {\n 108:   return {\n>109:     getPromptVaultPageId: async (userId) => await getPromptVaultPageId(userId),\n 110:     savePromptVaultPageId: async (userId, pageId) => await savePromptVaultPageId(userId, pageId),\n 111:   };"},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/services.ts","line":110,"message":"Unsafe return of a value of type error","snippet":"savePromptVaultPageId: async (userId, pageId) => await savePromptVaultPageId(userId, pageId),","context":" 108:   return {\n 109:     getPromptVaultPageId: async (userId) => await getPromptVaultPageId(userId),\n>110:     savePromptVaultPageId: async (userId, pageId) => await savePromptVaultPageId(userId, pageId),\n 111:   };\n 112: }"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/services.ts","line":118,"message":"Unsafe assignment of an error typed value","snippet":"export function getServices(logger: NotionLogger = defaultNotionLogger): ServiceContainer {","context":" 116:  * Call this early in server startup.\n 117:  */\n>118: export function getServices(logger: NotionLogger = defaultNotionLogger): ServiceContainer {\n 119:   if (container !== null) return container;\n 120: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/services.ts","line":140,"message":"Unsafe return of a value of type error","snippet":"getPageWithPreview: async (token, pageId) => await getPageWithPreviewFn(token, pageId, logger),","context":" 138: \n 139:   const notionPageClient: NotionPageClient = {\n>140:     getPageWithPreview: async (token, pageId) => await getPageWithPreviewFn(token, pageId, logger),\n 141:   };\n 142: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/services.ts","line":140,"message":"Unsafe call of a type that could not be resolved","snippet":"getPageWithPreview: async (token, pageId) => await getPageWithPreviewFn(token, pageId, logger),","context":" 138: \n 139:   const notionPageClient: NotionPageClient = {\n>140:     getPageWithPreview: async (token, pageId) => await getPageWithPreviewFn(token, pageId, logger),\n 141:   };\n 142: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/services.ts","line":144,"message":"Unsafe assignment of an error typed value","snippet":"logger,","context":" 142: \n 143:   container = {\n>144:     logger,\n 145:     notionServiceClient,\n 146:     notionPageClient,"},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/services.ts","line":158,"message":"Unsafe assignment of an error typed value","snippet":"const logger = services.logger ?? defaultNotionLogger;","context":" 156:  */\n 157: export function setServices(services: Partial<ServiceContainer>): void {\n>158:   const logger = services.logger ?? defaultNotionLogger;\n 159: \n 160:   const notionServiceClient ="},{"type":"lint","code":"@typescript-eslint/no-unsafe-return","file":"apps/promptvault-service/src/services.ts","line":170,"message":"Unsafe return of a value of type error","snippet":"getPageWithPreview: async (token, pageId) => await getPageWithPreviewFn(token, pageId, logger),","context":" 168: \n 169:   const notionPageClient: NotionPageClient = services.notionPageClient ?? {\n>170:     getPageWithPreview: async (token, pageId) => await getPageWithPreviewFn(token, pageId, logger),\n 171:   };\n 172: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-call","file":"apps/promptvault-service/src/services.ts","line":170,"message":"Unsafe call of a type that could not be resolved","snippet":"getPageWithPreview: async (token, pageId) => await getPageWithPreviewFn(token, pageId, logger),","context":" 168: \n 169:   const notionPageClient: NotionPageClient = services.notionPageClient ?? {\n>170:     getPageWithPreview: async (token, pageId) => await getPageWithPreviewFn(token, pageId, logger),\n 171:   };\n 172: "},{"type":"lint","code":"@typescript-eslint/no-unsafe-assignment","file":"apps/promptvault-service/src/services.ts","line":174,"message":"Unsafe assignment of an error typed value","snippet":"logger,","context":" 172: \n 173:   container = {\n>174:     logger,\n 175:     notionServiceClient,\n 176:     notionPageClient,"}]}
