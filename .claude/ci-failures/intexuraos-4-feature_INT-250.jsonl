{"ts":"2026-01-25T01:31:36.284Z","project":"intexuraos-4","branch":"feature/INT-250","runNumber":1,"passed":false,"durationMs":63988,"failureCount":7,"failures":[{"type":"typecheck","code":"TS2741","file":"apps/code-agent/src/__tests__/helpers/mockServices.ts","line":15,"message":"Property 'workerDiscovery' is missing in type '{ firestore: Firestore; logger: pino.Logger<never, boolean>; codeTaskRepo: CodeTaskRepository; }' but required in type 'ServiceContainer'.","snippet":"const container: ServiceContainer = {","context":" 13:   const logger = pino({ name: 'test' });\n 14: \n>15:   const container: ServiceContainer = {\n 16:     firestore: fakeFirestore,\n 17:     logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/openapi-contract.test.ts","line":22,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 20:     const logger = pino({ name: 'test' }) as unknown as Logger;\n 21: \n>22:     setServices({\n 23:       firestore: fakeFirestore,\n 24:       logger,"},{"type":"typecheck","code":"TS2345","file":"apps/code-agent/src/__tests__/routes/codeRoutes.test.ts","line":34,"message":"Argument of type '{ firestore: Firestore; logger: Logger; codeTaskRepo: CodeTaskRepository; }' is not assignable to parameter of type 'ServiceContainer'.","snippet":"setServices({","context":" 32:     });\n 33: \n>34:     setServices({\n 35:       firestore: fakeFirestore as unknown as Firestore,\n 36:       logger,"},{"type":"typecheck","code":"TS2304","file":"apps/code-agent/src/domain/services/workerDiscovery.ts","line":14,"message":"Cannot find name 'Logger'.","snippet":"logger: Logger;","context":" 12:  */\n 13: export interface WorkerDiscoveryDeps {\n>14:   logger: Logger;\n 15: }\n 16: "},{"type":"typecheck","code":"TS2304","file":"apps/code-agent/src/domain/services/workerDiscovery.ts","line":30,"message":"Cannot find name 'WorkerError'.","snippet":"checkHealth(location: WorkerLocation): Promise<Result<WorkerHealth, WorkerError>>;","context":" 28:    * @returns Worker health status or error\n 29:    */\n>30:   checkHealth(location: WorkerLocation): Promise<Result<WorkerHealth, WorkerError>>;\n 31: \n 32:   /**"},{"type":"typecheck","code":"TS2304","file":"apps/code-agent/src/domain/services/workerDiscovery.ts","line":44,"message":"Cannot find name 'WorkerError'.","snippet":"findAvailableWorker(): Promise<Result<WorkerConfig, WorkerError>>;","context":" 42:    * @returns Available worker config or error\n 43:    */\n>44:   findAvailableWorker(): Promise<Result<WorkerConfig, WorkerError>>;\n 45: }\n 46: "},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-25T01:34:18.081Z","project":"intexuraos-4","branch":"feature/INT-250","runNumber":2,"passed":false,"durationMs":59164,"failureCount":2,"failures":[{"type":"typecheck","code":"TS1128","file":"apps/code-agent/src/__tests__/openapi-contract.test.ts","line":162,"message":"Declaration or statement expected.","snippet":"});","context":" 160:     expect(cancelEndpoint.operationId).toBe('cancelCodeTask');\n 161:   });\n>162: });\n 163: "},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-25T01:35:54.536Z","project":"intexuraos-4","branch":"feature/INT-250","runNumber":3,"passed":false,"durationMs":54295,"failureCount":5,"failures":[{"type":"lint","code":"@typescript-eslint/consistent-generic-constructors","file":"apps/code-agent/src/infra/services/workerDiscoveryImpl.ts","line":64,"message":"The generic type arguments should be specified as part of the constructor type arguments","snippet":"private healthCache: Map<WorkerLocation, { health: WorkerHealth; expiresAt: number }> = new Map();","context":" 62:   private readonly logger: WorkerDiscoveryDeps['logger'];\n 63:   private readonly workers: WorkerConfig[];\n>64:   private healthCache: Map<WorkerLocation, { health: WorkerHealth; expiresAt: number }> = new Map();\n 65:   private readonly CACHE_TTL_MS = 5000; // 5 seconds\n 66: "},{"type":"lint","code":"@typescript-eslint/restrict-template-expressions","file":"apps/code-agent/src/infra/services/workerDiscoveryImpl.ts","line":111,"message":"Invalid type \"number\" of template literal expression","snippet":"message: `Health check failed with HTTP ${response.status}`,","context":" 109:         return err({\n 110:           code: 'health_check_failed',\n>111:           message: `Health check failed with HTTP ${response.status}`,\n 112:         });\n 113:       }"},{"type":"lint","code":"no-restricted-syntax","file":"apps/code-agent/src/infra/services/workerDiscoveryImpl.ts","line":157,"message":"Use getErrorMessage(error, fallback) from @intexuraos/common-core instead of inline error extraction","snippet":"message: `Network error: ${error instanceof Error ? error.message : String(error)}`,","context":" 155:       return err({\n 156:         code: 'network_error',\n>157:         message: `Network error: ${error instanceof Error ? error.message : String(error)}`,\n 158:       });\n 159:     }"},{"type":"lint","code":"@typescript-eslint/strict-boolean-expressions","file":"apps/code-agent/src/infra/services/workerDiscoveryImpl.ts","line":205,"message":"Unexpected nullable string value in conditional. Please handle the nullish/empty cases explicitly","snippet":"if (!codeWorkersEnv) {","context":" 203: ): WorkerDiscoveryService {\n 204:   const codeWorkersEnv = process.env['INTEXURAOS_CODE_WORKERS'];\n>205:   if (!codeWorkersEnv) {\n 206:     throw new Error('INTEXURAOS_CODE_WORKERS environment variable is required');\n 207:   }"},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
