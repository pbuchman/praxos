{"ts":"2026-01-26T03:33:36.357Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":1,"passed":false,"durationMs":16057,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T03:45:42.055Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":2,"passed":false,"durationMs":69061,"failureCount":3,"failures":[{"type":"lint","code":"@typescript-eslint/no-unused-vars","file":"workers/orchestrator/src/__tests__/log-forwarder.test.ts","line":219,"message":"'mockSequence' is assigned a value but never used. Allowed unused vars must match /^_/u","snippet":"let mockSequence = 0;","context":" 217: \n 218:     it('should drop chunks when max total size is exceeded', async () => {\n>219:       let mockSequence = 0;\n 220:       // Create a mock firestore that simulates hitting the 4MB limit\n 221:       const sizeLimitFirestore = {"},{"type":"lint","code":"@typescript-eslint/no-unused-vars","file":"workers/orchestrator/src/__tests__/state-persistence.test.ts","line":1,"message":"'beforeEach' is defined but never used. Allowed unused vars must match /^_/u","snippet":"import { describe, it, expect, afterEach, vi, beforeEach } from 'vitest';","context":">1: import { describe, it, expect, afterEach, vi, beforeEach } from 'vitest';\n 2: import { mkdtempSync, rmSync, readFileSync, existsSync } from 'node:fs';\n 3: import { tmpdir } from 'node:os';"},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T03:49:23.814Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":3,"passed":false,"durationMs":142650,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T03:56:31.503Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":4,"passed":false,"durationMs":141411,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T03:59:19.482Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":5,"passed":false,"durationMs":159645,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T05:37:06.409Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","workspace":"orchestrator","runNumber":6,"passed":false,"durationMs":2976,"failureCount":38,"failures":[{"type":"typecheck","code":"TS2307","file":"workers/orchestrator/src/__tests__/log-forwarder.test.ts","line":6,"message":"Cannot find module '@intexuraos/infra-logging' or its corresponding type declarations.","snippet":"import type { Logger } from '@intexuraos/infra-logging';","context":" 4: import { join } from 'node:path';\n 5: import { LogForwarder } from '../services/log-forwarder.js';\n>6: import type { Logger } from '@intexuraos/infra-logging';\n 7: \n 8: describe('LogForwarder', () => {"},{"type":"typecheck","code":"TS2345","file":"workers/orchestrator/src/__tests__/log-forwarder.test.ts","line":77,"message":"Argument of type '(resolve: () => void) => NodeJS.Timeout' is not assignable to parameter of type '(resolve: (value: unknown) => void, reject: (reason?: any) => void) => void'.","snippet":"await new Promise((resolve: () => void) => setTimeout(resolve, 200));","context":" 75: \n 76:       // Wait for polling to pick up the content\n>77:       await new Promise((resolve: () => void) => setTimeout(resolve, 200));\n 78: \n 79:       // Stop to flush buffer"},{"type":"typecheck","code":"TS2345","file":"workers/orchestrator/src/__tests__/log-forwarder.test.ts","line":118,"message":"Argument of type '(resolve: () => void) => NodeJS.Timeout' is not assignable to parameter of type '(resolve: (value: unknown) => void, reject: (reason?: any) => void) => void'.","snippet":"await new Promise((resolve: () => void) => setTimeout(resolve, 100));","context":" 116: \n 117:       // Wait for processing\n>118:       await new Promise((resolve: () => void) => setTimeout(resolve, 100));\n 119: \n 120:       // Should create multiple chunks"},{"type":"typecheck","code":"TS2345","file":"workers/orchestrator/src/__tests__/log-forwarder.test.ts","line":159,"message":"Argument of type '(resolve: () => void) => NodeJS.Timeout' is not assignable to parameter of type '(resolve: (value: unknown) => void, reject: (reason?: any) => void) => void'.","snippet":"await new Promise((resolve: () => void) => setTimeout(resolve, 200));","context":" 157:       writeFileSync(logFile, largeContent, 'utf-8');\n 158: \n>159:       await new Promise((resolve: () => void) => setTimeout(resolve, 200));\n 160: \n 161:       await forwarder.stopForwarding('task-truncate');"},{"type":"typecheck","code":"TS2322","file":"workers/orchestrator/src/__tests__/log-forwarder.test.ts","line":226,"message":"Type '(data: { taskId: string; sequence: number; content: string; }) => Promise<{ id: string; }>' is not assignable to type '() => Promise<{ id: string; }>'.","snippet":"add: async (data: { taskId: string; sequence: number; content: string }): Promise<{ id: string }> => {","context":" 224:           add: () => Promise<{ id: string }>;\n 225:         } => ({\n>226:           add: async (data: { taskId: string; sequence: number; content: string }): Promise<{ id: string }> => {\n 227:             // After sequence 500 (which is ~4MB with 8KB chunks), we're at the limit\n 228:             // But we can't easily simulate this without modifying the internal state"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/log-forwarder.test.ts","line":384,"message":"Object is possibly 'undefined'.","snippet":"expect(taskChunks[i].sequence).toBe(i);","context":" 382:       // Verify sequential numbering\n 383:       for (let i = 0; i < taskChunks.length; i++) {\n>384:         expect(taskChunks[i].sequence).toBe(i);\n 385:       }\n 386:     });"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/log-forwarder.test.ts","line":411,"message":"Object is possibly 'undefined'.","snippet":"expect(taskChunks[0].content.length).toBeLessThanOrEqual(8192);","context":" 409: \n 410:       // First chunk should be at most MAX_CHUNK_SIZE\n>411:       expect(taskChunks[0].content.length).toBeLessThanOrEqual(8192);\n 412:     });\n 413: "},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/log-forwarder.test.ts","line":435,"message":"Object is possibly 'undefined'.","snippet":"expect(taskChunks[0].content.length).toBeLessThanOrEqual(8192);","context":" 433: \n 434:       // First chunk should be at max chunk size (not at the newline)\n>435:       expect(taskChunks[0].content.length).toBeLessThanOrEqual(8192);\n 436:     });\n 437:   });"},{"type":"typecheck","code":"TS2741","file":"workers/orchestrator/src/__tests__/routes.test.ts","line":592,"message":"Property 'code' is missing in type '{ message: string; }' but required in type 'TokenError'.","snippet":"error: { message: 'Token refresh failed' },","context":" 590:       vi.mocked(tokenService.refreshToken).mockResolvedValueOnce({\n 591:         ok: false,\n>592:         error: { message: 'Token refresh failed' },\n 593:       });\n 594: "},{"type":"typecheck","code":"TS2739","file":"workers/orchestrator/src/__tests__/task-dispatcher.test.ts","line":37,"message":"Type '{ load: Mock<() => Promise<OrchestratorState>>; save: Mock<(newState: OrchestratorState) => Promise<void>>; }' is missing the following properties from type 'StatePersistence': filePath, logger, saveAtomic, detectOrphanWorktrees, emptyState","snippet":"return {","context":" 35:     };\n 36: \n>37:     return {\n 38:       load: vi.fn(\n 39:         (): Promise<OrchestratorState> => Promise.resolve(JSON.parse(JSON.stringify(state)))"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/task-dispatcher.test.ts","line":238,"message":"Object is possibly 'undefined'.","snippet":"state.tasks['test-task'].status = 'completed';","context":" 236:       // Manually mark as completed\n 237:       const state = await statePersistence.load();\n>238:       state.tasks['test-task'].status = 'completed';\n 239:       await statePersistence.save(state);\n 240: "},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/task-dispatcher.test.ts","line":484,"message":"Object is possibly 'undefined'.","snippet":"state.tasks['already-stopped-test'].status = 'completed';","context":" 482:       // Manually mark as completed\n 483:       const state = await monitorStatePersistence.load();\n>484:       state.tasks['already-stopped-test'].status = 'completed';\n 485:       await monitorStatePersistence.save(state);\n 486: "},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/task-dispatcher.test.ts","line":587,"message":"'call' is possibly 'undefined'.","snippet":"const payload = call[0]?.payload;","context":" 585:       expect(mockWebhookClient.send).toHaveBeenCalled();\n 586:       const call = vi.mocked(mockWebhookClient.send).mock.calls[0];\n>587:       const payload = call[0]?.payload;\n 588:       expect(['completed', 'failed']).toContain(payload?.status);\n 589:     });"},{"type":"typecheck","code":"TS2339","file":"workers/orchestrator/src/__tests__/task-dispatcher.test.ts","line":588,"message":"Property 'status' does not exist on type '{}'.","snippet":"expect(['completed', 'failed']).toContain(payload?.status);","context":" 586:       const call = vi.mocked(mockWebhookClient.send).mock.calls[0];\n 587:       const payload = call[0]?.payload;\n>588:       expect(['completed', 'failed']).toContain(payload?.status);\n 589:     });\n 590:   });"},{"type":"typecheck","code":"TS2345","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":57,"message":"Argument of type '[string, { timeout?: number; } | undefined]' is not assignable to parameter of type '[string, { timeout?: number; }?]'.","snippet":"calls.push([cmd, options]);","context":" 55:         stderr: string;\n 56:       }> => {\n>57:         calls.push([cmd, options]);\n 58:         return implementation(cmd, options);\n 59:       },"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":128,"message":"Object is possibly 'undefined'.","snippet":"expect(mockExec.calls[0][0]).toContain('tmux new-session -d -s cc-task-task-1');","context":" 126:       // Verify tmux new-session was called\n 127:       expect(mockExec.calls.length).toBeGreaterThan(0);\n>128:       expect(mockExec.calls[0][0]).toContain('tmux new-session -d -s cc-task-task-1');\n 129: \n 130:       // Verify log file path"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":155,"message":"Object is possibly 'undefined'.","snippet":"const call = mockExec.calls[0][0];","context":" 153: \n 154:       // Verify the command includes the Linear issue in the prompt\n>155:       const call = mockExec.calls[0][0];\n 156:       expect(call).toContain('Linear Issue: INT-123');\n 157:       expect(call).toContain('You MUST invoke: /linear INT-123');"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":217,"message":"Object is possibly 'undefined'.","snippet":"expect(mockExec.calls[0][0]).toContain('tmux send-keys -t cc-task-task-1 C-c');","context":" 215:       // Verify graceful kill sequence\n 216:       expect(mockExec.calls.length).toBeGreaterThan(0);\n>217:       expect(mockExec.calls[0][0]).toContain('tmux send-keys -t cc-task-task-1 C-c');\n 218: \n 219:       vi.useRealTimers();"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":237,"message":"Object is possibly 'undefined'.","snippet":"expect(mockExec.calls[0][0]).toContain('tmux kill-session -t cc-task-task-1');","context":" 235:       // Verify force kill was called\n 236:       expect(mockExec.calls.length).toBeGreaterThan(0);\n>237:       expect(mockExec.calls[0][0]).toContain('tmux kill-session -t cc-task-task-1');\n 238:     });\n 239: "},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":349,"message":"Object is possibly 'undefined'.","snippet":"expect(mockExec.calls[0][0]).toBe('tmux has-session -t cc-task-task-1');","context":" 347: \n 348:       expect(mockExec.calls.length).toBe(1);\n>349:       expect(mockExec.calls[0][0]).toBe('tmux has-session -t cc-task-task-1');\n 350:       expect(isRunning).toBe(true);\n 351:     });"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":415,"message":"Object is possibly 'undefined'.","snippet":"expect(mockExec.calls[0][0]).toBe('tmux list-sessions -F \"#{session_name}\"');","context":" 413: \n 414:       expect(mockExec.calls.length).toBe(1);\n>415:       expect(mockExec.calls[0][0]).toBe('tmux list-sessions -F \"#{session_name}\"');\n 416:       expect(sessions).toEqual(['1', '2']);\n 417:     });"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":499,"message":"Object is possibly 'undefined'.","snippet":"const call = mockExec.calls[0][0];","context":" 497:       });\n 498: \n>499:       const call = mockExec.calls[0][0];\n 500:       expect(call).toContain('Linear Issue: INT-456');\n 501:       expect(call).toContain('You MUST invoke: /linear INT-456');"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":529,"message":"Object is possibly 'undefined'.","snippet":"const call = mockExec.calls[0][0];","context":" 527: \n 528:       // Verify the prompt was truncated (extracted prompt should be much shorter than input)\n>529:       const call = mockExec.calls[0][0];\n 530:       // Extract prompt from command (between --system-prompt ' and ' --print)\n 531:       const promptStart = call.indexOf(\"--system-prompt '\") + 16;"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":566,"message":"Object is possibly 'undefined'.","snippet":"const call = mockExec.calls[0][0];","context":" 564: \n 565:       // Verify XML tags were removed\n>566:       const call = mockExec.calls[0][0];\n 567:       // Extract prompt from command\n 568:       const promptStart = call.indexOf(\"--system-prompt '\") + 16;"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":603,"message":"Object is possibly 'undefined'.","snippet":"const call = mockExec.calls[0][0];","context":" 601: \n 602:       // Verify keywords were removed from user prompt\n>603:       const call = mockExec.calls[0][0];\n 604:       // Extract prompt from command\n 605:       const promptStart = call.indexOf(\"--system-prompt '\") + 16;"},{"type":"typecheck","code":"TS2345","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":626,"message":"Argument of type 'string' is not assignable to parameter of type 'Error'.","snippet":"mockExec.mockRejectedValue('tmux command failed');","context":" 624:       const mockExec = createMockExec();\n 625:       // Throw a non-Error object (e.g., a string or null)\n>626:       mockExec.mockRejectedValue('tmux command failed');\n 627: \n 628:       const manager = new TmuxManager("},{"type":"typecheck","code":"TS2345","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":727,"message":"Argument of type '{ message: string; }' is not assignable to parameter of type 'Error'.","snippet":"mockExec.mockRejectedValue({ message: 'tmux failed' });","context":" 725:       const mockExec = createMockExec();\n 726:       // Force kill throws a non-Error object\n>727:       mockExec.mockRejectedValue({ message: 'tmux failed' });\n 728: \n 729:       const manager = new TmuxManager("},{"type":"typecheck","code":"TS2322","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":17,"message":"Type 'Mock<() => Promise<{ activeTask: null; completedTasks: never[]; pendingWebhooks: PendingWebhook[]; }>>' is not assignable to type '() => Promise<OrchestratorState>'.","snippet":"load: vi.fn((): Promise<typeof state> => Promise.resolve(JSON.parse(JSON.stringify(state)))),","context":" 15: \n 16:     return {\n>17:       load: vi.fn((): Promise<typeof state> => Promise.resolve(JSON.parse(JSON.stringify(state)))),\n 18:       save: vi.fn(async (newState: typeof state) => {\n 19:         Object.assign(state, newState);"},{"type":"typecheck","code":"TS2322","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":18,"message":"Type 'Mock<(newState: { activeTask: null; completedTasks: never[]; pendingWebhooks: PendingWebhook[]; }) => Promise<void>>' is not assignable to type '(state: OrchestratorState) => Promise<void>'.","snippet":"save: vi.fn(async (newState: typeof state) => {","context":" 16:     return {\n 17:       load: vi.fn((): Promise<typeof state> => Promise.resolve(JSON.parse(JSON.stringify(state)))),\n>18:       save: vi.fn(async (newState: typeof state) => {\n 19:         Object.assign(state, newState);\n 20:       }),"},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":73,"message":"'callArgs' is possibly 'undefined'.","snippet":"expect(callArgs[0]).toBe('https://example.com/webhook');","context":" 71: \n 72:       const callArgs = mockFetch.mock.calls[0];\n>73:       expect(callArgs[0]).toBe('https://example.com/webhook');\n 74:       expect(callArgs[1]?.method).toBe('POST');\n 75: "},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":74,"message":"'callArgs' is possibly 'undefined'.","snippet":"expect(callArgs[1]?.method).toBe('POST');","context":" 72:       const callArgs = mockFetch.mock.calls[0];\n 73:       expect(callArgs[0]).toBe('https://example.com/webhook');\n>74:       expect(callArgs[1]?.method).toBe('POST');\n 75: \n 76:       const headers = callArgs[1]?.headers;"},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":76,"message":"'callArgs' is possibly 'undefined'.","snippet":"const headers = callArgs[1]?.headers;","context":" 74:       expect(callArgs[1]?.method).toBe('POST');\n 75: \n>76:       const headers = callArgs[1]?.headers;\n 77:       expect(headers).toHaveProperty('Content-Type');\n 78:       expect(headers).toHaveProperty('X-Request-Timestamp');"},{"type":"typecheck","code":"TS2339","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":107,"message":"Property 'error' does not exist on type 'Result<void, WebhookError>'.","snippet":"expect(result.error.type).toBe('4xx');","context":" 105: \n 106:       expect(result.ok).toBe(false);\n>107:       expect(result.error.type).toBe('4xx');\n 108:       expect(mockFetch).toHaveBeenCalledTimes(1); // No retries\n 109:     });"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":206,"message":"Object is possibly 'undefined'.","snippet":"const firstSignature = mockFetch.mock.calls[0][1]?.headers?.['X-Request-Signature'];","context":" 204:       });\n 205: \n>206:       const firstSignature = mockFetch.mock.calls[0][1]?.headers?.['X-Request-Signature'];\n 207: \n 208:       // Send again with same data"},{"type":"typecheck","code":"TS2532","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":216,"message":"Object is possibly 'undefined'.","snippet":"const secondSignature = mockFetch.mock.calls[1][1]?.headers?.['X-Request-Signature'];","context":" 214:       });\n 215: \n>216:       const secondSignature = mockFetch.mock.calls[1][1]?.headers?.['X-Request-Signature'];\n 217: \n 218:       // Signatures should be the same (with same timestamp)"},{"type":"typecheck","code":"TS2339","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":255,"message":"Property 'error' does not exist on type 'Result<void, WebhookError>'.","snippet":"expect(resolved.error?.type).toBe('timeout');","context":" 253:       const resolved = await result;\n 254:       expect(resolved.ok).toBe(false);\n>255:       expect(resolved.error?.type).toBe('timeout');\n 256: \n 257:       vi.useRealTimers();"},{"type":"typecheck","code":"TS2339","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":287,"message":"Property 'error' does not exist on type 'Result<void, WebhookError>'.","snippet":"expect(resolved.error?.type).toBe('network');","context":" 285:       const resolved = await result;\n 286:       expect(resolved.ok).toBe(false);\n>287:       expect(resolved.error?.type).toBe('network');\n 288: \n 289:       vi.useRealTimers();"},{"type":"typecheck","code":"TS2339","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":323,"message":"Property 'error' does not exist on type 'Result<void, WebhookError>'.","snippet":"expect(resolved.error?.type).toBe('5xx');","context":" 321:       const resolved = await result;\n 322:       expect(resolved.ok).toBe(false);\n>323:       expect(resolved.error?.type).toBe('5xx');\n 324: \n 325:       vi.useRealTimers();"}]}
{"ts":"2026-01-26T05:43:41.283Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","workspace":"orchestrator","runNumber":7,"passed":false,"durationMs":2314,"failureCount":16,"failures":[{"type":"typecheck","code":"TS2345","file":"workers/orchestrator/src/__tests__/log-forwarder.test.ts","line":159,"message":"Argument of type '(resolve: () => void) => NodeJS.Timeout' is not assignable to parameter of type '(resolve: (value: unknown) => void, reject: (reason?: any) => void) => void'.","snippet":"await new Promise((resolve: () => void) => setTimeout(resolve, 200));","context":" 157:       writeFileSync(logFile, largeContent, 'utf-8');\n 158: \n>159:       await new Promise((resolve: () => void) => setTimeout(resolve, 200));\n 160: \n 161:       await forwarder.stopForwarding('task-truncate');"},{"type":"typecheck","code":"TS2322","file":"workers/orchestrator/src/__tests__/task-dispatcher.test.ts","line":37,"message":"Type '{ filePath: string; logger: { info: Mock<Procedure>; warn: Mock<Procedure>; error: Mock<Procedure>; debug: Mock<Procedure>; }; ... 4 more ...; emptyState: () => { ...; }; }' is not assignable to type 'StatePersistence'.","snippet":"return {","context":" 35:     };\n 36: \n>37:     return {\n 38:       filePath: '/tmp/state.json',\n 39:       logger: { info: vi.fn(), warn: vi.fn(), error: vi.fn(), debug: vi.fn() },"},{"type":"typecheck","code":"TS2339","file":"workers/orchestrator/src/__tests__/task-dispatcher.test.ts","line":600,"message":"Property 'status' does not exist on type '{}'.","snippet":"expect(['completed', 'failed']).toContain(payload?.status);","context":" 598:       if (!call) throw new Error('No webhook call');\n 599:       const payload = call[0]?.payload;\n>600:       expect(['completed', 'failed']).toContain(payload?.status);\n 601:     });\n 602:   });"},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":531,"message":"'call' is possibly 'undefined'.","snippet":"const promptStart = call.indexOf(\"--system-prompt '\") + 16;","context":" 529:       const call = mockExec.calls[0]?.[0];\n 530:       // Extract prompt from command (between --system-prompt ' and ' --print)\n>531:       const promptStart = call.indexOf(\"--system-prompt '\") + 16;\n 532:       const promptEnd = call.indexOf(\"' --print\", promptStart);\n 533:       if (promptStart > 16 && promptEnd > promptStart) {"},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":532,"message":"'call' is possibly 'undefined'.","snippet":"const promptEnd = call.indexOf(\"' --print\", promptStart);","context":" 530:       // Extract prompt from command (between --system-prompt ' and ' --print)\n 531:       const promptStart = call.indexOf(\"--system-prompt '\") + 16;\n>532:       const promptEnd = call.indexOf(\"' --print\", promptStart);\n 533:       if (promptStart > 16 && promptEnd > promptStart) {\n 534:         const promptInCall = call.slice(promptStart, promptEnd);"},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":534,"message":"'call' is possibly 'undefined'.","snippet":"const promptInCall = call.slice(promptStart, promptEnd);","context":" 532:       const promptEnd = call.indexOf(\"' --print\", promptStart);\n 533:       if (promptStart > 16 && promptEnd > promptStart) {\n>534:         const promptInCall = call.slice(promptStart, promptEnd);\n 535:         // The original prompt was 10000 characters, the extracted should be much less\n 536:         // Note: extracted prompt includes shell escaping, so length > 4000 is possible"},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":568,"message":"'call' is possibly 'undefined'.","snippet":"const promptStart = call.indexOf(\"--system-prompt '\") + 16;","context":" 566:       const call = mockExec.calls[0]?.[0];\n 567:       // Extract prompt from command\n>568:       const promptStart = call.indexOf(\"--system-prompt '\") + 16;\n 569:       const promptEnd = call.lastIndexOf(\"' --print\");\n 570:       expect(promptEnd).toBeGreaterThan(promptStart);"},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":569,"message":"'call' is possibly 'undefined'.","snippet":"const promptEnd = call.lastIndexOf(\"' --print\");","context":" 567:       // Extract prompt from command\n 568:       const promptStart = call.indexOf(\"--system-prompt '\") + 16;\n>569:       const promptEnd = call.lastIndexOf(\"' --print\");\n 570:       expect(promptEnd).toBeGreaterThan(promptStart);\n 571:       const prompt = call.slice(promptStart, promptEnd);"},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":571,"message":"'call' is possibly 'undefined'.","snippet":"const prompt = call.slice(promptStart, promptEnd);","context":" 569:       const promptEnd = call.lastIndexOf(\"' --print\");\n 570:       expect(promptEnd).toBeGreaterThan(promptStart);\n>571:       const prompt = call.slice(promptStart, promptEnd);\n 572:       expect(prompt).not.toContain('<script>');\n 573:       expect(prompt).not.toContain('</script>');"},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":605,"message":"'call' is possibly 'undefined'.","snippet":"const promptStart = call.indexOf(\"--system-prompt '\") + 16;","context":" 603:       const call = mockExec.calls[0]?.[0];\n 604:       // Extract prompt from command\n>605:       const promptStart = call.indexOf(\"--system-prompt '\") + 16;\n 606:       const promptEnd = call.lastIndexOf(\"' --print\");\n 607:       expect(promptEnd).toBeGreaterThan(promptStart);"},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":606,"message":"'call' is possibly 'undefined'.","snippet":"const promptEnd = call.lastIndexOf(\"' --print\");","context":" 604:       // Extract prompt from command\n 605:       const promptStart = call.indexOf(\"--system-prompt '\") + 16;\n>606:       const promptEnd = call.lastIndexOf(\"' --print\");\n 607:       expect(promptEnd).toBeGreaterThan(promptStart);\n 608:       const prompt = call.slice(promptStart, promptEnd);"},{"type":"typecheck","code":"TS18048","file":"workers/orchestrator/src/__tests__/tmux-manager.test.ts","line":608,"message":"'call' is possibly 'undefined'.","snippet":"const prompt = call.slice(promptStart, promptEnd);","context":" 606:       const promptEnd = call.lastIndexOf(\"' --print\");\n 607:       expect(promptEnd).toBeGreaterThan(promptStart);\n>608:       const prompt = call.slice(promptStart, promptEnd);\n 609: \n 610:       // Extract only the [TASK] section (user input)"},{"type":"typecheck","code":"TS2322","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":16,"message":"Type '{ filePath: string; logger: { info: Mock<Procedure>; warn: Mock<Procedure>; error: Mock<Procedure>; debug: Mock<Procedure>; }; ... 4 more ...; emptyState: () => { ...; }; }' is not assignable to type 'StatePersistence'.","snippet":"return {","context":" 14:     };\n 15: \n>16:     return {\n 17:       filePath: '/tmp/state.json',\n 18:       logger: { info: vi.fn(), warn: vi.fn(), error: vi.fn(), debug: vi.fn() },"},{"type":"typecheck","code":"TS2339","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":265,"message":"Property 'error' does not exist on type 'Result<void, WebhookError>'.","snippet":"expect(resolved.error?.type).toBe('timeout');","context":" 263:       const resolved = await result;\n 264:       expect(resolved.ok).toBe(false);\n>265:       expect(resolved.error?.type).toBe('timeout');\n 266: \n 267:       vi.useRealTimers();"},{"type":"typecheck","code":"TS2339","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":297,"message":"Property 'error' does not exist on type 'Result<void, WebhookError>'.","snippet":"expect(resolved.error?.type).toBe('network');","context":" 295:       const resolved = await result;\n 296:       expect(resolved.ok).toBe(false);\n>297:       expect(resolved.error?.type).toBe('network');\n 298: \n 299:       vi.useRealTimers();"},{"type":"typecheck","code":"TS2339","file":"workers/orchestrator/src/__tests__/webhook-client.test.ts","line":333,"message":"Property 'error' does not exist on type 'Result<void, WebhookError>'.","snippet":"expect(resolved.error?.type).toBe('5xx');","context":" 331:       const resolved = await result;\n 332:       expect(resolved.ok).toBe(false);\n>333:       expect(resolved.error?.type).toBe('5xx');\n 334: \n 335:       vi.useRealTimers();"}]}
{"ts":"2026-01-26T05:47:41.200Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","workspace":"orchestrator","runNumber":8,"passed":true,"durationMs":82390,"failureCount":0,"failures":[]}
{"ts":"2026-01-26T05:54:49.672Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":9,"passed":false,"durationMs":136801,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T06:23:05.024Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":10,"passed":false,"durationMs":135508,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T06:30:17.792Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":11,"passed":false,"durationMs":136208,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T06:36:32.669Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","workspace":"--","runNumber":12,"passed":false,"durationMs":12,"failureCount":0,"failures":[]}
{"ts":"2026-01-26T06:36:38.095Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","workspace":"--","runNumber":13,"passed":false,"durationMs":12,"failureCount":0,"failures":[]}
{"ts":"2026-01-26T06:43:07.083Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":14,"passed":false,"durationMs":135896,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T06:49:00.114Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":15,"passed":false,"durationMs":135574,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T06:54:27.247Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":16,"passed":false,"durationMs":136221,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T07:14:23.191Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":17,"passed":false,"durationMs":135707,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T07:19:27.754Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":18,"passed":false,"durationMs":135646,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T07:23:42.226Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":19,"passed":false,"durationMs":136318,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T07:28:10.510Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":20,"passed":false,"durationMs":135271,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T07:36:25.394Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":21,"passed":false,"durationMs":136183,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T07:50:14.065Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":22,"passed":false,"durationMs":54833,"failureCount":2,"failures":[{"type":"typecheck","code":"TS6133","file":"apps/actions-agent/src/__tests__/fakes.ts","line":69,"message":"'pino' is declared but its value is never read.","snippet":"import pino, { type Logger } from 'pino';","context":" 67: } from '@intexuraos/infra-pubsub';\n 68: import type { ActionEventPublisher } from '../infra/pubsub/index.js';\n>69: import pino, { type Logger } from 'pino';\n 70: import { vi } from 'vitest';\n 71: "},{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T07:53:00.220Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":23,"passed":false,"durationMs":135503,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T08:02:10.476Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":24,"passed":false,"durationMs":134957,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T08:31:08.077Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":25,"passed":false,"durationMs":136305,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T08:51:04.838Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":26,"passed":false,"durationMs":136772,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T09:10:24.586Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":27,"passed":false,"durationMs":15542,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T09:34:24.618Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":28,"passed":false,"durationMs":16445,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T11:54:40.504Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":29,"passed":false,"durationMs":15552,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
{"ts":"2026-01-26T13:09:10.059Z","project":"intexuraos-2","branch":"feature/INT-323-orchestrator-coverage","runNumber":30,"passed":false,"durationMs":18786,"failureCount":1,"failures":[{"type":"verify","code":"VERIFY_FAIL","file":"unknown","line":0,"message":"FAILED","snippet":null,"context":null}]}
